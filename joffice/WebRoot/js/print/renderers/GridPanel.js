Ext.ux.Printer.GridPanelRenderer=Ext.extend(Ext.ux.Printer.BaseRenderer,{generateBody:function(c){var b=this.getColumns(c);var d=this.headerTpl.apply(b);var a=this.bodyTpl.apply(b);return String.format('<table>{0}<tpl for=".">{1}</tpl></table>',d,a);},prepareData:function(b){var a=this.getColumns(b);var c=[];b.store.data.each(function(d){var e={};Ext.iterate(d.data,function(f,g){Ext.each(a,function(h){if(h.dataIndex==f){e[f]=h.renderer?h.renderer(g,null,d):g;return false;}},this);});c.push(e);});return c;},getColumns:function(b){var a=[];Ext.each(b.getColumnModel().config,function(c){if(c.exprint||(c.hidden!=true&&c.header!="管理"&&c.id!="numberer"&&c.id!="checker")){a.push(c);}},this);return a;},headerTpl:new Ext.XTemplate("<tr>",'<tpl for=".">',"<th>{header}</th>","</tpl>","</tr>"),bodyTpl:new Ext.XTemplate("<tr>",'<tpl for=".">',"<td>{{dataIndex}}</td>","</tpl>","</tr>")});Ext.ux.Printer.registerRenderer("grid",Ext.ux.Printer.GridPanelRenderer);