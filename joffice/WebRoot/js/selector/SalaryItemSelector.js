var SalaryItemSelector={getView:function(i,a,d){var c=null;if(d){var c=new Ext.grid.CheckboxSelectionModel({singleSelect:true});}else{c=new Ext.grid.CheckboxSelectionModel();}var h=new Ext.grid.ColumnModel({columns:[c,new Ext.grid.RowNumberer(),{header:"salaryItemId",dataIndex:"salaryItemId",hidden:true},{header:"薪资项名称",dataIndex:"itemName"},{header:"缺省值",dataIndex:"defaultVal",renderer:function(j){return'<img src="'+__ctxPath+'/images/flag/customer/rmb.png"/>'+j;}}]});var g=new Ext.data.Store({proxy:new Ext.data.HttpProxy({url:__ctxPath+"/hrm/listSalaryItem.do?exclude="+a}),reader:new Ext.data.JsonReader({root:"result",totalProperty:"totalCounts",id:"id",fields:[{name:"salaryItemId",type:"int"},"itemName","defaultVal"]}),remoteSort:true});var e=new Ext.grid.GridPanel({id:"SalaryItemSelectorGrid",width:400,height:300,region:"center",title:"薪酬项目列表",store:g,shim:true,trackMouseOver:true,disableSelection:false,loadMask:true,cm:h,sm:c,viewConfig:{forceFit:true,enableRowBody:false,showPreview:false},bbar:new Ext.PagingToolbar({pageSize:25,store:g,displayInfo:true,displayMsg:"当前显示从{0}至{1}， 共{2}条记录",emptyMsg:"当前没有记录"})});g.load({params:{start:0,limit:25}});var b=new Ext.FormPanel({width:400,region:"north",id:"SalaryItemSelectorForm",height:40,frame:false,border:false,layout:"hbox",layoutConfig:{padding:"5",align:"middle"},defaults:{xtype:"label",margins:{top:0,right:4,bottom:4,left:4}},items:[{text:"查询条件:"},{text:"工资项名称"},{xtype:"textfield",width:80,name:"Q_itemName_S_LK"},{text:"缺省值"},{xtype:"textfield",width:80,name:"Q_defaultVal_S_LK"},{xtype:"button",text:"查询",iconCls:"search",handler:function(){var j=Ext.getCmp("SalaryItemSelectorForm");var k=Ext.getCmp("SalaryItemSelectorGrid");if(j.getForm().isValid()){j.getForm().submit({waitMsg:"正在提交查询",url:__ctxPath+"/hrm/listSalaryItem.do",success:function(m,n){var l=Ext.util.JSON.decode(n.response.responseText);k.getStore().loadData(l);}});}}}]});var f=new Ext.Window({title:"薪酬项目选择",iconCls:"menu-salary",width:430,height:380,layout:"border",border:false,items:[b,e],modal:true,buttonAlign:"center",buttons:[{iconCls:"btn-ok",text:"确定",handler:function(){var l=Ext.getCmp("SalaryItemSelectorGrid");var n=l.getSelectionModel().getSelections();var j="";var m="";var o="";for(var k=0;k<n.length;k++){if(k>0){j+=",";m+=",";o+=",";}j+=n[k].data.salaryItemId;m+=n[k].data.itemName;o+=n[k].data.defaultVal;}if(i!=null){i.call(this,j,m,o);}f.close();}},{text:"取消",iconCls:"btn-cancel",handler:function(){f.close();}}]});return f;}};