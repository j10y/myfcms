var MailFolderForm=function(a,d){this.folderId=a;this.parentId=d;var b=this.setup();var c=new Ext.Window({id:"MailFolderFormWin",title:"邮件文件夹详细信息",iconCls:"menu-mail_folder",width:300,height:160,modal:true,minWidth:200,minHeight:100,layout:"anchor",plain:true,bodyStyle:"padding:5px;",buttonAlign:"center",items:[this.setup()],buttons:[{text:"保存",handler:function(){var e=Ext.getCmp("MailFolderForm");if(e.getForm().isValid()){e.getForm().submit({method:"post",waitMsg:"正在提交数据...",success:function(f,g){Ext.ux.Toast.msg("操作信息","成功信息保存！");Ext.getCmp("leftMailBoxTree").root.reload();c.close();},failure:function(f,g){Ext.MessageBox.show({title:"操作信息",msg:"信息保存出错，请联系管理员！",buttons:Ext.MessageBox.OK,icon:"ext-mb-error"});c.close();}});}}},{text:"取消",handler:function(){c.close();}}]});c.show();};MailFolderForm.prototype.setup=function(){var a=new Ext.FormPanel({url:__ctxPath+"/communicate/saveMailFolder.do",layout:"form",id:"MailFolderForm",frame:true,defaults:{widht:300,anchor:"100%,100%"},formId:"MailFolderFormId",defaultType:"textfield",items:[{name:"mailFolder.folderId",id:"folderId",xtype:"hidden",value:this.folderId==null?"":this.folderId},{fieldLabel:"父目录",name:"mailFolder.parentId",xtype:"hidden",id:"parentId",value:this.parentId==null?"":this.parentId},{fieldLabel:"文件夹名称",name:"mailFolder.folderName",id:"folderName"},{fieldLabel:"是否共享",name:"mailFolder.isPublic",id:"isPublic",xtype:"hidden",value:0}]});if(this.folderId!=null&&this.folderId!="undefined"){a.getForm().load({deferredRender:false,url:__ctxPath+"/communicate/getMailFolder.do?folderId="+this.folderId,waitMsg:"正在载入数据...",success:function(b,c){},failure:function(b,c){Ext.ux.Toast.msg("编辑","载入失败");}});}return a;};