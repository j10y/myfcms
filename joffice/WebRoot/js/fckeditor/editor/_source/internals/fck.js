var FCK={Name:FCKURLParams["InstanceName"],Status:FCK_STATUS_NOTLOADED,EditMode:FCK_EDITMODE_WYSIWYG,Toolbar:null,HasFocus:false,DataProcessor:new FCKDataProcessor(),GetInstanceObject:(function(){var a=window;return function(b){return a[b];};})(),AttachToOnSelectionChange:function(a){this.Events.AttachEvent("OnSelectionChange",a);},GetLinkedFieldValue:function(){return this.LinkedField.value;},GetParentForm:function(){return this.LinkedField.form;},StartupValue:"",IsDirty:function(){if(this.EditMode==FCK_EDITMODE_SOURCE){return(this.StartupValue!=this.EditingArea.Textarea.value);}else{if(!this.EditorDocument){return false;}return(this.StartupValue!=this.EditorDocument.body.innerHTML);}},ResetIsDirty:function(){if(this.EditMode==FCK_EDITMODE_SOURCE){this.StartupValue=this.EditingArea.Textarea.value;}else{if(this.EditorDocument.body){this.StartupValue=this.EditorDocument.body.innerHTML;}}},StartEditor:function(){this.TempBaseTag=FCKConfig.BaseHref.length>0?'<base href="'+FCKConfig.BaseHref+'" _fcktemp="true"></base>':"";var a=FCK.KeystrokeHandler=new FCKKeystrokeHandler();a.OnKeystroke=_FCK_KeystrokeHandler_OnKeystroke;a.SetKeystrokes(FCKConfig.Keystrokes);if(FCKBrowserInfo.IsIE7){if((CTRL+86) in a.Keystrokes){a.SetKeystrokes([CTRL+86,true]);}if((SHIFT+45) in a.Keystrokes){a.SetKeystrokes([SHIFT+45,true]);}}a.SetKeystrokes([CTRL+8,true]);this.EditingArea=new FCKEditingArea(document.getElementById("xEditingArea"));this.EditingArea.FFSpellChecker=FCKConfig.FirefoxSpellChecker;this.SetData(this.GetLinkedFieldValue(),true);FCKTools.AddEventListener(document,"keydown",this._TabKeyHandler);this.AttachToOnSelectionChange(_FCK_PaddingNodeListener);if(FCKBrowserInfo.IsGecko){this.AttachToOnSelectionChange(this._ExecCheckEmptyBlock);}},Focus:function(){FCK.EditingArea.Focus();},SetStatus:function(a){this.Status=a;if(a==FCK_STATUS_ACTIVE){FCKFocusManager.AddWindow(window,true);if(FCKBrowserInfo.IsIE){FCKFocusManager.AddWindow(window.frameElement,true);}if(FCKConfig.StartupFocus){FCK.Focus();}}this.Events.FireEvent("OnStatusChange",a);},FixBody:function(){var g=FCKConfig.EnterMode;if(g!="p"&&g!="div"){return;}var c=this.EditorDocument;if(!c){return;}var b=c.body;if(!b){return;}FCKDomTools.TrimNode(b);var f=b.firstChild;var a;while(f){var d=false;switch(f.nodeType){case 1:var h=f.nodeName.toLowerCase();if(!FCKListsLib.BlockElements[h]&&h!="li"&&!f.getAttribute("_fckfakelement")&&f.getAttribute("_moz_dirty")==null){d=true;}break;case 3:if(a||f.nodeValue.Trim().length>0){d=true;}break;case 8:if(a){d=true;}break;}if(d){var e=f.parentNode;if(!a){a=e.insertBefore(c.createElement(g),f);}a.appendChild(e.removeChild(f));f=a.nextSibling;}else{if(a){FCKDomTools.TrimNode(a);a=null;}f=f.nextSibling;}}if(a){FCKDomTools.TrimNode(a);}},GetData:function(d){FCK.Events.FireEvent("OnBeforeGetData");if(FCK.EditMode==FCK_EDITMODE_SOURCE){return FCK.EditingArea.Textarea.value;}this.FixBody();var b=FCK.EditorDocument;if(!b){return null;}var a=FCKConfig.FullPage;var c=FCK.DataProcessor.ConvertToDataFormat(a?b.documentElement:b.body,!a,FCKConfig.IgnoreEmptyParagraphValue,d);c=FCK.ProtectEventsRestore(c);if(FCKBrowserInfo.IsIE){c=c.replace(FCKRegexLib.ToReplace,"$1");}if(a){if(FCK.DocTypeDeclaration&&FCK.DocTypeDeclaration.length>0){c=FCK.DocTypeDeclaration+"\n"+c;}if(FCK.XmlDeclaration&&FCK.XmlDeclaration.length>0){c=FCK.XmlDeclaration+"\n"+c;}}c=FCKConfig.ProtectedSource.Revert(c);setTimeout(function(){FCK.Events.FireEvent("OnAfterGetData");},0);return c;},UpdateLinkedField:function(){var a=FCK.GetXHTML(FCKConfig.FormatOutput);if(FCKConfig.HtmlEncodeOutput){a=FCKTools.HTMLEncode(a);}FCK.LinkedField.value=a;FCK.Events.FireEvent("OnAfterLinkedFieldUpdate");},RegisteredDoubleClickHandlers:new Object(),OnDoubleClick:function(c){var a=FCK.RegisteredDoubleClickHandlers[c.tagName.toUpperCase()];if(a){for(var b=0;b<a.length;b++){a[b](c);}}a=FCK.RegisteredDoubleClickHandlers["*"];if(a){for(var b=0;b<a.length;b++){a[b](c);}}},RegisterDoubleClickHandler:function(c,a){var d=a||"*";d=d.toUpperCase();var b;if(!(b=FCK.RegisteredDoubleClickHandlers[d])){FCK.RegisteredDoubleClickHandlers[d]=[c];}else{if(b.IndexOf(c)==-1){b.push(c);}}},OnAfterSetHTML:function(){FCKDocumentProcessor.Process(FCK.EditorDocument);FCKUndo.SaveUndoStep();FCK.Events.FireEvent("OnSelectionChange");FCK.Events.FireEvent("OnAfterSetHTML");},ProtectUrls:function(a){a=a.replace(FCKRegexLib.ProtectUrlsA,"$& _fcksavedurl=$1");a=a.replace(FCKRegexLib.ProtectUrlsImg,"$& _fcksavedurl=$1");a=a.replace(FCKRegexLib.ProtectUrlsArea,"$& _fcksavedurl=$1");return a;},ProtectEvents:function(a){return a.replace(FCKRegexLib.TagsWithEvent,_FCK_ProtectEvents_ReplaceTags);},ProtectEventsRestore:function(a){return a.replace(FCKRegexLib.ProtectedEvents,_FCK_ProtectEvents_RestoreEvents);},ProtectTags:function(b){var c=FCKConfig.ProtectedTags;if(FCKBrowserInfo.IsIE){c+=c.length>0?"|ABBR|XML|EMBED|OBJECT":"ABBR|XML|EMBED|OBJECT";}var a;if(c.length>0){a=new RegExp("<("+c+")(?!w|:)","gi");b=b.replace(a,"<FCK:$1");a=new RegExp("</("+c+")>","gi");b=b.replace(a,"</FCK:$1>");}c="META";if(FCKBrowserInfo.IsIE){c+="|HR";}a=new RegExp("<(("+c+")(?=\\s|>|/)[\\s\\S]*?)/?>","gi");b=b.replace(a,"<FCK:$1 />");return b;},SetData:function(c,a){this.EditingArea.Mode=FCK.EditMode;if(FCKBrowserInfo.IsIE&&FCK.EditorDocument){FCK.EditorDocument.detachEvent("onselectionchange",Doc_OnSelectionChange);}FCKTempBin.Reset();FCK.Selection.Release();if(FCK.EditMode==FCK_EDITMODE_WYSIWYG){this._ForceResetIsDirty=(a===true);c=FCKConfig.ProtectedSource.Protect(c);c=FCK.DataProcessor.ConvertToHtml(c);c=c.replace(FCKRegexLib.InvalidSelfCloseTags,"$1></$2>");c=FCK.ProtectEvents(c);c=FCK.ProtectUrls(c);c=FCK.ProtectTags(c);if(FCK.TempBaseTag.length>0&&!FCKRegexLib.HasBaseTag.test(c)){c=c.replace(FCKRegexLib.HeadOpener,"$&"+FCK.TempBaseTag);}var b="";if(!FCKConfig.FullPage){b+=_FCK_GetEditorAreaStyleTags();}if(FCKBrowserInfo.IsIE){b+=FCK._GetBehaviorsStyle();}else{if(FCKConfig.ShowBorders){b+=FCKTools.GetStyleHtml(FCK_ShowTableBordersCSS,true);}}b+=FCKTools.GetStyleHtml(FCK_InternalCSS,true);c=c.replace(FCKRegexLib.HeadCloser,b+"$&");this.EditingArea.OnLoad=_FCK_EditingArea_OnLoad;this.EditingArea.Start(c);}else{FCK.EditorWindow=null;FCK.EditorDocument=null;FCKDomTools.PaddingNode=null;this.EditingArea.OnLoad=null;this.EditingArea.Start(c);this.EditingArea.Textarea._FCKShowContextMenu=true;FCK.EnterKeyHandler=null;if(a){this.ResetIsDirty();}FCK.KeystrokeHandler.AttachToElement(this.EditingArea.Textarea);this.EditingArea.Textarea.focus();FCK.Events.FireEvent("OnAfterSetHTML");}if(window.onresize){window.onresize();}},RedirectNamedCommands:new Object(),ExecuteNamedCommand:function(b,c,a,d){if(!d){FCKUndo.SaveUndoStep();}if(!a&&FCK.RedirectNamedCommands[b]!=null){FCK.ExecuteRedirectedNamedCommand(b,c);}else{FCK.Focus();FCK.EditorDocument.execCommand(b,false,c);FCK.Events.FireEvent("OnSelectionChange");}if(!d){FCKUndo.SaveUndoStep();}},GetNamedCommandState:function(a){try{if(FCKBrowserInfo.IsSafari&&FCK.EditorWindow&&a.IEquals("Paste")){return FCK_TRISTATE_OFF;}if(!FCK.EditorDocument.queryCommandEnabled(a)){return FCK_TRISTATE_DISABLED;}else{return FCK.EditorDocument.queryCommandState(a)?FCK_TRISTATE_ON:FCK_TRISTATE_OFF;}}catch(b){return FCK_TRISTATE_OFF;}},GetNamedCommandValue:function(b){var d="";var a=FCK.GetNamedCommandState(b);if(a==FCK_TRISTATE_DISABLED){return null;}try{d=this.EditorDocument.queryCommandValue(b);}catch(c){}return d?d:"";},Paste:function(a){if(FCK.Status!=FCK_STATUS_COMPLETE||!FCK.Events.FireEvent("OnPaste")){return false;}return a||FCK._ExecPaste();},PasteFromWord:function(){FCKDialog.OpenDialog("FCKDialog_Paste",FCKLang.PasteFromWord,"dialog/fck_paste.html",400,330,"Word");},Preview:function(){var c;if(FCKConfig.FullPage){if(FCK.TempBaseTag.length>0){c=FCK.TempBaseTag+FCK.GetXHTML();}else{c=FCK.GetXHTML();}}else{c=FCKConfig.DocType+'<html dir="'+FCKConfig.ContentLangDirection+'">'+"<head>"+FCK.TempBaseTag+"<title>"+FCKLang.Preview+"</title>"+_FCK_GetEditorAreaStyleTags()+"</head><body"+FCKConfig.GetBodyAttributes()+">"+FCK.GetXHTML()+"</body></html>";}var d=FCKConfig.ScreenWidth*0.8;var f=FCKConfig.ScreenHeight*0.7;var e=(FCKConfig.ScreenWidth-d)/2;var b="";if(FCK_IS_CUSTOM_DOMAIN&&FCKBrowserInfo.IsIE){window._FCKHtmlToLoad=c;b="javascript:void( (function(){"+"document.open() ;"+'document.domain="'+document.domain+'" ;'+"document.write( window.opener._FCKHtmlToLoad );"+"document.close() ;"+"window.opener._FCKHtmlToLoad = null ;"+"})() )";}var a=window.open(b,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+d+",height="+f+",left="+e);if(!FCK_IS_CUSTOM_DOMAIN||!FCKBrowserInfo.IsIE){a.document.write(c);a.document.close();}},SwitchEditMode:function(b){var c=(FCK.EditMode==FCK_EDITMODE_WYSIWYG);var a=FCK.IsDirty();var d;if(c){FCKCommands.GetCommand("ShowBlocks").SaveState();if(!b&&FCKBrowserInfo.IsIE){FCKUndo.SaveUndoStep();}d=FCK.GetXHTML(FCKConfig.FormatSource);if(FCKBrowserInfo.IsIE){FCKTempBin.ToHtml();}if(d==null){return false;}}else{d=this.EditingArea.Textarea.value;}FCK.EditMode=c?FCK_EDITMODE_SOURCE:FCK_EDITMODE_WYSIWYG;FCK.SetData(d,!a);FCK.Focus();FCKTools.RunFunction(FCK.ToolbarSet.RefreshModeState,FCK.ToolbarSet);return true;},InsertElement:function(c){if(typeof c=="string"){c=this.EditorDocument.createElement(c);}var a=c.nodeName.toLowerCase();FCKSelection.Restore();var b=new FCKDomRange(this.EditorWindow);b.MoveToSelection();b.DeleteContents();if(FCKListsLib.BlockElements[a]!=null){if(b.StartBlock){if(b.CheckStartOfBlock()){b.MoveToPosition(b.StartBlock,3);}else{if(b.CheckEndOfBlock()){b.MoveToPosition(b.StartBlock,4);}else{b.SplitBlock();}}}b.InsertNode(c);var d=FCKDomTools.GetNextSourceElement(c,false,null,["hr","br","param","img","area","input"],true);if(!d&&FCKConfig.EnterMode!="br"){d=this.EditorDocument.body.appendChild(this.EditorDocument.createElement(FCKConfig.EnterMode));if(FCKBrowserInfo.IsGeckoLike){FCKTools.AppendBogusBr(d);}}if(FCKListsLib.EmptyElements[a]==null){b.MoveToElementEditStart(c);}else{if(d){b.MoveToElementEditStart(d);}else{b.MoveToPosition(c,4);}}if(FCKBrowserInfo.IsGeckoLike){if(d){FCKDomTools.ScrollIntoView(d,false);}FCKDomTools.ScrollIntoView(c,false);}}else{b.InsertNode(c);b.SetStart(c,4);b.SetEnd(c,4);}b.Select();b.Release();this.Focus();return c;},_InsertBlockElement:function(a){},_IsFunctionKey:function(a){if(a>=16&&a<=20){return true;}if(a==27||(a>=33&&a<=40)){return true;}if(a==45){return true;}return false;},_KeyDownListener:function(a){if(!a){a=FCK.EditorWindow.event;}if(FCK.EditorWindow){if(!FCK._IsFunctionKey(a.keyCode)&&!(a.ctrlKey||a.metaKey)&&!(a.keyCode==46)){FCK._KeyDownUndo();}}return true;},_KeyDownUndo:function(){if(!FCKUndo.Typing){FCKUndo.SaveUndoStep();FCKUndo.Typing=true;FCK.Events.FireEvent("OnSelectionChange");}FCKUndo.TypesCount++;FCKUndo.Changed=1;if(FCKUndo.TypesCount>FCKUndo.MaxTypes){FCKUndo.TypesCount=0;FCKUndo.SaveUndoStep();}},_TabKeyHandler:function(d){if(!d){d=window.event;}var g=d.keyCode;if(g==9&&FCK.EditMode!=FCK_EDITMODE_WYSIWYG){if(FCKBrowserInfo.IsIE){var e=document.selection.createRange();if(e.parentElement()!=FCK.EditingArea.Textarea){return true;}e.text="\t";e.select();}else{var c=[];var f=FCK.EditingArea.Textarea;var h=f.selectionStart;var b=f.selectionEnd;c.push(f.value.substr(0,h));c.push("\t");c.push(f.value.substr(b));f.value=c.join("");f.setSelectionRange(h+1,h+1);}if(d.preventDefault){return d.preventDefault();}return d.returnValue=false;}return true;}};FCK.Events=new FCKEvents(FCK);FCK.GetHTML=FCK.GetXHTML=FCK.GetData;FCK.SetHTML=FCK.SetData;FCK.InsertElementAndGetIt=FCK.CreateElement=FCK.InsertElement;function _FCK_ProtectEvents_ReplaceTags(a){return a.replace(FCKRegexLib.EventAttributes,_FCK_ProtectEvents_ReplaceEvents);}function _FCK_ProtectEvents_ReplaceEvents(a,b){return" "+b+'_fckprotectedatt="'+encodeURIComponent(a)+'"';}function _FCK_ProtectEvents_RestoreEvents(a,b){return decodeURIComponent(b);}function _FCK_MouseEventsListener(a){if(!a){a=window.event;}if(a.type=="mousedown"){FCK.MouseDownFlag=true;}else{if(a.type=="mouseup"){FCK.MouseDownFlag=false;}else{if(a.type=="mousemove"){FCK.Events.FireEvent("OnMouseMove",a);}}}}function _FCK_PaddingNodeListener(){if(FCKConfig.EnterMode.IEquals("br")){return;}FCKDomTools.EnforcePaddingNode(FCK.EditorDocument,FCKConfig.EnterMode);if(!FCKBrowserInfo.IsIE&&FCKDomTools.PaddingNode){var e=FCKSelection.GetSelection();if(e&&e.rangeCount==1){var c=e.getRangeAt(0);if(c.collapsed&&c.startContainer==FCK.EditorDocument.body&&c.startOffset==0){c.selectNodeContents(FCKDomTools.PaddingNode);c.collapse(true);e.removeAllRanges();e.addRange(c);}}}else{if(FCKDomTools.PaddingNode){var b=FCKSelection.GetParentElement();var a=FCKDomTools.PaddingNode;if(b&&b.nodeName.IEquals("body")){if(FCK.EditorDocument.body.childNodes.length==1&&FCK.EditorDocument.body.firstChild==a){if(FCKSelection._GetSelectionDocument(FCK.EditorDocument.selection)!=FCK.EditorDocument){return;}var c=FCK.EditorDocument.body.createTextRange();var d=false;if(!a.childNodes.firstChild){a.appendChild(FCKTools.GetElementDocument(a).createTextNode("\ufeff"));d=true;}c.moveToElementText(a);c.select();if(d){c.pasteHTML("");}}}}}}function _FCK_EditingArea_OnLoad(){FCK.EditorWindow=FCK.EditingArea.Window;FCK.EditorDocument=FCK.EditingArea.Document;if(FCKBrowserInfo.IsIE){FCKTempBin.ToElements();}FCK.InitializeBehaviors();FCK.MouseDownFlag=false;FCKTools.AddEventListener(FCK.EditorDocument,"mousemove",_FCK_MouseEventsListener);FCKTools.AddEventListener(FCK.EditorDocument,"mousedown",_FCK_MouseEventsListener);FCKTools.AddEventListener(FCK.EditorDocument,"mouseup",_FCK_MouseEventsListener);if(FCKBrowserInfo.IsSafari){FCKTools.AddEventListener(FCK.EditorDocument,"paste",function(b){var c=new FCKDomRange(FCK.EditorWindow);var d=FCK.EditorDocument.createTextNode("\ufeff");var e=FCK.EditorDocument.createElement("a");e.id="fck_paste_padding";e.innerHTML="&#65279;";c.MoveToSelection();c.DeleteContents();c.InsertNode(d);c.Collapse();c.InsertNode(e);c.MoveToPosition(e,3);c.Select();setTimeout(function(){d.parentNode.removeChild(d);e=FCK.EditorDocument.getElementById("fck_paste_padding");e.parentNode.removeChild(e);},0);});}if(FCKBrowserInfo.IsSafari){var a=function(b){if(!(b.ctrlKey||b.metaKey)){return;}if(FCK.EditMode!=FCK_EDITMODE_WYSIWYG){return;}switch(b.keyCode){case 89:FCKUndo.Redo();break;case 90:FCKUndo.Undo();break;}};FCKTools.AddEventListener(FCK.EditorDocument,"keyup",a);}FCK.EnterKeyHandler=new FCKEnterKey(FCK.EditorWindow,FCKConfig.EnterMode,FCKConfig.ShiftEnterMode,FCKConfig.TabSpaces);FCK.KeystrokeHandler.AttachToElement(FCK.EditorDocument);if(FCK._ForceResetIsDirty){FCK.ResetIsDirty();}if(FCKBrowserInfo.IsIE&&FCK.HasFocus){FCK.EditorDocument.body.setActive();}FCK.OnAfterSetHTML();FCKCommands.GetCommand("ShowBlocks").RestoreState();if(FCK.Status!=FCK_STATUS_NOTLOADED){return;}FCK.SetStatus(FCK_STATUS_ACTIVE);}function _FCK_GetEditorAreaStyleTags(){return FCKTools.GetStyleHtml(FCKConfig.EditorAreaCSS)+FCKTools.GetStyleHtml(FCKConfig.EditorAreaStyles);}function _FCK_KeystrokeHandler_OnKeystroke(b,a){if(FCK.Status!=FCK_STATUS_COMPLETE){return false;}if(FCK.EditMode==FCK_EDITMODE_WYSIWYG){switch(a){case"Paste":return !FCK.Paste();case"Cut":FCKUndo.SaveUndoStep();return false;}}else{if(a.Equals("Paste","Undo","Redo","SelectAll","Cut")){return false;}}var c=FCK.Commands.GetCommand(a);if(c.GetState()==FCK_TRISTATE_DISABLED){return false;}return(c.Execute.apply(c,FCKTools.ArgumentsToArray(arguments,2))!==false);}(function(){var a=window.parent.document;var c=a.getElementById(FCK.Name);var b=0;while(c||b==0){if(c&&c.tagName.toLowerCase().Equals("input","textarea")){FCK.LinkedField=c;break;}c=a.getElementsByName(FCK.Name)[b++];}})();var FCKTempBin={Elements:new Array(),AddElement:function(a){var b=this.Elements.length;this.Elements[b]=a;return b;},RemoveElement:function(a){var b=this.Elements[a];this.Elements[a]=null;return b;},Reset:function(){var a=0;while(a<this.Elements.length){this.Elements[a++]=null;}this.Elements.length=0;},ToHtml:function(){for(var a=0;a<this.Elements.length;a++){this.Elements[a]="<div>&nbsp;"+this.Elements[a].outerHTML+"</div>";this.Elements[a].isHtml=true;}},ToElements:function(){var b=FCK.EditorDocument.createElement("div");for(var a=0;a<this.Elements.length;a++){if(this.Elements[a].isHtml){b.innerHTML=this.Elements[a];this.Elements[a]=b.firstChild.removeChild(b.firstChild.lastChild);}}}};var FCKFocusManager=FCK.FocusManager={IsLocked:false,AddWindow:function(c,b){var a;if(FCKBrowserInfo.IsIE){a=c.nodeType==1?c:c.frameElement?c.frameElement:c.document;}else{if(FCKBrowserInfo.IsSafari){a=c;}else{a=c.document;}}FCKTools.AddEventListener(a,"blur",FCKFocusManager_Win_OnBlur);FCKTools.AddEventListener(a,"focus",b?FCKFocusManager_Win_OnFocus_Area:FCKFocusManager_Win_OnFocus);},RemoveWindow:function(a){if(FCKBrowserInfo.IsIE){oTarget=a.nodeType==1?a:a.frameElement?a.frameElement:a.document;}else{oTarget=a.document;}FCKTools.RemoveEventListener(oTarget,"blur",FCKFocusManager_Win_OnBlur);FCKTools.RemoveEventListener(oTarget,"focus",FCKFocusManager_Win_OnFocus_Area);FCKTools.RemoveEventListener(oTarget,"focus",FCKFocusManager_Win_OnFocus);},Lock:function(){this.IsLocked=true;},Unlock:function(){if(this._HasPendingBlur){FCKFocusManager._Timer=window.setTimeout(FCKFocusManager_FireOnBlur,100);}this.IsLocked=false;},_ResetTimer:function(){this._HasPendingBlur=false;if(this._Timer){window.clearTimeout(this._Timer);delete this._Timer;}}};function FCKFocusManager_Win_OnBlur(){if(typeof(FCK)!="undefined"&&FCK.HasFocus){FCKFocusManager._ResetTimer();FCKFocusManager._Timer=window.setTimeout(FCKFocusManager_FireOnBlur,100);}}function FCKFocusManager_FireOnBlur(){if(FCKFocusManager.IsLocked){FCKFocusManager._HasPendingBlur=true;}else{FCK.HasFocus=false;FCK.Events.FireEvent("OnBlur");}}function FCKFocusManager_Win_OnFocus_Area(){if(FCKFocusManager._IsFocusing){return;}FCKFocusManager._IsFocusing=true;FCK.Focus();FCKFocusManager_Win_OnFocus();FCKTools.RunFunction(function(){delete FCKFocusManager._IsFocusing;});}function FCKFocusManager_Win_OnFocus(){FCKFocusManager._ResetTimer();if(!FCK.HasFocus&&!FCKFocusManager.IsLocked){FCK.HasFocus=true;FCK.Events.FireEvent("OnFocus");}}(function(){var d=window.frameElement;var c=d.width;var a=d.height;if(/^\d+$/.test(c)){c+="px";}if(/^\d+$/.test(a)){a+="px";}var b=d.style;b.border=b.padding=b.margin=0;b.backgroundColor="transparent";b.backgroundImage="none";b.width=c;b.height=a;})();