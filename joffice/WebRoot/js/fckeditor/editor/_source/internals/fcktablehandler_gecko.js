FCKTableHandler.GetSelectedCells=function(){var a=new Array();var d=FCKSelection.GetSelection();if(d.rangeCount==1&&d.anchorNode.nodeType==3){var e=FCKTools.GetElementAscensor(d.anchorNode,"TD,TH");if(e){a[0]=e;}return a;}for(var c=0;c<d.rangeCount;c++){var f=d.getRangeAt(c);var b;if(f.startContainer.tagName.Equals("TD","TH")){b=f.startContainer;}else{b=f.startContainer.childNodes[f.startOffset];}if(b.nodeName.Equals("TD","TH")){a[a.length]=b;}}return a;};