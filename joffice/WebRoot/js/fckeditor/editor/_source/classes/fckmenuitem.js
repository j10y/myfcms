var FCKMenuItem=function(d,c,b,e,a,f){this.Name=c;this.Label=b||c;this.IsDisabled=a;this.Icon=new FCKIcon(e);this.SubMenu=new FCKMenuBlockPanel();this.SubMenu.Parent=d;this.SubMenu.OnClick=FCKTools.CreateEventListener(FCKMenuItem_SubMenu_OnClick,this);this.CustomData=f;if(FCK.IECleanup){FCK.IECleanup.AddItem(this,FCKMenuItem_Cleanup);}};FCKMenuItem.prototype.AddItem=function(c,b,d,a,e){this.HasSubMenu=true;return this.SubMenu.AddItem(c,b,d,a,e);};FCKMenuItem.prototype.AddSeparator=function(){this.SubMenu.AddSeparator();};FCKMenuItem.prototype.Create=function(e){var a=this.HasSubMenu;var b=FCKTools.GetElementDocument(e);var d=this.MainElement=e.insertRow(-1);d.className=this.IsDisabled?"MN_Item_Disabled":"MN_Item";if(!this.IsDisabled){FCKTools.AddEventListenerEx(d,"mouseover",FCKMenuItem_OnMouseOver,[this]);FCKTools.AddEventListenerEx(d,"click",FCKMenuItem_OnClick,[this]);if(!a){FCKTools.AddEventListenerEx(d,"mouseout",FCKMenuItem_OnMouseOut,[this]);}}var f=d.insertCell(-1);f.className="MN_Icon";f.appendChild(this.Icon.CreateIconElement(b));f=d.insertCell(-1);f.className="MN_Label";f.noWrap=true;f.appendChild(b.createTextNode(this.Label));f=d.insertCell(-1);if(a){f.className="MN_Arrow";var c=f.appendChild(b.createElement("IMG"));c.src=FCK_IMAGES_PATH+"arrow_"+FCKLang.Dir+".gif";c.width=4;c.height=7;this.SubMenu.Create();this.SubMenu.Panel.OnHide=FCKTools.CreateEventListener(FCKMenuItem_SubMenu_OnHide,this);}};FCKMenuItem.prototype.Activate=function(){this.MainElement.className="MN_Item_Over";if(this.HasSubMenu){this.SubMenu.Show(this.MainElement.offsetWidth+2,-2,this.MainElement);}FCKTools.RunFunction(this.OnActivate,this);};FCKMenuItem.prototype.Deactivate=function(){this.MainElement.className="MN_Item";if(this.HasSubMenu){this.SubMenu.Hide();}};function FCKMenuItem_SubMenu_OnClick(b,a){FCKTools.RunFunction(a.OnClick,a,[b]);}function FCKMenuItem_SubMenu_OnHide(a){a.Deactivate();}function FCKMenuItem_OnClick(b,a){if(a.HasSubMenu){a.Activate();}else{a.Deactivate();FCKTools.RunFunction(a.OnClick,a,[a]);}}function FCKMenuItem_OnMouseOver(b,a){a.Activate();}function FCKMenuItem_OnMouseOut(b,a){a.Deactivate();}function FCKMenuItem_Cleanup(){this.MainElement=null;}