var FCKMenuBlock=function(){this._Items=new Array();};FCKMenuBlock.prototype.Count=function(){return this._Items.length;};FCKMenuBlock.prototype.AddItem=function(c,b,e,a,f){var d=new FCKMenuItem(this,c,b,e,a,f);d.OnClick=FCKTools.CreateEventListener(FCKMenuBlock_Item_OnClick,this);d.OnActivate=FCKTools.CreateEventListener(FCKMenuBlock_Item_OnActivate,this);this._Items.push(d);return d;};FCKMenuBlock.prototype.AddSeparator=function(){this._Items.push(new FCKMenuSeparator());};FCKMenuBlock.prototype.RemoveAllItems=function(){this._Items=new Array();var a=this._ItemsTable;if(a){while(a.rows.length>0){a.deleteRow(0);}}};FCKMenuBlock.prototype.Create=function(d){if(!this._ItemsTable){if(FCK.IECleanup){FCK.IECleanup.AddItem(this,FCKMenuBlock_Cleanup);}this._Window=FCKTools.GetElementWindow(d);var c=FCKTools.GetElementDocument(d);var b=d.appendChild(c.createElement("table"));b.cellPadding=0;b.cellSpacing=0;FCKTools.DisableSelection(b);var f=b.insertRow(-1).insertCell(-1);f.className="MN_Menu";var a=this._ItemsTable=f.appendChild(c.createElement("table"));a.cellPadding=0;a.cellSpacing=0;}for(var e=0;e<this._Items.length;e++){this._Items[e].Create(this._ItemsTable);}};function FCKMenuBlock_Item_OnClick(b,a){if(a.Hide){a.Hide();}FCKTools.RunFunction(a.OnClick,a,[b]);}function FCKMenuBlock_Item_OnActivate(b){var a=b._ActiveItem;if(a&&a!=this){if(!FCKBrowserInfo.IsIE&&a.HasSubMenu&&!this.HasSubMenu){b._Window.focus();b.Panel.HasFocus=true;}a.Deactivate();}b._ActiveItem=this;}function FCKMenuBlock_Cleanup(){this._Window=null;this._ItemsTable=null;}var FCKMenuSeparator=function(){};FCKMenuSeparator.prototype.Create=function(c){var a=FCKTools.GetElementDocument(c);var b=c.insertRow(-1);var d=b.insertCell(-1);d.className="MN_Separator MN_Icon";d=b.insertCell(-1);d.className="MN_Separator";d.appendChild(a.createElement("DIV")).className="MN_Separator_Line";d=b.insertCell(-1);d.className="MN_Separator";d.appendChild(a.createElement("DIV")).className="MN_Separator_Line";};