var FCKToolbarPanelButton=function(c,b,f,e,d){this.CommandName=c;var g;if(d==null){g=FCKConfig.SkinPath+"toolbar/"+c.toLowerCase()+".gif";}else{if(typeof(d)=="number"){g=[FCKConfig.SkinPath+"fck_strip.gif",16,d];}}var a=this._UIButton=new FCKToolbarButtonUI(c,b,f,g,e);a._FCKToolbarPanelButton=this;a.ShowArrow=true;a.OnClick=FCKToolbarPanelButton_OnButtonClick;};FCKToolbarPanelButton.prototype.TypeName="FCKToolbarPanelButton";FCKToolbarPanelButton.prototype.Create=function(a){a.className+="Menu";this._UIButton.Create(a);var b=FCK.ToolbarSet.CurrentInstance.Commands.GetCommand(this.CommandName)._Panel;this.RegisterPanel(b);};FCKToolbarPanelButton.prototype.RegisterPanel=function(b){if(b._FCKToolbarPanelButton){return;}b._FCKToolbarPanelButton=this;var a=b.Document.body.appendChild(b.Document.createElement("div"));a.style.position="absolute";a.style.top="0px";var c=b._FCKToolbarPanelButtonLineDiv=a.appendChild(b.Document.createElement("IMG"));c.className="TB_ConnectionLine";c.style.position="absolute";c.src=FCK_SPACER_PATH;b.OnHide=FCKToolbarPanelButton_OnPanelHide;};function FCKToolbarPanelButton_OnButtonClick(a){var b=this._FCKToolbarPanelButton;var d=b._UIButton.MainElement;b._UIButton.ChangeState(FCK_TRISTATE_ON);var f=FCK.ToolbarSet.CurrentInstance.Commands.GetCommand(b.CommandName);var c=f._Panel;c._FCKToolbarPanelButtonLineDiv.style.width=(d.offsetWidth-2)+"px";f.Execute(0,d.offsetHeight-1,d);}function FCKToolbarPanelButton_OnPanelHide(){var a=this._FCKToolbarPanelButton;a._UIButton.ChangeState(FCK_TRISTATE_OFF);}FCKToolbarPanelButton.prototype.RefreshState=FCKToolbarButton.prototype.RefreshState;FCKToolbarPanelButton.prototype.Enable=FCKToolbarButton.prototype.Enable;FCKToolbarPanelButton.prototype.Disable=FCKToolbarButton.prototype.Disable;