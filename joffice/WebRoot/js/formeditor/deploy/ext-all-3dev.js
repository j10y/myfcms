Ext={version:"3.0"};window["undefined"]=window["undefined"];Ext.apply=function(i,h,c){if(c){Ext.apply(i,c);}if(i&&h&&typeof h=="object"){for(var g in h){i[g]=h[g];}}return i;};(function(){var idSeed=0;var ua=navigator.userAgent.toLowerCase();var isStrict=document.compatMode=="CSS1Compat",isOpera=ua.indexOf("opera")>-1,isChrome=ua.indexOf("chrome")>-1,isSafari=!isChrome&&(/webkit|khtml/).test(ua),isSafari3=isSafari&&ua.indexOf("webkit/5")!=-1,isIE=!isOpera&&ua.indexOf("msie")>-1,isIE7=!isOpera&&ua.indexOf("msie 7")>-1,isIE8=!isOpera&&ua.indexOf("msie 8")>-1,isGecko=!isSafari&&!isChrome&&ua.indexOf("gecko")>-1,isGecko3=isGecko&&ua.indexOf("rv:1.9")>-1,isBorderBox=isIE&&!isStrict,isWindows=(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1),isMac=(ua.indexOf("macintosh")!=-1||ua.indexOf("mac os x")!=-1),isAir=(ua.indexOf("adobeair")!=-1),isLinux=(ua.indexOf("linux")!=-1),isSecure=window.location.href.toLowerCase().indexOf("https")===0;if(isIE&&!isIE7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}Ext.apply(Ext,{isStrict:isStrict,isSecure:isSecure,isReady:false,enableGarbageCollector:true,enableListenerCollection:false,SSL_SECURE_URL:"javascript:false",BLANK_IMAGE_URL:"http://extjs.com/s.gif",emptyFn:function(){},applyIf:function(o,c){if(o&&c){for(var p in c){if(typeof o[p]=="undefined"){o[p]=c[p];}}}return o;},addBehaviors:function(o){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(o);});return;}var cache={};for(var b in o){var parts=b.split("@");if(parts[1]){var s=parts[0];if(!cache[s]){cache[s]=Ext.select(s);}cache[s].on(parts[1],o[b]);}}cache=null;},id:function(el,prefix){prefix=prefix||"ext-gen";el=Ext.getDom(el);var id=prefix+(++idSeed);return el?(el.id?el.id:(el.id=id)):id;},extend:function(){var io=function(o){for(var m in o){this[m]=o[m];}};var oc=Object.prototype.constructor;return function(sb,sp,overrides){if(typeof sp=="object"){overrides=sp;sp=sb;sb=overrides.constructor!=oc?overrides.constructor:function(){sp.apply(this,arguments);};}var F=function(){},sbp,spp=sp.prototype;F.prototype=spp;sbp=sb.prototype=new F();sbp.constructor=sb;sb.superclass=spp;if(spp.constructor==oc){spp.constructor=sp;}sb.override=function(o){Ext.override(sb,o);};sbp.superclass=sbp.supr=(function(){return spp;});sbp.override=io;Ext.override(sb,overrides);sb.extend=function(o){Ext.extend(sb,o);};return sb;};}(),extendX:function(supr,fn){return Ext.extend(supr,fn(supr.prototype));},override:function(origclass,overrides){if(overrides){var p=origclass.prototype;for(var method in overrides){p[method]=overrides[method];}}},namespace:function(){var a=arguments,o=null,i,j,d,rt;for(i=0;i<a.length;++i){d=a[i].split(".");rt=d[0];eval("if (typeof "+rt+' == "undefined"){'+rt+" = {};} o = "+rt+";");for(j=1;j<d.length;++j){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}},urlEncode:function(o){if(!o){return"";}var buf=[];for(var key in o){var ov=o[key],k=encodeURIComponent(key);var type=typeof ov;if(type=="undefined"){buf.push(k,"=&");}else{if(type!="function"&&type!="object"){buf.push(k,"=",encodeURIComponent(ov),"&");}else{if(Ext.isArray(ov)){if(ov.length){for(var i=0,len=ov.length;i<len;i++){buf.push(k,"=",encodeURIComponent(ov[i]===undefined?"":ov[i]),"&");}}else{buf.push(k,"=&");}}}}}buf.pop();return buf.join("");},urlDecode:function(string,overwrite){if(!string||!string.length){return{};}var obj={};var pairs=string.split("&");var pair,name,value;for(var i=0,len=pairs.length;i<len;i++){pair=pairs[i].split("=");name=decodeURIComponent(pair[0]);value=decodeURIComponent(pair[1]);if(overwrite!==true){if(typeof obj[name]=="undefined"){obj[name]=value;}else{if(typeof obj[name]=="string"){obj[name]=[obj[name]];obj[name].push(value);}else{obj[name].push(value);}}}else{obj[name]=value;}}return obj;},each:function(array,fn,scope){if(typeof array.length=="undefined"||typeof array=="string"){array=[array];}for(var i=0,len=array.length;i<len;i++){if(fn.call(scope||array[i],array[i],i,array)===false){return i;}}},combine:function(){var as=arguments,l=as.length,r=[];for(var i=0;i<l;i++){var a=as[i];if(Ext.isArray(a)){r=r.concat(a);}else{if(a.length!==undefined&&!a.substr){r=r.concat(Array.prototype.slice.call(a,0));}else{r.push(a);}}}return r;},escapeRe:function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1");},callback:function(cb,scope,args,delay){if(typeof cb=="function"){if(delay){cb.defer(delay,scope,args||[]);}else{cb.apply(scope,args||[]);}}},getDom:function(el){if(!el||!document){return null;}return el.dom?el.dom:(typeof el=="string"?document.getElementById(el):el);},getDoc:function(){return Ext.get(document);},getBody:function(){return Ext.get(document.body||document.documentElement);},getCmp:function(id){return Ext.ComponentMgr.get(id);},num:function(v,defaultValue){if(typeof v!="number"||isNaN(v)){return defaultValue;}return v;},destroy:function(){for(var i=0,a=arguments,len=a.length;i<len;i++){var as=a[i];if(as){if(typeof as.destroy=="function"){as.destroy();}else{if(as.dom){as.removeAllListeners();as.remove();}}}}},destroyMembers:function(o,arg1,arg2,etc){for(var i=1,a=arguments,len=a.length;i<len;i++){Ext.destroy(o[a[i]]);delete o[a[i]];}},removeNode:isIE?function(){var d;return function(n){if(n&&n.tagName!="BODY"){d=d||document.createElement("div");d.appendChild(n);d.innerHTML="";}};}():function(n){if(n&&n.parentNode&&n.tagName!="BODY"){n.parentNode.removeChild(n);}},type:function(o){if(o===undefined||o===null){return false;}if(o.htmlElement){return"element";}var t=typeof o;if(t=="object"&&o.nodeName){switch(o.nodeType){case 1:return"element";case 3:return(/\S/).test(o.nodeValue)?"textnode":"whitespace";}}if(t=="object"||t=="function"){switch(o.constructor){case Array:return"array";case RegExp:return"regexp";}if(typeof o.length=="number"&&typeof o.item=="function"){return"nodelist";}}return t;},isEmpty:function(v,allowBlank){return v===null||v===undefined||(!allowBlank?v==="":false);},value:function(v,defaultValue,allowBlank){return Ext.isEmpty(v,allowBlank)?defaultValue:v;},isArray:function(v){return v&&typeof v.length=="number"&&typeof v.splice=="function";},isDate:function(v){return v&&typeof v.getFullYear=="function";},copyTo:function(dest,source,names){if(typeof names=="string"){names=names.split(/[,;\s]/);}for(var i=0,len=names.length;i<len;i++){var n=names[i];if(source.hasOwnProperty(n)){dest[n]=source[n];}}return dest;},intercept:function(o,name,fn,scope){o[name]=o[name].createInterceptor(fn,scope);},sequence:function(o,name,fn,scope){o[name]=o[name].createSequence(fn,scope);},isOpera:isOpera,isChrome:isChrome,isSafari:isSafari,isSafari3:isSafari3,isSafari2:isSafari&&!isSafari3,isIE:isIE,isIE6:isIE&&!isIE7&&!isIE8,isIE7:isIE7,isIE8:isIE8,isGecko:isGecko,isGecko2:isGecko&&!isGecko3,isGecko3:isGecko3,isBorderBox:isBorderBox,isLinux:isLinux,isWindows:isWindows,isMac:isMac,isAir:isAir,useShims:((isIE&&!isIE7)||(isMac&&isGecko&&!isGecko3))});Ext.ns=Ext.namespace;})();Ext.ns("Ext","Ext.util","Ext.grid","Ext.dd","Ext.tree","Ext.data","Ext.form","Ext.menu","Ext.state","Ext.lib","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");Ext.apply(Function.prototype,{createCallback:function(){var d=arguments;var c=this;return function(){return c.apply(window,d);};},createDelegate:function(i,e,g){var h=this;return function(){var a=e||arguments;if(g===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(e);}else{if(typeof g=="number"){a=Array.prototype.slice.call(arguments,0);var b=[g,0].concat(e);Array.prototype.splice.apply(a,b);}}return h.apply(i||window,a);};},defer:function(l,i,g,h){var k=this.createDelegate(i,g,h);if(l){return setTimeout(k,l);}k();return 0;},createSequence:function(d,e){if(typeof d!="function"){return this;}var g=this;return function(){var a=g.apply(this||window,arguments);d.apply(e||this||window,arguments);return a;};},createInterceptor:function(d,e){if(typeof d!="function"){return this;}var g=this;return function(){d.target=this;d.method=g;if(d.apply(e||this||window,arguments)===false){return;}return g.apply(this||window,arguments);};}});Ext.applyIf(String,{escape:function(b){return b.replace(/('|\\)/g,"\\$1");},leftPad:function(h,e,i){var g=new String(h);if(!i){i=" ";}while(g.length<e){g=i+g;}return g.toString();},format:function(c){var d=Array.prototype.slice.call(arguments,1);return c.replace(/\{(\d+)\}/g,function(b,a){return d[a];});}});String.prototype.toggle=function(c,d){return this==c?d:c;};String.prototype.trim=function(){var b=/^\s+|\s+$/g;return function(){return this.replace(b,"");};}();Ext.applyIf(Number.prototype,{constrain:function(c,d){return Math.min(Math.max(this,c),d);}});Ext.applyIf(Array.prototype,{indexOf:function(g){for(var d=0,e=this.length;d<e;d++){if(this[d]==g){return d;}}return -1;},remove:function(c){var d=this.indexOf(c);if(d!=-1){this.splice(d,1);}return this;}});Date.prototype.getElapsed=function(b){return Math.abs((b||new Date()).getTime()-this.getTime());};(function(){var e;Ext.lib.Dom={getViewWidth:function(a){return a?this.getDocumentWidth():this.getViewportWidth();},getViewHeight:function(a){return a?this.getDocumentHeight():this.getViewportHeight();},getDocumentHeight:function(){var a=(document.compatMode!="CSS1Compat")?document.body.scrollHeight:document.documentElement.scrollHeight;return Math.max(a,this.getViewportHeight());},getDocumentWidth:function(){var a=(document.compatMode!="CSS1Compat")?document.body.scrollWidth:document.documentElement.scrollWidth;return Math.max(a,this.getViewportWidth());},getViewportHeight:function(){if(Ext.isIE){return Ext.isStrict?document.documentElement.clientHeight:document.body.clientHeight;}else{return self.innerHeight;}},getViewportWidth:function(){if(!Ext.isStrict&&!Ext.isOpera){return document.body.clientWidth;}else{if(Ext.isIE){return document.documentElement.clientWidth;}else{return self.innerWidth;}}},isAncestor:function(b,a){b=Ext.getDom(b);a=Ext.getDom(a);if(!b||!a){return false;}if(b.contains&&!Ext.isSafari){return b.contains(a);}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(a)&16);}else{var c=a.parentNode;while(c){if(c==b){return true;}else{if(!c.tagName||c.tagName.toUpperCase()=="HTML"){return false;}}c=c.parentNode;}return false;}}},getRegion:function(a){return Ext.lib.Region.getRegion(a);},getY:function(a){return this.getXY(a)[1];},getX:function(a){return this.getXY(a)[0];},getXY:function(w){var x,p,c,b,t=(document.body||document.documentElement);w=Ext.getDom(w);if(w==t){return[0,0];}if(w.getBoundingClientRect){c=w.getBoundingClientRect();b=i(document).getScroll();return[c.left+b.left,c.top+b.top];}var a=0,d=0;x=w;var y=i(w).getStyle("position")=="absolute";while(x){a+=x.offsetLeft;d+=x.offsetTop;if(!y&&i(x).getStyle("position")=="absolute"){y=true;}if(Ext.isGecko){p=i(x);var z=parseInt(p.getStyle("borderTopWidth"),10)||0;var v=parseInt(p.getStyle("borderLeftWidth"),10)||0;a+=v;d+=z;if(x!=w&&p.getStyle("overflow")!="visible"){a+=v;d+=z;}}x=x.offsetParent;}if(Ext.isSafari&&y){a-=t.offsetLeft;d-=t.offsetTop;}if(Ext.isGecko&&!y){var u=i(t);a+=parseInt(u.getStyle("borderLeftWidth"),10)||0;d+=parseInt(u.getStyle("borderTopWidth"),10)||0;}x=w.parentNode;while(x&&x!=t){if(!Ext.isOpera||(x.tagName!="TR"&&i(x).getStyle("display")!="inline")){a-=x.scrollLeft;d-=x.scrollTop;}x=x.parentNode;}return[a,d];},setXY:function(c,b){c=Ext.fly(c,"_setXY");c.position();var a=c.translatePoints(b);if(b[0]!==false){c.dom.style.left=a.left+"px";}if(b[1]!==false){c.dom.style.top=a.top+"px";}},setX:function(a,b){this.setXY(a,[b,false]);},setY:function(b,a){this.setXY(b,[false,a]);}};Ext.lib.Event=function(){var l=false;var d=[];var a=[];var b=0;var c=[];return{POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,_interval:null,startInterval:function(){if(!this._interval){var n=this;var k=function(){n._tryPreloadAttach();};this._interval=setInterval(k,this.POLL_INTERVAL);}},onAvailable:function(r,p,q,k){c.push({id:r,fn:p,obj:q,override:k,checkReady:false});b=this.POLL_RETRYS;this.startInterval();},addListener:function(r,k,s){r=Ext.getDom(r);if(!r||!s){return false;}if("unload"==k){a[a.length]=[r,k,s];return true;}var q=[r,k,s,s];var t=d.length;d[t]=q;this.doAdd(r,k,s,false);return true;},removeListener:function(u,y,v){var w,z;u=Ext.getDom(u);if(!v){return this.purgeElement(u,false,y);}if("unload"==y){for(w=0,z=a.length;w<z;w++){var k=a[w];if(k&&k[0]==u&&k[1]==y&&k[2]==v){a.splice(w,1);return true;}}return false;}var t=null;var x=arguments[3];if("undefined"==typeof x){x=this._getCacheIndex(u,y,v);}if(x>=0){t=d[x];}if(!u||!t){return false;}this.doRemove(u,y,t[this.WFN],false);delete d[x][this.WFN];delete d[x][this.FN];d.splice(x,1);return true;},getTarget:function(k){k=k.browserEvent||k;var n=k.target||k.srcElement;return this.resolveTextNode(n);},resolveTextNode:function(k){if(Ext.isSafari&&k&&3==k.nodeType){return k.parentNode;}else{return k;}},getPageX:function(k){k=k.browserEvent||k;var n=k.pageX;if(!n&&0!==n){n=k.clientX||0;if(Ext.isIE){n+=this.getScroll()[1];}}return n;},getPageY:function(n){n=n.browserEvent||n;var k=n.pageY;if(!k&&0!==k){k=n.clientY||0;if(Ext.isIE){k+=this.getScroll()[0];}}return k;},getXY:function(k){k=k.browserEvent||k;return[this.getPageX(k),this.getPageY(k)];},getRelatedTarget:function(k){k=k.browserEvent||k;var n=k.relatedTarget;if(!n){if(k.type=="mouseout"){n=k.toElement;}else{if(k.type=="mouseover"){n=k.fromElement;}}}return this.resolveTextNode(n);},getTime:function(p){p=p.browserEvent||p;if(!p.time){var k=new Date().getTime();try{p.time=k;}catch(o){return k;}}return p.time;},stopEvent:function(k){this.stopPropagation(k);this.preventDefault(k);},stopPropagation:function(k){k=k.browserEvent||k;if(k.stopPropagation){k.stopPropagation();}else{k.cancelBubble=true;}},preventDefault:function(k){k=k.browserEvent||k;if(k.preventDefault){k.preventDefault();}else{k.returnValue=false;}},getEvent:function(k){var o=k||window.event;if(!o){var p=this.getEvent.caller;while(p){o=p.arguments[0];if(o&&Event==o.constructor){break;}p=p.caller;}}return o;},getCharCode:function(k){k=k.browserEvent||k;return k.charCode||k.keyCode||0;},_getCacheIndex:function(s,v,t){for(var u=0,k=d.length;u<k;++u){var r=d[u];if(r&&r[this.FN]==t&&r[this.EL]==s&&r[this.TYPE]==v){return u;}}return -1;},elCache:{},getEl:function(k){return document.getElementById(k);},clearCache:function(){},_load:function(k){l=true;var n=Ext.lib.Event;if(Ext.isIE){n.doRemove(window,"load",n._load);}},_tryPreloadAttach:function(){if(this.locked){return false;}this.locked=true;var t=!l;if(!t){t=(b>0);}var u=[];for(var k=0,s=c.length;k<s;++k){var v=c[k];if(v){var w=this.getEl(v.id);if(w){if(!v.checkReady||l||w.nextSibling||(document&&document.body)){var x=w;if(v.override){if(v.override===true){x=v.obj;}else{x=v.override;}}v.fn.call(x,v.obj);c[k]=null;}}else{u.push(v);}}}b=(u.length===0)?0:b-1;if(t){this.startInterval();}else{clearInterval(this._interval);this._interval=null;}this.locked=false;return true;},purgeElement:function(v,u,x){var t=this.getListeners(v,x);if(t){for(var w=0,k=t.length;w<k;++w){var y=t[w];this.removeListener(v,y.type,y.fn);}}if(u&&v&&v.childNodes){for(w=0,k=v.childNodes.length;w<k;++w){this.purgeElement(v.childNodes[w],u,x);}}},getListeners:function(y,C){var v=[],z;if(!C){z=[d,a];}else{if(C=="unload"){z=[a];}else{z=[d];}}for(var w=0;w<z.length;++w){var A=z[w];if(A&&A.length>0){for(var k=0,B=A.length;k<B;++k){var x=A[k];if(x&&x[this.EL]===y&&(!C||C===x[this.TYPE])){v.push({type:x[this.TYPE],fn:x[this.FN],obj:x[this.OBJ],adjust:x[this.ADJ_SCOPE],index:k});}}}}return(v.length)?v:null;},_unload:function(u){var v=Ext.lib.Event,x,y,A,k,z;for(x=0,k=a.length;x<k;++x){A=a[x];if(A){var w=window;if(A[v.ADJ_SCOPE]){if(A[v.ADJ_SCOPE]===true){w=A[v.OBJ];}else{w=A[v.ADJ_SCOPE];}}A[v.FN].call(w,v.getEvent(u),A[v.OBJ]);a[x]=null;A=null;w=null;}}a=null;if(d&&d.length>0){y=d.length;while(y){z=y-1;A=d[z];if(A){v.removeListener(A[v.EL],A[v.TYPE],A[v.FN],z);}y=y-1;}A=null;v.clearCache();}v.doRemove(window,"unload",v._unload);},getScroll:function(){var n=document.documentElement,k=document.body;if(n&&(n.scrollTop||n.scrollLeft)){return[n.scrollTop,n.scrollLeft];}else{if(k){return[k.scrollTop,k.scrollLeft];}else{return[0,0];}}},doAdd:function(){if(window.addEventListener){return function(q,k,r,p){q.addEventListener(k,r,(p));};}else{if(window.attachEvent){return function(q,k,r,p){q.attachEvent("on"+k,r);};}else{return function(){};}}}(),doRemove:function(){if(window.removeEventListener){return function(q,k,r,p){q.removeEventListener(k,r,(p));};}else{if(window.detachEvent){return function(p,o,k){p.detachEvent("on"+o,k);};}else{return function(){};}}}()};}();var h=Ext.lib.Event;h.on=h.addListener;h.un=h.removeListener;if(document&&document.body){h._load();}else{h.doAdd(window,"load",h._load);}h.doAdd(window,"unload",h._unload);h._tryPreloadAttach();Ext.lib.Ajax={request:function(q,b,p,a,o){if(o){var d=o.headers;if(d){for(var c in d){if(d.hasOwnProperty(c)){this.initHeader(c,d[c],false);}}}if(o.xmlData){if(!d||!d["Content-Type"]){this.initHeader("Content-Type","text/xml",false);}q=(q?q:(o.method?o.method:"POST"));a=o.xmlData;}else{if(o.jsonData){if(!d||!d["Content-Type"]){this.initHeader("Content-Type","application/json",false);}q=(q?q:(o.method?o.method:"POST"));a=typeof o.jsonData=="object"?Ext.encode(o.jsonData):o.jsonData;}}}return this.asyncRequest(q,b,p,a);},serializeForm:function(t){if(typeof t=="string"){t=(document.getElementById(t)||document.forms[t]);}var s,u,r,d,c="",a=false;for(var b=0;b<t.elements.length;b++){s=t.elements[b];d=t.elements[b].disabled;u=t.elements[b].name;r=t.elements[b].value;if(!d&&u){switch(s.type){case"select-one":case"select-multiple":for(var q=0;q<s.options.length;q++){if(s.options[q].selected){if(Ext.isIE){c+=encodeURIComponent(u)+"="+encodeURIComponent(s.options[q].attributes.value.specified?s.options[q].value:s.options[q].text)+"&";}else{c+=encodeURIComponent(u)+"="+encodeURIComponent(s.options[q].hasAttribute("value")?s.options[q].value:s.options[q].text)+"&";}}}break;case"radio":case"checkbox":if(s.checked){c+=encodeURIComponent(u)+"="+encodeURIComponent(r)+"&";}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(!a){c+=encodeURIComponent(u)+"="+encodeURIComponent(r)+"&";a=true;}break;default:c+=encodeURIComponent(u)+"="+encodeURIComponent(r)+"&";break;}}}c=c.substr(0,c.length-1);return c;},headers:{},hasHeaders:false,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",hasDefaultHeaders:true,defaultHeaders:{},poll:{},timeout:{},pollInterval:50,transactionId:0,setProgId:function(a){this.activeX.unshift(a);},setDefaultPostHeader:function(a){this.useDefaultHeader=a;},setDefaultXhrHeader:function(a){this.useDefaultXhrHeader=a;},setPollingInterval:function(a){if(typeof a=="number"&&isFinite(a)){this.pollInterval=a;}},createXhrObject:function(a){var b,n;try{n=new XMLHttpRequest();b={conn:n,tId:a};}catch(c){for(var d=0;d<this.activeX.length;++d){try{n=new ActiveXObject(this.activeX[d]);b={conn:n,tId:a};break;}catch(c){}}}finally{return b;}},getConnectionObject:function(){var b;var a=this.transactionId;try{b=this.createXhrObject(a);if(b){this.transactionId++;}}catch(c){}finally{return b;}},asyncRequest:function(a,d,b,l){var c=this.getConnectionObject();if(!c){return null;}else{c.conn.open(a,d,true);if(this.useDefaultXhrHeader){if(!this.defaultHeaders["X-Requested-With"]){this.initHeader("X-Requested-With",this.defaultXhrHeader,true);}}if(l&&this.useDefaultHeader&&(!this.hasHeaders||!this.headers["Content-Type"])){this.initHeader("Content-Type",this.defaultPostHeader);}if(this.hasDefaultHeaders||this.hasHeaders){this.setHeader(c);}this.handleReadyState(c,b);c.conn.send(l||null);return c;}},handleReadyState:function(b,a){var c=this;if(a&&a.timeout){this.timeout[b.tId]=window.setTimeout(function(){c.abort(b,a,true);},a.timeout);}this.poll[b.tId]=window.setInterval(function(){if(b.conn&&b.conn.readyState==4){window.clearInterval(c.poll[b.tId]);delete c.poll[b.tId];if(a&&a.timeout){window.clearTimeout(c.timeout[b.tId]);delete c.timeout[b.tId];}c.handleTransactionResponse(b,a);}},this.pollInterval);},handleTransactionResponse:function(b,a,o){if(!a){this.releaseObject(b);return;}var d,n;try{if(b.conn.status!==undefined&&b.conn.status!=0){d=b.conn.status;}else{d=13030;}}catch(c){d=13030;}if(d>=200&&d<300){n=this.createResponseObject(b,a.argument);if(a.success){if(!a.scope){a.success(n);}else{a.success.apply(a.scope,[n]);}}}else{switch(d){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=this.createExceptionObject(b.tId,a.argument,(o?o:false));if(a.failure){if(!a.scope){a.failure(n);}else{a.failure.apply(a.scope,[n]);}}break;default:n=this.createResponseObject(b,a.argument);if(a.failure){if(!a.scope){a.failure(n);}else{a.failure.apply(a.scope,[n]);}}}}this.releaseObject(b);n=null;},createResponseObject:function(v,c){var s={};var a={};try{var t=v.conn.getAllResponseHeaders();var d=t.split("\n");for(var o=0;o<d.length;o++){var u=d[o].indexOf(":");if(u!=-1){a[d[o].substring(0,u)]=d[o].substring(u+2);}}}catch(b){}s.tId=v.tId;s.status=v.conn.status;s.statusText=v.conn.statusText;s.getResponseHeader=a;s.getAllResponseHeaders=t;s.responseText=v.conn.responseText;s.responseXML=v.conn.responseXML;if(typeof c!==undefined){s.argument=c;}return s;},createExceptionObject:function(r,d,q){var b=0;var a="communication failure";var o=-1;var p="transaction aborted";var c={};c.tId=r;if(q){c.status=o;c.statusText=p;}else{c.status=b;c.statusText=a;}if(d){c.argument=d;}return c;},initHeader:function(d,a,b){var c=(b)?this.defaultHeaders:this.headers;if(c[d]===undefined){c[d]=a;}else{c[d]=a+","+c[d];}if(b){this.hasDefaultHeaders=true;}else{this.hasHeaders=true;}},setHeader:function(b){if(this.hasDefaultHeaders){for(var a in this.defaultHeaders){if(this.defaultHeaders.hasOwnProperty(a)){b.conn.setRequestHeader(a,this.defaultHeaders[a]);}}}if(this.hasHeaders){for(var a in this.headers){if(this.headers.hasOwnProperty(a)){b.conn.setRequestHeader(a,this.headers[a]);}}this.headers={};this.hasHeaders=false;}},resetDefaultHeaders:function(){delete this.defaultHeaders;this.defaultHeaders={};this.hasDefaultHeaders=false;},abort:function(b,a,c){if(this.isCallInProgress(b)){b.conn.abort();window.clearInterval(this.poll[b.tId]);delete this.poll[b.tId];if(c){delete this.timeout[b.tId];}this.handleTransactionResponse(b,a,true);return true;}else{return false;}},isCallInProgress:function(a){if(a.conn){return a.conn.readyState!=4&&a.conn.readyState!=0;}else{return false;}},releaseObject:function(a){a.conn=null;a=null;},activeX:["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"]};Ext.lib.Region=function(b,a,d,c){this.top=b;this[1]=b;this.right=a;this.bottom=d;this.left=c;this[0]=c;};Ext.lib.Region.prototype={contains:function(a){return(a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom);},getArea:function(){return((this.bottom-this.top)*(this.right-this.left));},intersect:function(a){var c=Math.max(this.top,a.top);var b=Math.min(this.right,a.right);var l=Math.min(this.bottom,a.bottom);var d=Math.max(this.left,a.left);if(l>=c&&b>=d){return new Ext.lib.Region(c,b,l,d);}else{return null;}},union:function(a){var c=Math.min(this.top,a.top);var b=Math.max(this.right,a.right);var l=Math.max(this.bottom,a.bottom);var d=Math.min(this.left,a.left);return new Ext.lib.Region(c,b,l,d);},constrainTo:function(a){this.top=this.top.constrain(a.top,a.bottom);this.bottom=this.bottom.constrain(a.top,a.bottom);this.left=this.left.constrain(a.left,a.right);this.right=this.right.constrain(a.left,a.right);return this;},adjust:function(b,c,d,a){this.top+=b;this.left+=c;this.right+=a;this.bottom+=d;return this;}};Ext.lib.Region.getRegion=function(c){var a=Ext.lib.Dom.getXY(c);var d=a[1];var b=a[0]+c.offsetWidth;var n=a[1]+c.offsetHeight;var l=a[0];return new Ext.lib.Region(d,b,n,l);};Ext.lib.Point=function(b,a){if(Ext.isArray(b)){a=b[1];b=b[0];}this.x=this.right=this.left=this[0]=b;this.y=this.top=this.bottom=this[1]=a;};Ext.lib.Point.prototype=new Ext.lib.Region();Ext.lib.Anim={scroll:function(c,m,b,a,n,d){return this.run(c,m,b,a,n,d,Ext.lib.Scroll);},motion:function(c,m,b,a,n,d){return this.run(c,m,b,a,n,d,Ext.lib.Motion);},color:function(c,m,b,a,n,d){return this.run(c,m,b,a,n,d,Ext.lib.ColorAnim);},run:function(c,p,a,r,q,d,o){o=o||Ext.lib.AnimBase;if(typeof r=="string"){r=Ext.lib.Easing[r];}var b=new o(c,p,a,r);b.animateX(function(){Ext.callback(q,d);});return b;}};function i(a){if(!e){e=new Ext.Element.Flyweight();}e.dom=a;return e;}if(Ext.isIE){function g(){var a=Function.prototype;delete a.createSequence;delete a.defer;delete a.createDelegate;delete a.createCallback;delete a.createInterceptor;window.detachEvent("onunload",g);}window.attachEvent("onunload",g);}Ext.lib.AnimBase=function(c,d,b,a){if(c){this.init(c,d,b,a);}};Ext.lib.AnimBase.prototype={toString:function(){var b=this.getEl();var a=b.id||b.tagName;return("Anim "+a);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(c,a,b){return this.method(this.currentFrame,a,b-a,this.totalFrames);},setAttribute:function(c,a,b){if(this.patterns.noNegatives.test(c)){a=(a>0)?a:0;}Ext.fly(this.getEl(),"_anim").setStyle(c,a+b);},getAttribute:function(n){var d=this.getEl();var b=i(d).getStyle(n);if(b!=="auto"&&!this.patterns.offsetUnit.test(b)){return parseFloat(b);}var m=this.patterns.offsetAttribute.exec(n)||[];var a=!!(m[3]);var c=!!(m[2]);if(c||(i(d).getStyle("position")=="absolute"&&a)){b=d["offset"+m[0].charAt(0).toUpperCase()+m[0].substr(1)];}else{b=0;}return b;},getDefaultUnit:function(a){if(this.patterns.defaultUnit.test(a)){return"px";}return"";},animateX:function(a,c){var b=function(){this.onComplete.removeListener(b);if(typeof a=="function"){a.call(c||this,this);}};this.onComplete.addListener(b,this);this.animate();},setRuntimeAttribute:function(o){var q;var d;var c=this.attributes;this.runtimeAttributes[o]={};var a=function(k){return(typeof k!=="undefined");};if(!a(c[o]["to"])&&!a(c[o]["by"])){return false;}q=(a(c[o]["from"]))?c[o]["from"]:this.getAttribute(o);if(a(c[o]["to"])){d=c[o]["to"];}else{if(a(c[o]["by"])){if(q.constructor==Array){d=[];for(var b=0,p=q.length;b<p;++b){d[b]=q[b]+c[o]["by"][b];}}else{d=q+c[o]["by"];}}}this.runtimeAttributes[o].start=q;this.runtimeAttributes[o].end=d;this.runtimeAttributes[o].unit=(a(c[o].unit))?c[o]["unit"]:this.getDefaultUnit(o);},init:function(t,c,d,v){var u=false;var s=null;var q=0;t=Ext.getDom(t);this.attributes=c||{};this.duration=d||1;this.method=v||Ext.lib.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=Ext.lib.AnimMgr.fps;this.getEl=function(){return t;};this.isAnimated=function(){return u;};this.getStartTime=function(){return s;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(Ext.lib.AnimMgr.fps*this.duration):this.duration;Ext.lib.AnimMgr.registerElement(this);};this.stop=function(k){if(k){this.currentFrame=this.totalFrames;this._onTween.fire();}Ext.lib.AnimMgr.stop(this);};var a=function(){this.onStart.fire();this.runtimeAttributes={};for(var k in this.attributes){this.setRuntimeAttribute(k);}u=true;q=0;s=new Date();};var b=function(){var k={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};k.toString=function(){return("duration: "+k.duration+", currentFrame: "+k.currentFrame);};this.onTween.fire(k);var l=this.runtimeAttributes;for(var m in l){this.setAttribute(m,this.doMethod(m,l[m].start,l[m].end),l[m].unit);}q+=1;};var r=function(){var l=(new Date()-s)/1000;var k={duration:l,frames:q,fps:q/l};k.toString=function(){return("duration: "+k.duration+", frames: "+k.frames+", fps: "+k.fps);};u=false;q=0;this.onComplete.fire(k);};this._onStart=new Ext.util.Event(this);this.onStart=new Ext.util.Event(this);this.onTween=new Ext.util.Event(this);this._onTween=new Ext.util.Event(this);this.onComplete=new Ext.util.Event(this);this._onComplete=new Ext.util.Event(this);this._onStart.addListener(a);this._onTween.addListener(b);this._onComplete.addListener(r);}};Ext.lib.AnimMgr=new function(){var c=null;var d=[];var l=0;this.fps=1000;this.delay=1;this.registerElement=function(k){d[d.length]=k;l+=1;k._onStart.fire();this.start();};this.unRegister=function(k,n){k._onComplete.fire();n=n||a(k);if(n!=-1){d.splice(n,1);}l-=1;if(l<=0){this.stop();}};this.start=function(){if(c===null){c=setInterval(this.run,this.delay);}};this.stop=function(p){if(!p){clearInterval(c);for(var k=0,o=d.length;k<o;++k){if(d[0].isAnimated()){this.unRegister(d[0],0);}}d=[];c=null;l=0;}else{this.unRegister(p);}};this.run=function(){for(var p=0,o=d.length;p<o;++p){var k=d[p];if(!k||!k.isAnimated()){continue;}if(k.currentFrame<k.totalFrames||k.totalFrames===null){k.currentFrame+=1;if(k.useSeconds){b(k);}k._onTween.fire();}else{Ext.lib.AnimMgr.stop(k,p);}}};var a=function(p){for(var k=0,o=d.length;k<o;++k){if(d[k]==p){return k;}}return -1;};var b=function(k){var t=k.totalFrames;var u=k.currentFrame;var v=(k.currentFrame*k.duration*1000/k.totalFrames);var r=(new Date()-k.getStartTime());var s=0;if(r<k.duration*1000){s=Math.round((r/v-1)*k.currentFrame);}else{s=t-(u+1);}if(s>0&&isFinite(s)){if(k.currentFrame+s>=t){s=t-(u+1);}k.currentFrame+=s;}};};Ext.lib.Bezier=new function(){this.getPosition=function(b,c){var a=b.length;var d=[];for(var n=0;n<a;++n){d[n]=[b[n][0],b[n][1]];}for(var o=1;o<a;++o){for(n=0;n<a-o;++n){d[n][0]=(1-c)*d[n][0]+c*d[parseInt(n+1,10)][0];d[n][1]=(1-c)*d[n][1]+c*d[parseInt(n+1,10)][1];}}return[d[0][0],d[0][1]];};};(function(){Ext.lib.ColorAnim=function(o,p,n,d){Ext.lib.ColorAnim.superclass.constructor.call(this,o,p,n,d);};Ext.extend(Ext.lib.ColorAnim,Ext.lib.AnimBase);var b=Ext.lib;var a=b.ColorAnim.superclass;var c=b.ColorAnim.prototype;c.toString=function(){var l=this.getEl();var d=l.id||l.tagName;return("ColorAnim "+d);};c.patterns.color=/color$/i;c.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;c.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;c.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;c.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;c.parseColor=function(l){if(l.length==3){return l;}var d=this.patterns.hex.exec(l);if(d&&d.length==4){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)];}d=this.patterns.rgb.exec(l);if(d&&d.length==4){return[parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10)];}d=this.patterns.hex3.exec(l);if(d&&d.length==4){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)];}return null;};c.getAttribute=function(p){var n=this.getEl();if(this.patterns.color.test(p)){var d=i(n).getStyle(p);if(this.patterns.transparent.test(d)){var o=n.parentNode;d=i(o).getStyle(p);while(o&&this.patterns.transparent.test(d)){o=o.parentNode;d=i(o).getStyle(p);if(o.tagName.toUpperCase()=="HTML"){d="#fff";}}}}else{d=a.getAttribute.call(this,p);}return d;};c.doMethod=function(q,s,d){var t;if(this.patterns.color.test(q)){t=[];for(var u=0,r=s.length;u<r;++u){t[u]=a.doMethod.call(this,q,s[u],d[u]);}t="rgb("+Math.floor(t[0])+","+Math.floor(t[1])+","+Math.floor(t[2])+")";}else{t=a.doMethod.call(this,q,s,d);}return t;};c.setRuntimeAttribute=function(q){a.setRuntimeAttribute.call(this,q);if(this.patterns.color.test(q)){var u=this.attributes;var s=this.parseColor(this.runtimeAttributes[q].start);var d=this.parseColor(this.runtimeAttributes[q].end);if(typeof u[q]["to"]==="undefined"&&typeof u[q]["by"]!=="undefined"){d=this.parseColor(u[q].by);for(var t=0,r=s.length;t<r;++t){d[t]=s[t]+d[t];}}this.runtimeAttributes[q].start=s;this.runtimeAttributes[q].end=d;}};})();Ext.lib.Easing={easeNone:function(c,d,a,b){return a*c/b+d;},easeIn:function(c,d,a,b){return a*(c/=b)*c+d;},easeOut:function(c,d,a,b){return -a*(c/=b)*(c-2)+d;},easeBoth:function(c,d,a,b){if((c/=b/2)<1){return a/2*c*c+d;}return -a/2*((--c)*(c-2)-1)+d;},easeInStrong:function(c,d,a,b){return a*(c/=b)*c*c*c+d;},easeOutStrong:function(c,d,a,b){return -a*((c=c/b-1)*c*c*c-1)+d;},easeBothStrong:function(c,d,a,b){if((c/=b/2)<1){return a/2*c*c*c*c+d;}return -a/2*((c-=2)*c*c*c-2)+d;},elasticIn:function(n,p,a,b,o,c){if(n==0){return p;}if((n/=b)==1){return p+a;}if(!c){c=b*0.3;}if(!o||o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}return -(o*Math.pow(2,10*(n-=1))*Math.sin((n*b-d)*(2*Math.PI)/c))+p;},elasticOut:function(n,p,a,b,o,c){if(n==0){return p;}if((n/=b)==1){return p+a;}if(!c){c=b*0.3;}if(!o||o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}return o*Math.pow(2,-10*n)*Math.sin((n*b-d)*(2*Math.PI)/c)+a+p;},elasticBoth:function(n,p,a,b,o,c){if(n==0){return p;}if((n/=b/2)==2){return p+a;}if(!c){c=b*(0.3*1.5);}if(!o||o<Math.abs(a)){o=a;var d=c/4;}else{var d=c/(2*Math.PI)*Math.asin(a/o);}if(n<1){return -0.5*(o*Math.pow(2,10*(n-=1))*Math.sin((n*b-d)*(2*Math.PI)/c))+p;}return o*Math.pow(2,-10*(n-=1))*Math.sin((n*b-d)*(2*Math.PI)/c)*0.5+a+p;},backIn:function(d,l,a,b,c){if(typeof c=="undefined"){c=1.70158;}return a*(d/=b)*d*((c+1)*d-c)+l;},backOut:function(d,l,a,b,c){if(typeof c=="undefined"){c=1.70158;}return a*((d=d/b-1)*d*((c+1)*d+c)+1)+l;},backBoth:function(d,l,a,b,c){if(typeof c=="undefined"){c=1.70158;}if((d/=b/2)<1){return a/2*(d*d*(((c*=(1.525))+1)*d-c))+l;}return a/2*((d-=2)*d*(((c*=(1.525))+1)*d+c)+2)+l;},bounceIn:function(c,d,a,b){return a-Ext.lib.Easing.bounceOut(b-c,0,a,b)+d;},bounceOut:function(c,d,a,b){if((c/=b)<(1/2.75)){return a*(7.5625*c*c)+d;}else{if(c<(2/2.75)){return a*(7.5625*(c-=(1.5/2.75))*c+0.75)+d;}else{if(c<(2.5/2.75)){return a*(7.5625*(c-=(2.25/2.75))*c+0.9375)+d;}}}return a*(7.5625*(c-=(2.625/2.75))*c+0.984375)+d;},bounceBoth:function(c,d,a,b){if(c<b/2){return Ext.lib.Easing.bounceIn(c*2,0,a,b)*0.5+d;}return Ext.lib.Easing.bounceOut(c*2-b,0,a,b)*0.5+a*0.5+d;}};(function(){Ext.lib.Motion=function(k,p,r,q){if(k){Ext.lib.Motion.superclass.constructor.call(this,k,p,r,q);}};Ext.extend(Ext.lib.Motion,Ext.lib.ColorAnim);var b=Ext.lib;var a=b.Motion.superclass;var d=b.Motion.prototype;d.toString=function(){var n=this.getEl();var k=n.id||n.tagName;return("Motion "+k);};d.patterns.points=/^points$/i;d.setAttribute=function(o,p,k){if(this.patterns.points.test(o)){k=k||"px";a.setAttribute.call(this,"left",p[0],k);a.setAttribute.call(this,"top",p[1],k);}else{a.setAttribute.call(this,o,p,k);}};d.getAttribute=function(n){if(this.patterns.points.test(n)){var k=[a.getAttribute.call(this,"left"),a.getAttribute.call(this,"top")];}else{k=a.getAttribute.call(this,n);}return k;};d.doMethod=function(q,r,k){var s=null;if(this.patterns.points.test(q)){var t=this.method(this.currentFrame,0,100,this.totalFrames)/100;s=b.Bezier.getPosition(this.runtimeAttributes[q],t);}else{s=a.doMethod.call(this,q,r,k);}return s;};d.setRuntimeAttribute=function(B){if(this.patterns.points.test(B)){var z=this.getEl();var x=this.attributes;var A;var v=x.points["control"]||[];var y;var k,C;if(v.length>0&&!Ext.isArray(v[0])){v=[v];}else{var w=[];for(k=0,C=v.length;k<C;++k){w[k]=v[k];}v=w;}Ext.fly(z,"_anim").position();if(c(x.points["from"])){Ext.lib.Dom.setXY(z,x.points["from"]);}else{Ext.lib.Dom.setXY(z,Ext.lib.Dom.getXY(z));}A=this.getAttribute("points");if(c(x.points["to"])){y=l.call(this,x.points["to"],A);var D=Ext.lib.Dom.getXY(this.getEl());for(k=0,C=v.length;k<C;++k){v[k]=l.call(this,v[k],A);}}else{if(c(x.points["by"])){y=[A[0]+x.points["by"][0],A[1]+x.points["by"][1]];for(k=0,C=v.length;k<C;++k){v[k]=[A[0]+v[k][0],A[1]+v[k][1]];}}}this.runtimeAttributes[B]=[A];if(v.length>0){this.runtimeAttributes[B]=this.runtimeAttributes[B].concat(v);}this.runtimeAttributes[B][this.runtimeAttributes[B].length]=y;}else{a.setRuntimeAttribute.call(this,B);}};var l=function(o,p){var k=Ext.lib.Dom.getXY(this.getEl());o=[o[0]-k[0]+p[0],o[1]-k[1]+p[1]];return o;};var c=function(k){return(typeof k!=="undefined");};})();(function(){Ext.lib.Scroll=function(o,p,n,d){if(o){Ext.lib.Scroll.superclass.constructor.call(this,o,p,n,d);}};Ext.extend(Ext.lib.Scroll,Ext.lib.ColorAnim);var b=Ext.lib;var a=b.Scroll.superclass;var c=b.Scroll.prototype;c.toString=function(){var l=this.getEl();var d=l.id||l.tagName;return("Scroll "+d);};c.doMethod=function(p,d,o){var n=null;if(p=="scroll"){n=[this.method(this.currentFrame,d[0],o[0]-d[0],this.totalFrames),this.method(this.currentFrame,d[1],o[1]-d[1],this.totalFrames)];}else{n=a.doMethod.call(this,p,d,o);}return n;};c.getAttribute=function(n){var d=null;var m=this.getEl();if(n=="scroll"){d=[m.scrollLeft,m.scrollTop];}else{d=a.getAttribute.call(this,n);}return d;};c.setAttribute=function(p,d,n){var o=this.getEl();if(p=="scroll"){o.scrollLeft=d[0];o.scrollTop=d[1];}else{a.setAttribute.call(this,p,d,n);}};})();})();Ext.DomHelper=function(){var q=null;var w=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i;var A=/^table|tbody|tr|td$/i;var B=function(b){if(typeof b=="string"){return b;}var h="";if(Ext.isArray(b)){for(var d=0,g=b.length;d<g;d++){h+=B(b[d]);}return h;}if(!b.tag){b.tag="div";}h+="<"+b.tag;for(var i in b){if(i=="tag"||i=="children"||i=="cn"||i=="html"||typeof b[i]=="function"){continue;}if(i=="style"){var c=b.style;if(typeof c=="function"){c=c.call();}if(typeof c=="string"){h+=' style="'+c+'"';}else{if(typeof c=="object"){h+=' style="';for(var e in c){if(typeof c[e]!="function"){h+=e+":"+c[e]+";";}}h+='"';}}}else{if(i=="cls"){h+=' class="'+b.cls+'"';}else{if(i=="htmlFor"){h+=' for="'+b.htmlFor+'"';}else{h+=" "+i+'="'+b[i]+'"';}}}}if(w.test(b.tag)){h+="/>";}else{h+=">";var a=b.children||b.cn;if(a){h+=B(a);}else{if(b.html){h+=b.html;}}h+="</"+b.tag+">";}return h;};var p=function(b,h){var c;if(Ext.isArray(b)){c=document.createDocumentFragment();for(var d=0,g=b.length;d<g;d++){p(b[d],c);}}else{if(typeof b=="string"){c=document.createTextNode(b);}else{c=document.createElement(b.tag||"div");var e=!!c.setAttribute;for(var i in b){if(i=="tag"||i=="children"||i=="cn"||i=="html"||i=="style"||typeof b[i]=="function"){continue;}if(i=="cls"){c.className=b.cls;}else{if(e){c.setAttribute(i,b[i]);}else{c[i]=b[i];}}}Ext.DomHelper.applyStyles(c,b.style);var a=b.children||b.cn;if(a){p(a,c);}else{if(b.html){c.innerHTML=b.html;}}}}if(h){h.appendChild(c);}return c;};var t=function(a,c,d,b){q.innerHTML=[c,d,b].join("");var g=-1,e=q;while(++g<a){e=e.firstChild;}return e;};var s="<table>",x="</table>",z=s+"<tbody>",r="</tbody>"+x,u=z+"<tr>",y="</tr>"+r;var v=function(g,e,c,d){if(!q){q=document.createElement("div");}var b;var a=null;if(g=="td"){if(e=="afterbegin"||e=="beforeend"){return;}if(e=="beforebegin"){a=c;c=c.parentNode;}else{a=c.nextSibling;c=c.parentNode;}b=t(4,u,d,y);}else{if(g=="tr"){if(e=="beforebegin"){a=c;c=c.parentNode;b=t(3,z,d,r);}else{if(e=="afterend"){a=c.nextSibling;c=c.parentNode;b=t(3,z,d,r);}else{if(e=="afterbegin"){a=c.firstChild;}b=t(4,u,d,y);}}}else{if(g=="tbody"){if(e=="beforebegin"){a=c;c=c.parentNode;b=t(2,s,d,x);}else{if(e=="afterend"){a=c.nextSibling;c=c.parentNode;b=t(2,s,d,x);}else{if(e=="afterbegin"){a=c.firstChild;}b=t(3,z,d,r);}}}else{if(e=="beforebegin"||e=="afterend"){return;}if(e=="afterbegin"){a=c.firstChild;}b=t(2,s,d,x);}}}c.insertBefore(b,a);return b;};return{useDom:false,markup:function(a){return B(a);},applyStyles:function(c,b){if(b){c=Ext.fly(c);if(typeof b=="string"){var d=/\s?([a-z\-]*)\:\s?([^;]*);?/gi;var a;while((a=d.exec(b))!=null){c.setStyle(a[1],a[2]);}}else{if(typeof b=="object"){for(var e in b){c.setStyle(e,b[e]);}}else{if(typeof b=="function"){Ext.DomHelper.applyStyles(c,b.call());}}}}},insertHtml:function(d,b,c){d=d.toLowerCase();if(b.insertAdjacentHTML){if(A.test(b.tagName)){var e;if(e=v(b.tagName.toLowerCase(),d,b,c)){return e;}}switch(d){case"beforebegin":b.insertAdjacentHTML("BeforeBegin",c);return b.previousSibling;case"afterbegin":b.insertAdjacentHTML("AfterBegin",c);return b.firstChild;case"beforeend":b.insertAdjacentHTML("BeforeEnd",c);return b.lastChild;case"afterend":b.insertAdjacentHTML("AfterEnd",c);return b.nextSibling;}throw'Illegal insertion point -> "'+d+'"';}var g=b.ownerDocument.createRange();var a;switch(d){case"beforebegin":g.setStartBefore(b);a=g.createContextualFragment(c);b.parentNode.insertBefore(a,b);return b.previousSibling;case"afterbegin":if(b.firstChild){g.setStartBefore(b.firstChild);a=g.createContextualFragment(c);b.insertBefore(a,b.firstChild);return b.firstChild;}else{b.innerHTML=c;return b.firstChild;}case"beforeend":if(b.lastChild){g.setStartAfter(b.lastChild);a=g.createContextualFragment(c);b.appendChild(a);return b.lastChild;}else{b.innerHTML=c;return b.lastChild;}case"afterend":g.setStartAfter(b);a=g.createContextualFragment(c);b.parentNode.insertBefore(a,b.nextSibling);return b.nextSibling;}throw'Illegal insertion point -> "'+d+'"';},insertBefore:function(c,a,b){return this.doInsert(c,a,b,"beforeBegin");},insertAfter:function(c,a,b){return this.doInsert(c,a,b,"afterEnd","nextSibling");},insertFirst:function(c,a,b){return this.doInsert(c,a,b,"afterBegin","firstChild");},doInsert:function(d,b,c,a,e){d=Ext.getDom(d);var g;if(this.useDom){g=p(b,null);(e==="firstChild"?d:d.parentNode).insertBefore(g,e?d[e]:d);}else{var h=B(b);g=this.insertHtml(a,d,h);}return c?Ext.get(g,true):g;},append:function(c,a,b){c=Ext.getDom(c);var d;if(this.useDom){d=p(a,null);c.appendChild(d);}else{var e=B(a);d=this.insertHtml("beforeEnd",c,e);}return b?Ext.get(d,true):d;},overwrite:function(c,a,b){c=Ext.getDom(c);c.innerHTML=B(a);return b?Ext.get(c.firstChild,true):c.firstChild;},createTemplate:function(a){var b=B(a);return new Ext.Template(b);}};}();Ext.Template=function(h){var l=arguments;if(Ext.isArray(h)){h=h.join("");}else{if(l.length>1){var k=[];for(var i=0,a=l.length;i<a;i++){if(typeof l[i]=="object"){Ext.apply(this,l[i]);}else{k[k.length]=l[i];}}h=k.join("");}}this.html=h;if(this.compiled){this.compile();}};Ext.Template.prototype={applyTemplate:function(g){if(this.compiled){return this.compiled(g);}var h=this.disableFormats!==true;var i=Ext.util.Format,l=this;var k=function(c,a,e,b){if(e&&h){if(e.substr(0,5)=="this."){return l.call(e.substr(5),g[a],g);}else{if(b){var m=/^\s*['"](.*)["']\s*$/;b=b.split(",");for(var q=0,d=b.length;q<d;q++){b[q]=b[q].replace(m,"$1");}b=[g[a]].concat(b);}else{b=[g[a]];}return i[e].apply(i,b);}}else{return g[a]!==undefined?g[a]:"";}};return this.html.replace(this.re,k);},set:function(d,c){this.html=d;this.compiled=null;if(c){this.compile();}return this;},disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,compile:function(){var fm=Ext.util.Format;var useF=this.disableFormats!==true;var sep=Ext.isGecko?"+":",";var fn=function(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"(";}else{format='this.call("'+format.substr(5)+'", ';args=", values";}}else{args="";format="(values['"+name+"'] == undefined ? '' : ";}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'";};var body;if(Ext.isGecko){body="this.compiled = function(values){ return '"+this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};";}else{body=["this.compiled = function(values){ return ['"];body.push(this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn));body.push("'].join('');};");body=body.join("");}eval(body);return this;},call:function(g,d,e){return this[g](d,e);},insertFirst:function(d,e,g){return this.doInsert("afterBegin",d,e,g);},insertBefore:function(d,e,g){return this.doInsert("beforeBegin",d,e,g);},insertAfter:function(d,e,g){return this.doInsert("afterEnd",d,e,g);},append:function(d,e,g){return this.doInsert("beforeEnd",d,e,g);},doInsert:function(l,i,g,h){i=Ext.getDom(i);var k=Ext.DomHelper.insertHtml(l,i,this.applyTemplate(g));return h?Ext.get(k,true):k;},overwrite:function(d,e,g){d=Ext.getDom(d);d.innerHTML=this.applyTemplate(e);return g?Ext.get(d.firstChild,true):d.firstChild;}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(c,d){c=Ext.getDom(c);return new Ext.Template(c.value||c.innerHTML,d||"");};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={};var nonSpace=/\S/;var trimRe=/^\s+|\s+$/g;var tplRe=/\{(\d+)\}/g;var modeRe=/^(\s?[\/>+~]\s?|\s|$)/;var tagTokenRe=/^(#)?([\w-\*]+)/;var nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/;function child(p,index){var i=0;var n=p.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n;}}n=n.nextSibling;}return null;}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n;}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n;}function children(d){var n=d.firstChild,ni=-1;while(n){var nx=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){d.removeChild(n);}else{n.nodeIndex=++ni;}n=nx;}return this;}function byClassName(c,a,v){if(!v){return c;}var r=[],ri=-1,cn;for(var i=0,ci;ci=c[i];i++){if((" "+ci.className+" ").indexOf(v)!=-1){r[++ri]=ci;}}return r;}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0];}if(!n){return null;}if(attr=="for"){return n.htmlFor;}if(attr=="class"||attr=="className"){return n.className;}return n.getAttribute(attr)||n[attr];}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result;}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns];}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci;}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.children||ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj;}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n;}}}else{if(mode=="~"){for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&(n.nodeType!=1||(tagName=="*"||n.tagName.toLowerCase()!=tagName))){}if(n){result[++ri]=n;}}}}}}return result;}function concat(a,b){if(b.slice){return a.concat(b);}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i];}return a;}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs];}if(!tagName){return cs;}var r=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){r[++ri]=ci;}}return r;}function byId(cs,attr,id){if(cs.tagName||cs==document){cs=[cs];}if(!id){return cs;}var r=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){r[++ri]=ci;return r;}}return r;}function byAttribute(cs,attr,value,op,custom){var r=[],ri=-1,st=custom=="{";var f=Ext.DomQuery.operators[op];for(var i=0,ci;ci=cs[i];i++){var a;if(st){a=Ext.DomQuery.getStyle(ci,attr);}else{if(attr=="class"||attr=="className"){a=ci.className;}else{if(attr=="for"){a=ci.htmlFor;}else{if(attr=="href"){a=ci.getAttribute("href",2);}else{a=ci.getAttribute(attr);}}}}if((f&&f(a,value))||(!f&&a)){r[++ri]=ci;}}return r;}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value);}var isIE=window.ActiveXObject?true:false;eval("var batch = 30803;");var key=30803;function nodupIEXml(cs){var d=++key;cs[0].setAttribute("_nodup",d);var r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c;}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup");}return r;}function nodup(cs){if(!cs){return[];}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs;}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs);}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d;}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j];}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj;}}return r;}}return r;}function quickDiffIEXml(c1,c2){var d=++key;for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d);}var r=[];for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i];}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff");}return r;}function quickDiff(c1,c2){var len1=c1.length;if(!len1){return c2;}if(isIE&&c1[0].selectSingleNode){return quickDiffIEXml(c1,c2);}var d=++key;for(var i=0;i<len1;i++){c1[i]._qdiff=d;}var r=[];for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i];}}return r;}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id);}ns=getNodes(ns,mode,"*");return byId(ns,null,id);}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name);},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"];var q=path,mode,lq;var tk=Ext.DomQuery.matchers;var tklen=tk.length;var mm;var lmode=q.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';q=q.replace(lmode[1],"");}while(path.substr(0,1)=="/"){path=path.substr(1);}while(q&&lq!=q){lq=q;var tm=q.match(tagTokenRe);if(type=="select"){if(tm){if(tm[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tm[2]+'");';}else{fn[fn.length]='n = getNodes(n, mode, "'+tm[2]+'");';}q=q.replace(tm[0],"");}else{if(q.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");';}}}else{if(tm){if(tm[1]=="#"){fn[fn.length]='n = byId(n, null, "'+tm[2]+'");';}else{fn[fn.length]='n = byTag(n, "'+tm[2]+'");';}q=q.replace(tm[0],"");}}while(!(mm=q.match(modeRe))){var matched=false;for(var j=0;j<tklen;j++){var t=tk[j];var m=q.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i];});q=q.replace(m[0],"");matched=true;break;}}if(!matched){throw'Error parsing selector, parsing failed at "'+q+'"';}}if(mm[1]){fn[fn.length]='mode="'+mm[1].replace(trimRe,"")+'";';q=q.replace(mm[1],"");}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f;},select:function(path,root,type){if(!root||root==document){root=document;}if(typeof root=="string"){root=document.getElementById(root);}var paths=path.split(",");var results=[];for(var i=0,len=paths.length;i<len;i++){var p=paths[i].replace(trimRe,"");if(!cache[p]){cache[p]=Ext.DomQuery.compile(p);if(!cache[p]){throw p+" is not a valid selector";}}var result=cache[p](root);if(result&&result!=document){results=results.concat(result);}}if(paths.length>1){return nodup(results);}return results;},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0];},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select");}var n=valueCache[path](root);n=n[0]?n[0]:n;var v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v);},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v);},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el);}var isArray=Ext.isArray(el);var result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0);},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple");}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result;},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, null, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, null, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v;},"!=":function(a,v){return a!=v;},"^=":function(a,v){return a&&a.substr(0,v.length)==v;},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v;},"*=":function(a,v){return a&&a.indexOf(v)!==-1;},"%=":function(a,v){return(a%v)==0;},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-");},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1;}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci;}}return r;},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci;}}return r;},"nth-child":function(c,a){var r=[],ri=-1;var m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a);var f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j;}}pn._batch=batch;}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n;}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n;}}}return r;},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci;}}return r;},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break;}}if(empty){r[++ri]=ci;}}return r;},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci;}}return r;},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci;}}return r;},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci;}}return r;},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true);},any:function(c,selectors){var ss=selectors.split("|");var r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break;}}}return r;},odd:function(c){return this["nth-child"](c,"odd");},even:function(c){return this["nth-child"](c,"even");},nth:function(c,a){return c[a-1]||[];},first:function(c){return c[0]||[];},last:function(c){return c[c.length-1]||[];},has:function(c,ss){var s=Ext.DomQuery.select;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci;}}return r;},next:function(c,ss){var is=Ext.DomQuery.is;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci;}}return r;},prev:function(c,ss){var is=Ext.DomQuery.is;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci;}}return r;}}};}();Ext.query=Ext.DomQuery.select;Ext.util.Observable=function(){if(this.listeners){this.on(this.listeners);delete this.listeners;}if(!this.events){this.events={};}};Ext.util.Observable.prototype={fireEvent:function(){var a=Array.prototype.slice.call(arguments,0);var l=a[0];if(l===true){a.shift();var c=this;while(c){if(c.fireEvent.apply(c,a)===false){return false;}c=c.getBubbleTarget?c.getBubbleTarget():null;}return true;}if(this.eventsSuspended===true){var k=this.suspendedEventsQueue;if(k){k[k.length]=a;}}else{var i=this.events[l.toLowerCase()];if(typeof i=="object"){a.shift();return i.fire.apply(i,a);}}return true;},filterOptRe:/^(?:scope|delay|buffer|single)$/,addListener:function(i,n,e,k){if(typeof i=="object"){k=i;for(var l in k){if(this.filterOptRe.test(l)){continue;}if(typeof k[l]=="function"){this.addListener(l,k[l],k.scope,k);}else{this.addListener(l,k[l].fn,k[l].scope,k[l]);}}return;}k=(!k||typeof k=="boolean")?{}:k;i=i.toLowerCase();var m=this.events[i]||true;if(typeof m=="boolean"){m=new Ext.util.Event(this,i);this.events[i]=m;}m.addListener(n,e,k);},removeListener:function(g,i,e){var h=this.events[g.toLowerCase()];if(typeof h=="object"){h.removeListener(i,e);}},purgeListeners:function(){for(var b in this.events){if(typeof this.events[b]=="object"){this.events[b].clearListeners();}}},relayEvents:function(k,m){var l=function(a){return function(){return this.fireEvent.apply(this,Ext.combine(a,Array.prototype.slice.call(arguments,0)));};};for(var n=0,i=m.length;n<i;n++){var h=m[n];if(!this.events[h]){this.events[h]=true;}k.on(h,l(h),this);}},addEvents:function(g){if(!this.events){this.events={};}if(typeof g=="string"){for(var h=0,a=arguments,i;i=a[h];h++){if(!this.events[a[h]]){this.events[a[h]]=true;}}}else{Ext.applyIf(this.events,g);}},hasListener:function(d){var c=this.events[d];return typeof c=="object"&&c.listeners.length>0;},suspendEvents:function(b){this.eventsSuspended=true;if(b===true){this.suspendedEventsQueue=[];}},resumeEvents:function(){this.eventsSuspended=false;if(this.suspendedEventsQueue){for(var d=0,g=this.suspendedEventsQueue,e=g.length;d<e;d++){this.fireEvent.apply(this,g[d]);}delete this.suspendedEventQueue;}},getMethodEvent:function(l){if(!this.methodEvents){this.methodEvents={};}var m=this.methodEvents[l];if(!m){m={};this.methodEvents[l]=m;m.originalFn=this[l];m.methodName=l;m.before=[];m.after=[];var p,e,o;var n=this;var k=function(a,b,c){if((e=a.apply(b||n,c))!==undefined){if(typeof e==="object"){if(e.returnValue!==undefined){p=e.returnValue;}else{p=e;}if(e.cancel===true){o=true;}}else{if(e===false){o=true;}else{p=e;}}}};this[l]=function(){p=e=undefined;o=false;var b=Array.prototype.slice.call(arguments,0);for(var a=0,c=m.before.length;a<c;a++){k(m.before[a].fn,m.before[a].scope,b);if(o){return p;}}if((e=m.originalFn.apply(n,b))!==undefined){p=e;}for(var a=0,c=m.after.length;a<c;a++){k(m.after[a].fn,m.after[a].scope,b);if(o){return p;}}return p;};}return m;},beforeMethod:function(h,e,g){var i=this.getMethodEvent(h);i.before.push({fn:e,scope:g});},afterMethod:function(h,e,g){var i=this.getMethodEvent(h);i.after.push({fn:e,scope:g});},removeMethodListener:function(k,m,n){var l=this.getMethodEvent(k);for(var e=0,i=l.before.length;e<i;e++){if(l.before[e].fn==m&&l.before[e].scope==n){l.before.splice(e,1);return;}}for(var e=0,i=l.after.length;e<i;e++){if(l.after[e].fn==m&&l.after[e].scope==n){l.after.splice(e,1);return;}}}};Ext.util.Observable.prototype.on=Ext.util.Observable.prototype.addListener;Ext.util.Observable.prototype.un=Ext.util.Observable.prototype.removeListener;Ext.util.Observable.capture=function(g,d,e){g.fireEvent=g.fireEvent.createInterceptor(d,e);};Ext.util.Observable.releaseCapture=function(b){b.fireEvent=Ext.util.Observable.prototype.fireEvent;};(function(){var e=function(b,a,c){var d=new Ext.util.DelayedTask();return function(){d.delay(a.buffer,b,c,Array.prototype.slice.call(arguments,0));};};var h=function(b,a,c,d){return function(){a.removeListener(c,d);return b.apply(d,arguments);};};var g=function(b,a,c){return function(){var d=Array.prototype.slice.call(arguments,0);setTimeout(function(){b.apply(c,d);},a.delay||10);};};var i=function(b,a,c){return function(){if(a.target==arguments[0]){b.apply(c,Array.prototype.slice.call(arguments,0));}};};Ext.util.Event=function(a,b){this.name=b;this.obj=a;this.listeners=[];};Ext.util.Event.prototype={addListener:function(a,b,c){b=b||this.obj;if(!this.isListening(a,b)){var d=this.createListener(a,b,c);if(!this.firing){this.listeners.push(d);}else{this.listeners=this.listeners.slice(0);this.listeners.push(d);}}},createListener:function(b,c,a){a=a||{};c=c||this.obj;var l={fn:b,scope:c,options:a};var d=b;if(a.target){d=i(d,a,c);}if(a.delay){d=g(d,a,c);}if(a.single){d=h(d,this,b,c);}if(a.buffer){d=e(d,a,c);}l.fireFn=d;return l;},findListener:function(o,a){a=a||this.obj;var c=this.listeners;for(var b=0,l=c.length;b<l;b++){var d=c[b];if(d.fn==o&&d.scope==a){return b;}}return -1;},isListening:function(a,b){return this.findListener(a,b)!=-1;},removeListener:function(a,b){var c;if((c=this.findListener(a,b))!=-1){if(!this.firing){this.listeners.splice(c,1);}else{this.listeners=this.listeners.slice(0);this.listeners.splice(c,1);}return true;}return false;},clearListeners:function(){this.listeners=[];},fire:function(){var c=this.listeners,o,l=c.length;if(l>0){this.firing=true;var b=Array.prototype.slice.call(arguments,0);for(var a=0;a<l;a++){var d=c[a];if(d.fireFn.apply(d.scope||this.obj||window,arguments)===false){this.firing=false;return false;}}this.firing=false;}return true;}};})();Ext.EventManager=function(){var z,H,L=false;var K,A,Q,F;var I=Ext.lib.Event;var G=Ext.lib.Dom;var V="Ext";var O={};var J=function(d,a,e,h,i){var b=Ext.id(d);if(!O[b]){O[b]={};}var c=O[b];if(!c[a]){c[a]=[];}var g=c[a];g.push({id:b,ename:a,fn:e,wrap:h,scope:i});I.on(d,a,h);if(a=="mousewheel"&&d.addEventListener){d.addEventListener("DOMMouseScroll",h,false);I.on(window,"unload",function(){d.removeEventListener("DOMMouseScroll",h,false);});}if(a=="mousedown"&&d==document){Ext.EventManager.stoppedMouseDownEvent.addListener(h);}};var P=function(c,a,i,g){c=Ext.getDom(c);var e=Ext.id(c),h=O[e],d;if(h){var l=h[a],b;if(l){for(var m=0,k=l.length;m<k;m++){b=l[m];if(b.fn==i&&(!g||b.scope==g)){d=b.wrap;I.un(c,a,d);l.splice(m,1);break;}}}}if(a=="mousewheel"&&c.addEventListener&&d){c.removeEventListener("DOMMouseScroll",d,false);}if(a=="mousedown"&&c==document&&d){Ext.EventManager.stoppedMouseDownEvent.removeListener(d);}};var S=function(d){d=Ext.getDom(d);var b=Ext.id(d),c=O[b],a;if(c){for(var g in c){if(c.hasOwnProperty(g)){a=c[g];for(var h=0,e=a.length;h<e;h++){I.un(d,g,a[h].wrap);a[h]=null;}}c[g]=null;}delete O[b];}};var T=function(){if(!L){L=true;Ext.isReady=true;if(H){clearInterval(H);}if(Ext.isGecko||Ext.isOpera){document.removeEventListener("DOMContentLoaded",T,false);}if(Ext.isIE){var a=document.getElementById("ie-deferred-loader");if(a){a.onreadystatechange=null;a.parentNode.removeChild(a);}}if(z){z.fire();z.clearListeners();}}};var U=function(){z=new Ext.util.Event();if(Ext.isGecko||Ext.isOpera){document.addEventListener("DOMContentLoaded",T,false);}else{if(Ext.isIE){document.write('<script id="ie-deferred-loader" defer="defer" src="//:"><\/script>');var a=document.getElementById("ie-deferred-loader");a.onreadystatechange=function(){if(this.readyState=="complete"){T();}};}else{if(Ext.isSafari){H=setInterval(function(){var b=document.readyState;if(b=="complete"){T();}},10);}}}I.on(window,"load",T);};var B=function(a,c){var b=new Ext.util.DelayedTask(a);return function(d){d=new Ext.EventObjectImpl(d);b.delay(c.buffer,a,null,[d]);};};var E=function(b,d,c,e,a){return function(g){Ext.EventManager.removeListener(d,c,e,a);b(g);};};var R=function(b,a){return function(c){c=new Ext.EventObjectImpl(c);setTimeout(function(){b(c);},a.delay||10);};};var C=function(b,a){return function(){if(a.target==Ext.EventObject.setEvent(arguments[0]).target){b.apply(this,Array.prototype.slice.call(arguments,0));}};};var M=function(i,a,h,c,d){var b=(!h||typeof h=="boolean")?{}:h;c=c||b.fn;d=d||b.scope;var e=Ext.getDom(i);if(!e){throw'Error listening for "'+a+'". Element "'+i+"\" doesn't exist.";}var g=function(k){if(!window[V]){return;}k=Ext.EventObject.setEvent(k);var l;if(b.delegate){l=k.getTarget(b.delegate,e);if(!l){return;}}else{l=k.target;}if(b.stopEvent===true){k.stopEvent();}if(b.preventDefault===true){k.preventDefault();}if(b.stopPropagation===true){k.stopPropagation();}if(b.normalized===false){k=k.browserEvent;}c.call(d||e,k,l,b);};if(b.target){g=C(g,b);}if(b.delay){g=R(g,b);}if(b.single){g=E(g,e,a,c,d);}if(b.buffer){g=B(g,b);}J(e,a,c,g,d);return g;};var N=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var D={addListener:function(h,g,d,e,a){if(typeof g=="object"){var b=g;for(var c in b){if(N.test(c)){continue;}if(typeof b[c]=="function"){M(h,c,b,b[c],b.scope);}else{M(h,c,b[c]);}}return;}return M(h,g,a,d,e);},removeListener:function(a,c,b,d){return P(a,c,b,d);},removeAll:function(a){return S(a);},onDocumentReady:function(c,a,b){if(L){z.addListener(c,a,b);z.fire();z.clearListeners();return;}if(!z){U();}b=b||{};if(!b.delay){b.delay=1;}z.addListener(c,a,b);},doResizeEvent:function(){K.fire(G.getViewWidth(),G.getViewHeight());},onWindowResize:function(c,a,b){if(!K){K=new Ext.util.Event();A=new Ext.util.DelayedTask(this.doResizeEvent);I.on(window,"resize",this.fireWindowResize,this);}K.addListener(c,a,b);},fireWindowResize:function(){if(K){if((Ext.isIE||Ext.isAir)&&A){A.delay(50);}else{K.fire(G.getViewWidth(),G.getViewHeight());}}},onTextResize:function(c,d,b){if(!Q){Q=new Ext.util.Event();var a=new Ext.Element(document.createElement("div"));a.dom.className="x-text-resize";a.dom.innerHTML="X";a.appendTo(document.body);F=a.dom.offsetHeight;setInterval(function(){if(a.dom.offsetHeight!=F){Q.fire(F,F=a.dom.offsetHeight);}},this.textResizeInterval);}Q.addListener(c,d,b);},removeResizeListener:function(a,b){if(K){K.removeListener(a,b);}},fireResize:function(){if(K){K.fire(G.getViewWidth(),G.getViewHeight());}},ieDeferSrc:false,textResizeInterval:50};D.on=D.addListener;D.un=D.removeListener;D.stoppedMouseDownEvent=new Ext.util.Event();return D;}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var b=function(){var g=document.body||document.getElementsByTagName("body")[0];if(!g){return false;}var a=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isSafari?"ext-safari":Ext.isChrome?"ext-chrome":""];if(Ext.isMac){a.push("ext-mac");}if(Ext.isLinux){a.push("ext-linux");}if(Ext.isBorderBox){a.push("ext-border-box");}if(Ext.isStrict){var e=g.parentNode;if(e){e.className+=" ext-strict";}}g.className+=a.join(" ");return true;};if(!b()){Ext.onReady(b);}})();Ext.EventObject=function(){var d=Ext.lib.Event;var e={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};var g=Ext.isIE?{1:0,4:1,2:2}:(Ext.isSafari?{1:0,2:1,3:2}:{0:0,1:1,2:2});Ext.EventObjectImpl=function(a){if(a){this.setEvent(a.browserEvent||a);}};Ext.EventObjectImpl.prototype={browserEvent:null,button:-1,shiftKey:false,ctrlKey:false,altKey:false,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,setEvent:function(a){if(a==this||(a&&a.browserEvent)){return a;}this.browserEvent=a;if(a){this.button=a.button?g[a.button]:(a.which?a.which-1:-1);if(a.type=="click"&&this.button==-1){this.button=0;}this.type=a.type;this.shiftKey=a.shiftKey;this.ctrlKey=a.ctrlKey||a.metaKey;this.altKey=a.altKey;this.keyCode=a.keyCode;this.charCode=a.charCode;this.target=d.getTarget(a);this.xy=d.getXY(a);}else{this.button=-1;this.shiftKey=false;this.ctrlKey=false;this.altKey=false;this.keyCode=0;this.charCode=0;this.target=null;this.xy=[0,0];}return this;},stopEvent:function(){if(this.browserEvent){if(this.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this);}d.stopEvent(this.browserEvent);}},preventDefault:function(){if(this.browserEvent){d.preventDefault(this.browserEvent);}},isNavKeyPress:function(){var a=this.keyCode;a=Ext.isSafari?(e[a]||a):a;return(a>=33&&a<=40)||a==this.RETURN||a==this.TAB||a==this.ESC;},isSpecialKey:function(){var a=this.keyCode;return(this.type=="keypress"&&this.ctrlKey)||a==9||a==13||a==40||a==27||(a==16)||(a==17)||(a>=18&&a<=20)||(a>=33&&a<=35)||(a>=36&&a<=39)||(a>=44&&a<=45);},stopPropagation:function(){if(this.browserEvent){if(this.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this);}d.stopPropagation(this.browserEvent);}},getCharCode:function(){return this.charCode||this.keyCode;},getKey:function(){var a=this.keyCode||this.charCode;return Ext.isSafari?(e[a]||a):a;},getPageX:function(){return this.xy[0];},getPageY:function(){return this.xy[1];},getTime:function(){if(this.browserEvent){return d.getTime(this.browserEvent);}return null;},getXY:function(){return this.xy;},getTarget:function(b,a,c){return b?Ext.fly(this.target).findParent(b,a,c):(c?Ext.get(this.target):this.target);},getRelatedTarget:function(){if(this.browserEvent){return d.getRelatedTarget(this.browserEvent);}return null;},getWheelDelta:function(){var b=this.browserEvent;var a=0;if(b.wheelDelta){a=b.wheelDelta/120;}else{if(b.detail){a=-b.detail/3;}}return a;},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)?true:false;},within:function(b,a){var c=this[a?"getRelatedTarget":"getTarget"]();return c&&Ext.fly(b).contains(c);},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1]);}};return new Ext.EventObjectImpl();}();(function(){var D=Ext.lib.Dom;var E=Ext.lib.Event;var A=Ext.lib.Anim;var propCache={};var camelRe=/(-[a-z])/gi;var camelFn=function(m,a){return a.charAt(1).toUpperCase();};var view=document.defaultView;Ext.Element=function(element,forceNew){var dom=typeof element=="string"?document.getElementById(element):element;if(!dom){return null;}var id=dom.id;if(forceNew!==true&&id&&Ext.Element.cache[id]){return Ext.Element.cache[id];}this.dom=dom;this.id=id||Ext.id(dom);};var El=Ext.Element;El.prototype={originalDisplay:"",visibilityMode:1,defaultUnit:"px",setVisibilityMode:function(visMode){this.visibilityMode=visMode;return this;},enableDisplayMode:function(display){this.setVisibilityMode(El.DISPLAY);if(typeof display!="undefined"){this.originalDisplay=display;}return this;},findParent:function(simpleSelector,maxDepth,returnEl){var p=this.dom,b=document.body,depth=0,dq=Ext.DomQuery,stopEl;maxDepth=maxDepth||50;if(typeof maxDepth!="number"){stopEl=Ext.getDom(maxDepth);maxDepth=10;}while(p&&p.nodeType==1&&depth<maxDepth&&p!=b&&p!=stopEl){if(dq.is(p,simpleSelector)){return returnEl?Ext.get(p):p;}depth++;p=p.parentNode;}return null;},findParentNode:function(simpleSelector,maxDepth,returnEl){var p=Ext.fly(this.dom.parentNode,"_internal");return p?p.findParent(simpleSelector,maxDepth,returnEl):null;},up:function(simpleSelector,maxDepth){return this.findParentNode(simpleSelector,maxDepth,true);},is:function(simpleSelector){return Ext.DomQuery.is(this.dom,simpleSelector);},animate:function(args,duration,onComplete,easing,animType){this.anim(args,{duration:duration,callback:onComplete,easing:easing},animType);return this;},anim:function(args,opt,animType,defaultDur,defaultEase,cb){animType=animType||"run";opt=opt||{};var anim=Ext.lib.Anim[animType](this.dom,args,(opt.duration||defaultDur)||0.35,(opt.easing||defaultEase)||"easeOut",function(){Ext.callback(cb,this);Ext.callback(opt.callback,opt.scope||this,[this,opt]);},this);opt.anim=anim;return anim;},preanim:function(a,i){return !a[i]?false:(typeof a[i]=="object"?a[i]:{duration:a[i+1],callback:a[i+2],easing:a[i+3]});},clean:function(forceReclean){if(this.isCleaned&&forceReclean!==true){return this;}var ns=/\S/;var d=this.dom,n=d.firstChild,ni=-1;while(n){var nx=n.nextSibling;if(n.nodeType==3&&!ns.test(n.nodeValue)){d.removeChild(n);}else{n.nodeIndex=++ni;}n=nx;}this.isCleaned=true;return this;},contains:function(el){if(!el){return false;}return D.isAncestor(this.dom,el.dom?el.dom:el);},isVisible:function(deep){var vis=!(this.getStyle("visibility")=="hidden"||this.getStyle("display")=="none");if(deep!==true||!vis){return vis;}var p=this.dom.parentNode;while(p&&p.tagName.toLowerCase()!="body"){if(!Ext.fly(p,"_isVisible").isVisible()){return false;}p=p.parentNode;}return true;},select:function(selector,unique){return El.select(selector,unique,this.dom);},query:function(selector,unique){return Ext.DomQuery.select(selector,this.dom);},child:function(selector,returnDom){var n=Ext.DomQuery.selectNode(selector,this.dom);return returnDom?n:Ext.get(n);},down:function(selector,returnDom){var n=Ext.DomQuery.selectNode(" > "+selector,this.dom);return returnDom?n:Ext.get(n);},setVisible:function(visible,animate){if(!animate||!A){if(this.visibilityMode==El.DISPLAY){this.setDisplayed(visible);}else{this.fixDisplay();this.dom.style.visibility=visible?"visible":"hidden";}}else{var dom=this.dom;var visMode=this.visibilityMode;if(visible){this.setOpacity(0.01);this.setVisible(true);}this.anim({opacity:{to:(visible?1:0)}},this.preanim(arguments,1),null,0.35,"easeIn",function(){if(!visible){if(visMode==El.DISPLAY){dom.style.display="none";}else{dom.style.visibility="hidden";}Ext.get(dom).setOpacity(1);}});}return this;},isDisplayed:function(){return this.getStyle("display")!="none";},toggle:function(animate){this.setVisible(!this.isVisible(),this.preanim(arguments,0));return this;},setDisplayed:function(value){if(typeof value=="boolean"){value=value?this.originalDisplay:"none";}this.setStyle("display",value);return this;},focus:function(defer){try{if(typeof defer=="number"){this.focus.defer(defer,this);}else{this.dom.focus();}}catch(e){}return this;},blur:function(){try{this.dom.blur();}catch(e){}return this;},addClass:function(className){if(Ext.isArray(className)){for(var i=0,len=className.length;i<len;i++){this.addClass(className[i]);}}else{if(className&&!this.hasClass(className)){this.dom.className=this.dom.className+" "+className;}}return this;},radioClass:function(className){var siblings=this.dom.parentNode.childNodes;for(var i=0;i<siblings.length;i++){var s=siblings[i];if(s.nodeType==1){Ext.get(s).removeClass(className);}}this.addClass(className);return this;},removeClass:function(className){if(!className||!this.dom.className){return this;}if(Ext.isArray(className)){for(var i=0,len=className.length;i<len;i++){this.removeClass(className[i]);}}else{if(this.hasClass(className)){var re=this.classReCache[className];if(!re){re=new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)","g");this.classReCache[className]=re;}this.dom.className=this.dom.className.replace(re," ");}}return this;},classReCache:{},toggleClass:function(className){if(this.hasClass(className)){this.removeClass(className);}else{this.addClass(className);}return this;},hasClass:function(className){return className&&(" "+this.dom.className+" ").indexOf(" "+className+" ")!=-1;},replaceClass:function(oldClassName,newClassName){this.removeClass(oldClassName);this.addClass(newClassName);return this;},getStyles:function(){var a=arguments,len=a.length,r={};for(var i=0;i<len;i++){r[a[i]]=this.getStyle(a[i]);}return r;},getStyle:function(){return view&&view.getComputedStyle?function(prop){var el=this.dom,v,cs,camel;if(prop=="float"){prop="cssFloat";}if(v=el.style[prop]){return v;}if(cs=view.getComputedStyle(el,"")){if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn);}return cs[camel];}return null;}:function(prop){var el=this.dom,v,cs,camel;if(prop=="opacity"){if(typeof el.style.filter=="string"){var m=el.style.filter.match(/alpha\(opacity=(.*)\)/i);if(m){var fv=parseFloat(m[1]);if(!isNaN(fv)){return fv?fv/100:0;}}}return 1;}else{if(prop=="float"){prop="styleFloat";}}if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn);}if(v=el.style[camel]){return v;}if(cs=el.currentStyle){return cs[camel];}return null;};}(),setStyle:function(prop,value){if(typeof prop=="string"){var camel;if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn);}if(camel=="opacity"){this.setOpacity(value);}else{this.dom.style[camel]=value;}}else{for(var style in prop){if(typeof prop[style]!="function"){this.setStyle(style,prop[style]);}}}return this;},applyStyles:function(style){Ext.DomHelper.applyStyles(this.dom,style);return this;},getX:function(){return D.getX(this.dom);},getY:function(){return D.getY(this.dom);},getXY:function(){return D.getXY(this.dom);},getOffsetsTo:function(el){var o=this.getXY();var e=Ext.fly(el,"_internal").getXY();return[o[0]-e[0],o[1]-e[1]];},setX:function(x,animate){if(!animate||!A){D.setX(this.dom,x);}else{this.setXY([x,this.getY()],this.preanim(arguments,1));}return this;},setY:function(y,animate){if(!animate||!A){D.setY(this.dom,y);}else{this.setXY([this.getX(),y],this.preanim(arguments,1));}return this;},setLeft:function(left){this.setStyle("left",this.addUnits(left));return this;},setTop:function(top){this.setStyle("top",this.addUnits(top));return this;},setRight:function(right){this.setStyle("right",this.addUnits(right));return this;},setBottom:function(bottom){this.setStyle("bottom",this.addUnits(bottom));return this;},setXY:function(pos,animate){if(!animate||!A){D.setXY(this.dom,pos);}else{this.anim({points:{to:pos}},this.preanim(arguments,1),"motion");}return this;},setLocation:function(x,y,animate){this.setXY([x,y],this.preanim(arguments,2));return this;},moveTo:function(x,y,animate){this.setXY([x,y],this.preanim(arguments,2));return this;},getRegion:function(){return D.getRegion(this.dom);},getHeight:function(contentHeight){var h=this.dom.offsetHeight||0;h=contentHeight!==true?h:h-this.getBorderWidth("tb")-this.getPadding("tb");return h<0?0:h;},getWidth:function(contentWidth){var w=this.dom.offsetWidth||0;w=contentWidth!==true?w:w-this.getBorderWidth("lr")-this.getPadding("lr");return w<0?0:w;},getComputedHeight:function(){var h=Math.max(this.dom.offsetHeight,this.dom.clientHeight);if(!h){h=parseInt(this.getStyle("height"),10)||0;if(!this.isBorderBox()){h+=this.getFrameWidth("tb");}}return h;},getComputedWidth:function(){var w=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!w){w=parseInt(this.getStyle("width"),10)||0;if(!this.isBorderBox()){w+=this.getFrameWidth("lr");}}return w;},getSize:function(contentSize){return{width:this.getWidth(contentSize),height:this.getHeight(contentSize)};},getStyleSize:function(){var w,h,d=this.dom,s=d.style;if(s.width&&s.width!="auto"){w=parseInt(s.width,10);if(this.isBorderBox()){w-=this.getFrameWidth("lr");}}if(s.height&&s.height!="auto"){h=parseInt(s.height,10);if(this.isBorderBox()){h-=this.getFrameWidth("tb");}}return{width:w||this.getWidth(true),height:h||this.getHeight(true)};},getViewSize:function(){var d=this.dom,doc=document,aw=0,ah=0;if(d==doc||d==doc.body){return{width:D.getViewWidth(),height:D.getViewHeight()};}else{return{width:d.clientWidth,height:d.clientHeight};}},getValue:function(asNumber){return asNumber?parseInt(this.dom.value,10):this.dom.value;},adjustWidth:function(width){if(typeof width=="number"){if(this.autoBoxAdjust&&!this.isBorderBox()){width-=(this.getBorderWidth("lr")+this.getPadding("lr"));}if(width<0){width=0;}}return width;},adjustHeight:function(height){if(typeof height=="number"){if(this.autoBoxAdjust&&!this.isBorderBox()){height-=(this.getBorderWidth("tb")+this.getPadding("tb"));}if(height<0){height=0;}}return height;},setWidth:function(width,animate){width=this.adjustWidth(width);if(!animate||!A){this.dom.style.width=this.addUnits(width);}else{this.anim({width:{to:width}},this.preanim(arguments,1));}return this;},setHeight:function(height,animate){height=this.adjustHeight(height);if(!animate||!A){this.dom.style.height=this.addUnits(height);}else{this.anim({height:{to:height}},this.preanim(arguments,1));}return this;},setSize:function(width,height,animate){if(typeof width=="object"){height=width.height;width=width.width;}width=this.adjustWidth(width);height=this.adjustHeight(height);if(!animate||!A){this.dom.style.width=this.addUnits(width);this.dom.style.height=this.addUnits(height);}else{this.anim({width:{to:width},height:{to:height}},this.preanim(arguments,2));}return this;},setBounds:function(x,y,width,height,animate){if(!animate||!A){this.setSize(width,height);this.setLocation(x,y);}else{width=this.adjustWidth(width);height=this.adjustHeight(height);this.anim({points:{to:[x,y]},width:{to:width},height:{to:height}},this.preanim(arguments,4),"motion");}return this;},setRegion:function(region,animate){this.setBounds(region.left,region.top,region.right-region.left,region.bottom-region.top,this.preanim(arguments,1));return this;},addListener:function(eventName,fn,scope,options){Ext.EventManager.on(this.dom,eventName,fn,scope||this,options);},removeListener:function(eventName,fn,scope){Ext.EventManager.removeListener(this.dom,eventName,fn,scope||this);return this;},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this;},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e);});},setOpacity:function(opacity,animate){if(!animate||!A){var s=this.dom.style;if(Ext.isIE){s.zoom=1;s.filter=(s.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(opacity==1?"":" alpha(opacity="+opacity*100+")");}else{s.opacity=opacity;}}else{this.anim({opacity:{to:opacity}},this.preanim(arguments,1),null,0.35,"easeIn");}return this;},getLeft:function(local){if(!local){return this.getX();}else{return parseInt(this.getStyle("left"),10)||0;}},getRight:function(local){if(!local){return this.getX()+this.getWidth();}else{return(this.getLeft(true)+this.getWidth())||0;}},getTop:function(local){if(!local){return this.getY();}else{return parseInt(this.getStyle("top"),10)||0;}},getBottom:function(local){if(!local){return this.getY()+this.getHeight();}else{return(this.getTop(true)+this.getHeight())||0;}},position:function(pos,zIndex,x,y){if(!pos){if(this.getStyle("position")=="static"){this.setStyle("position","relative");}}else{this.setStyle("position",pos);}if(zIndex){this.setStyle("z-index",zIndex);}if(x!==undefined&&y!==undefined){this.setXY([x,y]);}else{if(x!==undefined){this.setX(x);}else{if(y!==undefined){this.setY(y);}}}},clearPositioning:function(value){value=value||"";this.setStyle({left:value,right:value,top:value,bottom:value,"z-index":"",position:"static"});return this;},getPositioning:function(){var l=this.getStyle("left");var t=this.getStyle("top");return{position:this.getStyle("position"),left:l,right:l?"":this.getStyle("right"),top:t,bottom:t?"":this.getStyle("bottom"),"z-index":this.getStyle("z-index")};},getBorderWidth:function(side){return this.addStyles(side,El.borders);},getPadding:function(side){return this.addStyles(side,El.paddings);},setPositioning:function(pc){this.applyStyles(pc);if(pc.right=="auto"){this.dom.style.right="";}if(pc.bottom=="auto"){this.dom.style.bottom="";}return this;},fixDisplay:function(){if(this.getStyle("display")=="none"){this.setStyle("visibility","hidden");this.setStyle("display",this.originalDisplay);if(this.getStyle("display")=="none"){this.setStyle("display","block");}}},setOverflow:function(v){if(v=="auto"&&Ext.isMac&&Ext.isGecko2){this.dom.style.overflow="hidden";(function(){this.dom.style.overflow="auto";}).defer(1,this);}else{this.dom.style.overflow=v;}},setLeftTop:function(left,top){this.dom.style.left=this.addUnits(left);this.dom.style.top=this.addUnits(top);return this;},move:function(direction,distance,animate){var xy=this.getXY();direction=direction.toLowerCase();switch(direction){case"l":case"left":this.moveTo(xy[0]-distance,xy[1],this.preanim(arguments,2));break;case"r":case"right":this.moveTo(xy[0]+distance,xy[1],this.preanim(arguments,2));break;case"t":case"top":case"up":this.moveTo(xy[0],xy[1]-distance,this.preanim(arguments,2));break;case"b":case"bottom":case"down":this.moveTo(xy[0],xy[1]+distance,this.preanim(arguments,2));break;}return this;},clip:function(){if(!this.isClipped){this.isClipped=true;this.originalClip={o:this.getStyle("overflow"),x:this.getStyle("overflow-x"),y:this.getStyle("overflow-y")};this.setStyle("overflow","hidden");this.setStyle("overflow-x","hidden");this.setStyle("overflow-y","hidden");}return this;},unclip:function(){if(this.isClipped){this.isClipped=false;var o=this.originalClip;if(o.o){this.setStyle("overflow",o.o);}if(o.x){this.setStyle("overflow-x",o.x);}if(o.y){this.setStyle("overflow-y",o.y);}}return this;},adjustForConstraints:function(xy,parent,offsets){return this.getConstrainToXY(parent||document,false,offsets,xy)||xy;},clearOpacity:function(){if(window.ActiveXObject){if(typeof this.dom.style.filter=="string"&&(/alpha/i).test(this.dom.style.filter)){this.dom.style.filter="";}}else{this.dom.style.opacity="";this.dom.style["-moz-opacity"]="";this.dom.style["-khtml-opacity"]="";}return this;},hide:function(animate){this.setVisible(false,this.preanim(arguments,0));return this;},show:function(animate){this.setVisible(true,this.preanim(arguments,0));return this;},addUnits:function(size){return Ext.Element.addUnits(size,this.defaultUnit);},update:function(html,loadScripts,callback){if(typeof html=="undefined"){html="";}if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback();}return this;}var id=Ext.id();var dom=this.dom;html+='<span id="'+id+'"></span>';E.onAvailable(id,function(){var hd=document.getElementsByTagName("head")[0];var re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig;var srcRe=/\ssrc=([\'\"])(.*?)\1/i;var typeRe=/\stype=([\'\"])(.*?)\1/i;var match;while(match=re.exec(html)){var attrs=match[1];var srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){var s=document.createElement("script");s.src=srcMatch[2];var typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2];}hd.appendChild(s);}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2]);}else{window.eval(match[2]);}}}}var el=document.getElementById(id);if(el){Ext.removeNode(el);}if(typeof callback=="function"){callback();}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this;},load:function(){var um=this.getUpdater();um.update.apply(um,arguments);return this;},getUpdater:function(){if(!this.updateManager){this.updateManager=new Ext.Updater(this);}return this.updateManager;},unselectable:function(){this.dom.unselectable="on";this.swallowEvent("selectstart",true);this.applyStyles("-moz-user-select:none;-khtml-user-select:none;");this.addClass("x-unselectable");return this;},getCenterXY:function(){return this.getAlignToXY(document,"c-c");},center:function(centerIn){this.alignTo(centerIn||document,"c-c");return this;},isBorderBox:function(){return noBoxAdjust[this.dom.tagName.toLowerCase()]||Ext.isBorderBox;},getBox:function(contentBox,local){var xy;if(!local){xy=this.getXY();}else{var left=parseInt(this.getStyle("left"),10)||0;var top=parseInt(this.getStyle("top"),10)||0;xy=[left,top];}var el=this.dom,w=el.offsetWidth,h=el.offsetHeight,bx;if(!contentBox){bx={x:xy[0],y:xy[1],0:xy[0],1:xy[1],width:w,height:h};}else{var l=this.getBorderWidth("l")+this.getPadding("l");var r=this.getBorderWidth("r")+this.getPadding("r");var t=this.getBorderWidth("t")+this.getPadding("t");var b=this.getBorderWidth("b")+this.getPadding("b");bx={x:xy[0]+l,y:xy[1]+t,0:xy[0]+l,1:xy[1]+t,width:w-(l+r),height:h-(t+b)};}bx.right=bx.x+bx.width;bx.bottom=bx.y+bx.height;return bx;},getFrameWidth:function(sides,onlyContentBox){return onlyContentBox&&this.isBorderBox()?0:(this.getPadding(sides)+this.getBorderWidth(sides));},setBox:function(box,adjust,animate){var w=box.width,h=box.height;if((adjust&&!this.autoBoxAdjust)&&!this.isBorderBox()){w-=(this.getBorderWidth("lr")+this.getPadding("lr"));h-=(this.getBorderWidth("tb")+this.getPadding("tb"));}this.setBounds(box.x,box.y,w,h,this.preanim(arguments,2));return this;},repaint:function(){var dom=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.get(dom).removeClass("x-repaint");},1);return this;},getMargins:function(side){if(!side){return{top:parseInt(this.getStyle("margin-top"),10)||0,left:parseInt(this.getStyle("margin-left"),10)||0,bottom:parseInt(this.getStyle("margin-bottom"),10)||0,right:parseInt(this.getStyle("margin-right"),10)||0};}else{return this.addStyles(side,El.margins);}},addStyles:function(sides,styles){var val=0,v,w;for(var i=0,len=sides.length;i<len;i++){v=this.getStyle(styles[sides.charAt(i)]);if(v){w=parseInt(v,10);if(w){val+=(w>=0?w:-1*w);}}}return val;},createProxy:function(config,renderTo,matchBox){config=typeof config=="object"?config:{tag:"div",cls:config};var proxy;if(renderTo){proxy=Ext.DomHelper.append(renderTo,config,true);}else{proxy=Ext.DomHelper.insertBefore(this.dom,config,true);}if(matchBox){proxy.setBox(this.getBox());}return proxy;},mask:function(msg,msgCls){if(this.getStyle("position")=="static"){this.addClass("x-masked-relative");}if(this._maskMsg){this._maskMsg.remove();}if(this._mask){this._mask.remove();}this._mask=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask"},true);this.addClass("x-masked");this._mask.setDisplayed(true);if(typeof msg=="string"){this._maskMsg=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask-msg",cn:{tag:"div"}},true);var mm=this._maskMsg;mm.dom.className=msgCls?"ext-el-mask-msg "+msgCls:"ext-el-mask-msg";mm.dom.firstChild.innerHTML=msg;mm.setDisplayed(true);mm.center(this);}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&this.getStyle("height")=="auto"){this._mask.setSize(this.dom.clientWidth,this.getHeight());}return this._mask;},unmask:function(){if(this._mask){if(this._maskMsg){this._maskMsg.remove();delete this._maskMsg;}this._mask.remove();delete this._mask;}this.removeClass(["x-masked","x-masked-relative"]);},isMasked:function(){return this._mask&&this._mask.isVisible();},createShim:function(){var el=document.createElement("iframe");el.frameBorder="0";el.className="ext-shim";if(Ext.isIE&&Ext.isSecure){el.src=Ext.SSL_SECURE_URL;}var shim=Ext.get(this.dom.parentNode.insertBefore(el,this.dom));shim.autoBoxAdjust=false;return shim;},remove:function(){Ext.removeNode(this.dom);delete El.cache[this.dom.id];},hover:function(overFn,outFn,scope){var preOverFn=function(e){if(!e.within(this,true)){overFn.apply(scope||this,arguments);}};var preOutFn=function(e){if(!e.within(this,true)){outFn.apply(scope||this,arguments);}};this.on("mouseover",preOverFn,this.dom);this.on("mouseout",preOutFn,this.dom);return this;},addClassOnOver:function(className){this.hover(function(){Ext.fly(this,"_internal").addClass(className);},function(){Ext.fly(this,"_internal").removeClass(className);});return this;},addClassOnFocus:function(className){this.on("focus",function(){Ext.fly(this,"_internal").addClass(className);},this.dom);this.on("blur",function(){Ext.fly(this,"_internal").removeClass(className);},this.dom);return this;},addClassOnClick:function(className){var dom=this.dom;this.on("mousedown",function(){Ext.fly(dom,"_internal").addClass(className);var d=Ext.getDoc();var fn=function(){Ext.fly(dom,"_internal").removeClass(className);d.removeListener("mouseup",fn);};d.on("mouseup",fn);});return this;},swallowEvent:function(eventName,preventDefault){var fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault();}};if(Ext.isArray(eventName)){for(var i=0,len=eventName.length;i<len;i++){this.on(eventName[i],fn);}return this;}this.on(eventName,fn);return this;},parent:function(selector,returnDom){return this.matchNode("parentNode","parentNode",selector,returnDom);},next:function(selector,returnDom){return this.matchNode("nextSibling","nextSibling",selector,returnDom);},prev:function(selector,returnDom){return this.matchNode("previousSibling","previousSibling",selector,returnDom);},first:function(selector,returnDom){return this.matchNode("nextSibling","firstChild",selector,returnDom);},last:function(selector,returnDom){return this.matchNode("previousSibling","lastChild",selector,returnDom);},matchNode:function(dir,start,selector,returnDom){var n=this.dom[start];while(n){if(n.nodeType==1&&(!selector||Ext.DomQuery.is(n,selector))){return !returnDom?Ext.get(n):n;}n=n[dir];}return null;},createChild:function(config,insertBefore,returnDom){config=config||{tag:"div"};if(insertBefore){return Ext.DomHelper.insertBefore(insertBefore,config,returnDom!==true);}return Ext.DomHelper[!this.dom.firstChild?"overwrite":"append"](this.dom,config,returnDom!==true);},wrap:function(config,returnDom){if(!config){config={tag:"div"};}var newEl=Ext.DomHelper.insertBefore(this.dom,config,!returnDom);newEl.dom?newEl.dom.appendChild(this.dom):newEl.appendChild(this.dom);return newEl;},insertHtml:function(where,html,returnEl){var el=Ext.DomHelper.insertHtml(where,this.dom,html);return returnEl?Ext.get(el):el;},set:function(o,useSet){var el=this.dom;useSet=typeof useSet=="undefined"?(el.setAttribute?true:false):useSet;for(var attr in o){if(attr=="style"||typeof o[attr]=="function"){continue;}if(attr=="cls"){el.className=o.cls;}else{if(o.hasOwnProperty(attr)){if(useSet){el.setAttribute(attr,o[attr]);}else{el[attr]=o[attr];}}}}if(o.style){Ext.DomHelper.applyStyles(el,o.style);}return this;},translatePoints:function(x,y){if(typeof x=="object"||Ext.isArray(x)){y=x[1];x=x[0];}var p=this.getStyle("position");var o=this.getXY();var l=parseInt(this.getStyle("left"),10);var t=parseInt(this.getStyle("top"),10);if(isNaN(l)){l=(p=="relative")?0:this.dom.offsetLeft;}if(isNaN(t)){t=(p=="relative")?0:this.dom.offsetTop;}return{left:(x-o[0]+l),top:(y-o[1]+t)};},getScroll:function(){var d=this.dom,doc=document;if(d==doc||d==doc.body){var l,t;if(Ext.isIE&&Ext.isStrict){l=doc.documentElement.scrollLeft||(doc.body.scrollLeft||0);t=doc.documentElement.scrollTop||(doc.body.scrollTop||0);}else{l=window.pageXOffset||(doc.body.scrollLeft||0);t=window.pageYOffset||(doc.body.scrollTop||0);}return{left:l,top:t};}else{return{left:d.scrollLeft,top:d.scrollTop};}},getColor:function(attr,defaultValue,prefix){var v=this.getStyle(attr);if(!v||v=="transparent"||v=="inherit"){return defaultValue;}var color=typeof prefix=="undefined"?"#":prefix;if(v.substr(0,4)=="rgb("){var rvs=v.slice(4,v.length-1).split(",");for(var i=0;i<3;i++){var h=parseInt(rvs[i]);var s=h.toString(16);if(h<16){s="0"+s;}color+=s;}}else{if(v.substr(0,1)=="#"){if(v.length==4){for(var i=1;i<4;i++){var c=v.charAt(i);color+=c+c;}}else{if(v.length==7){color+=v.substr(1);}}}}return(color.length>5?color.toLowerCase():defaultValue);},boxWrap:function(cls){cls=cls||"x-box";var el=Ext.get(this.insertHtml("beforeBegin",String.format('<div class="{0}">'+El.boxMarkup+"</div>",cls)));el.child("."+cls+"-mc").dom.appendChild(this.dom);return el;},getAttributeNS:Ext.isIE?function(ns,name){var d=this.dom;var type=typeof d[ns+":"+name];if(type!="undefined"&&type!="unknown"){return d[ns+":"+name];}return d[name];}:function(ns,name){var d=this.dom;return d.getAttributeNS(ns,name)||d.getAttribute(ns+":"+name)||d.getAttribute(name)||d[name];}};var ep=El.prototype;El.addMethods=function(o){Ext.apply(ep,o);};ep.on=ep.addListener;ep.getUpdateManager=ep.getUpdater;ep.un=ep.removeListener;ep.autoBoxAdjust=true;El.unitPattern=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i;El.addUnits=function(v,defaultUnit){if(v===""||v=="auto"){return v;}if(v===undefined){return"";}if(typeof v=="number"||!El.unitPattern.test(v)){return v+(defaultUnit||"px");}return v;};El.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';El.VISIBILITY=1;El.DISPLAY=2;El.borders={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"};El.paddings={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"};El.margins={l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"};El.cache={};var docEl;El.get=function(el){var ex,elm,id;if(!el){return null;}if(typeof el=="string"){if(!(elm=document.getElementById(el))){return null;}if(ex=El.cache[el]){ex.dom=elm;}else{ex=El.cache[el]=new El(elm);}return ex;}else{if(el.tagName){if(!(id=el.id)){id=Ext.id(el);}if(ex=El.cache[id]){ex.dom=el;}else{ex=El.cache[id]=new El(el);}return ex;}else{if(el instanceof El){if(el!=docEl){el.dom=document.getElementById(el.id)||el.dom;El.cache[el.id]=el;}return el;}else{if(el.isComposite){return el;}else{if(Ext.isArray(el)){return El.select(el);}else{if(el==document){if(!docEl){var f=function(){};f.prototype=El.prototype;docEl=new f();docEl.dom=document;}return docEl;}}}}}}return null;};El.uncache=function(el){for(var i=0,a=arguments,len=a.length;i<len;i++){if(a[i]){delete El.cache[a[i].id||a[i]];}}};El.garbageCollect=function(){if(!Ext.enableGarbageCollector){clearInterval(El.collectorThread);return;}for(var eid in El.cache){var el=El.cache[eid],d=el.dom;if(!d||!d.parentNode||(!d.offsetParent&&!document.getElementById(eid))){delete El.cache[eid];if(d&&Ext.enableListenerCollection){Ext.EventManager.removeAll(d);}}}};El.collectorThreadId=setInterval(El.garbageCollect,30000);var flyFn=function(){};flyFn.prototype=El.prototype;var _cls=new flyFn();El.Flyweight=function(dom){this.dom=dom;};El.Flyweight.prototype=_cls;El.Flyweight.prototype.isFlyweight=true;El._flyweights={};El.fly=function(el,named){named=named||"_global";el=Ext.getDom(el);if(!el){return null;}if(!El._flyweights[named]){El._flyweights[named]=new El.Flyweight();}El._flyweights[named].dom=el;return El._flyweights[named];};Ext.get=El.get;Ext.fly=El.fly;var noBoxAdjust=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){noBoxAdjust.button=1;}Ext.EventManager.on(window,"unload",function(){delete El.cache;delete El._flyweights;});})();Ext.Element.addMethods({scrollIntoView:function(y,t){var b=Ext.getDom(y)||Ext.getBody().dom;var w=this.dom;var x=this.getOffsetsTo(b),o=x[0]+b.scrollLeft,B=x[1]+b.scrollTop,D=B+w.offsetHeight,z=o+w.offsetWidth;var A=b.clientHeight;var l=parseInt(b.scrollTop,10);var C=parseInt(b.scrollLeft,10);var r=l+A;var c=C+b.clientWidth;if(w.offsetHeight>A||B<l){b.scrollTop=B;}else{if(D>r){b.scrollTop=D-A;}}b.scrollTop=b.scrollTop;if(t!==false){if(w.offsetWidth>b.clientWidth||o<C){b.scrollLeft=o;}else{if(z>c){b.scrollLeft=z-b.clientWidth;}}b.scrollLeft=b.scrollLeft;}return this;},scrollChildIntoView:function(c,d){Ext.fly(c,"_scrollChildIntoView").scrollIntoView(this,d);},isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth;},scrollTo:function(g,l,h){var i=g.toLowerCase()=="left"?"scrollLeft":"scrollTop";if(!h){this.dom[i]=l;}else{var k=i=="scrollLeft"?[l,this.dom.scrollTop]:[this.dom.scrollLeft,l];this.anim({scroll:{to:k}},this.preanim(arguments,2),"scroll");}return this;},scroll:function(s,A,y){if(!this.isScrollable()){return;}var x=this.dom;var w=x.scrollLeft,a=x.scrollTop;var l=x.scrollWidth,u=x.scrollHeight;var v=x.clientWidth,B=x.clientHeight;s=s.toLowerCase();var z=false;var t=this.preanim(arguments,2);switch(s){case"l":case"left":if(l-w>v){var h=Math.min(w+A,l-v);this.scrollTo("left",h,t);z=true;}break;case"r":case"right":if(w>0){var h=Math.max(w-A,0);this.scrollTo("left",h,t);z=true;}break;case"t":case"top":case"up":if(a>0){var h=Math.max(a-A,0);this.scrollTo("top",h,t);z=true;}break;case"b":case"bottom":case"down":if(u-a>B){var h=Math.min(a+A,u-B);this.scrollTo("top",h,t);z=true;}break;}return z;}});Ext.Element.addMethods({addKeyListener:function(e,h,i){var g;if(typeof e!="object"||Ext.isArray(e)){g={key:e,fn:h,scope:i};}else{g={key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:h,scope:i};}return new Ext.KeyMap(this,g);},addKeyMap:function(b){return new Ext.KeyMap(this,b);}});Ext.Element.addMethods({appendChild:function(b){b=Ext.get(b);b.appendTo(this);return this;},appendTo:function(b){b=Ext.getDom(b);b.appendChild(this.dom);return this;},insertBefore:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b);return this;},insertAfter:function(b){b=Ext.getDom(b);b.parentNode.insertBefore(this.dom,b.nextSibling);return this;},insertFirst:function(c,d){c=c||{};if(typeof c=="object"&&!c.nodeType&&!c.dom){return this.createChild(c,this.dom.firstChild,d);}else{c=Ext.getDom(c);this.dom.insertBefore(c,this.dom.firstChild);return !d?Ext.get(c):c;}},insertSibling:function(l,o,m){var i;if(Ext.isArray(l)){for(var n=0,k=l.length;n<k;n++){i=this.insertSibling(l[n],o,m);}return i;}o=o?o.toLowerCase():"before";l=l||{};var p=o=="before"?this.dom:this.dom.nextSibling;if(typeof l=="object"&&!l.nodeType&&!l.dom){if(o=="after"&&!this.dom.nextSibling){i=Ext.DomHelper.append(this.dom.parentNode,l,!m);}else{i=Ext.DomHelper[o=="after"?"insertAfter":"insertBefore"](this.dom,l,!m);}}else{i=this.dom.parentNode.insertBefore(Ext.getDom(l),p);if(!m){i=Ext.get(i);}}return i;},replace:function(b){b=Ext.get(b);this.insertBefore(b);b.remove();return this;},replaceWith:function(b){if(typeof b=="object"&&!b.nodeType&&!b.dom){b=this.insertSibling(b,"before");}else{b=Ext.getDom(b);this.dom.parentNode.insertBefore(b,this.dom);}El.uncache(this.id);Ext.removeNode(this.dom);this.dom=b;this.id=Ext.id(b);El.cache[this.id]=this;return this;}});Ext.Element.addMethods({initDD:function(i,e,h){var g=new Ext.dd.DD(Ext.id(this.dom),i,e);return Ext.apply(g,h);},initDDProxy:function(i,e,h){var g=new Ext.dd.DDProxy(Ext.id(this.dom),i,e);return Ext.apply(g,h);},initDDTarget:function(i,e,h){var g=new Ext.dd.DDTarget(Ext.id(this.dom),i,e);return Ext.apply(g,h);}});Ext.Element.addMethods({getAnchorXY:function(w,r,d){var h,v,y=false;if(!d){var u=this.dom;if(u==document.body||u==document){y=true;h=Ext.lib.Dom.getViewWidth();v=Ext.lib.Dom.getViewHeight();}else{h=this.getWidth();v=this.getHeight();}}else{h=d.width;v=d.height;}var o=0,s=0,z=Math.round;switch((w||"tl").toLowerCase()){case"c":o=z(h*0.5);s=z(v*0.5);break;case"t":o=z(h*0.5);s=0;break;case"l":o=0;s=z(v*0.5);break;case"r":o=h;s=z(v*0.5);break;case"b":o=z(h*0.5);s=v;break;case"tl":o=0;s=0;break;case"bl":o=0;s=v;break;case"br":o=h;s=v;break;case"tr":o=h;s=0;break;}if(r===true){return[o,s];}if(y){var t=this.getScroll();return[o+t.left,s+t.top];}var x=this.getXY();return[o+x[0],s+x[1]];},anchorTo:function(q,m,p,k,r,n){var o=function(){this.alignTo(q,m,p,k);Ext.callback(n,this);};Ext.EventManager.onWindowResize(o,this);var l=typeof r;if(l!="undefined"){Ext.EventManager.on(window,"scroll",o,this,{buffer:l=="number"?r:50});}o.call(this);return this;},getAlignToXY:function(X,T,R){X=Ext.get(X);if(!X||!X.dom){throw"Element.alignToXY with an element that doesn't exist";}var p=this.dom;var o=false;var Y="",aa="";R=R||[0,0];if(!T){T="tl-bl";}else{if(T=="?"){T="tl-bl?";}else{if(T.indexOf("-")==-1){T="tl-"+T;}}}T=T.toLowerCase();var P=T.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!P){throw"Element.alignTo with an invalid alignment "+T;}Y=P[1];aa=P[2];o=!!P[3];var h=this.getAnchorXY(Y,true);var m=X.getAnchorXY(aa,false);var S=m[0]-h[0]+R[0];var U=m[1]-h[1]+R[1];if(o){var O=this.getWidth(),y=this.getHeight(),w=X.getRegion();var N=Ext.lib.Dom.getViewWidth()-10,r=Ext.lib.Dom.getViewHeight()-10;var ab=Y.charAt(0),Z=Y.charAt(Y.length-1);var W=aa.charAt(0),V=aa.charAt(aa.length-1);var x=((ab=="t"&&W=="b")||(ab=="b"&&W=="t"));var d=((Z=="r"&&V=="l")||(Z=="l"&&V=="r"));var c=document;var M=(c.documentElement.scrollLeft||c.body.scrollLeft||0)+5;var Q=(c.documentElement.scrollTop||c.body.scrollTop||0)+5;if((S+O)>N+M){S=d?w.left-O:N+M-O;}if(S<M){S=d?w.right:M;}if((U+y)>r+Q){U=x?w.top-y:r+Q-y;}if(U<Q){U=x?w.bottom:Q;}}return[S,U];},alignTo:function(l,h,k,g){var i=this.getAlignToXY(l,h,k);this.setXY(i,this.preanim(arguments,3));return this;},getConstrainToXY:function(){var b={top:0,left:0,bottom:0,right:0};return function(K,w,I,G){K=Ext.get(K);I=I?Ext.applyIf(I,b):b;var x,a,y=0,A=0;if(K.dom==document.body||K.dom==document){x=Ext.lib.Dom.getViewWidth();a=Ext.lib.Dom.getViewHeight();}else{x=K.dom.clientWidth;a=K.dom.clientHeight;if(!w){var B=K.getXY();y=B[0];A=B[1];}}var C=K.getScroll();y+=I.left+C.left;A+=I.top+C.top;x-=I.right;a-=I.bottom;var s=y+x;var L=A+a;var J=G||(!w?this.getXY():[this.getLeft(true),this.getTop(true)]);var E=J[0],F=J[1];var D=this.dom.offsetWidth,h=this.dom.offsetHeight;var H=false;if((E+D)>s){E=s-D;H=true;}if((F+h)>L){F=L-h;H=true;}if(E<y){E=y;H=true;}if(F<A){F=A;H=true;}return H?[E,F]:false;};}()});Ext.enableFx=true;Ext.Fx={slideIn:function(e,g){var d=this.getFxEl();g=g||{};d.queueFx(g,function(){e=e||"t";this.fixDisplay();var t=this.getFxRestore();var o=this.getBox();this.setSize(o);var r=this.fxWrap(t.pos,g,"hidden");var b=this.dom.style;b.visibility="visible";b.position="absolute";var s=function(){d.fxUnwrap(r,t.pos,g);b.width=t.width;b.height=t.height;d.afterFx(g);};var c,a={to:[o.x,o.y]},p={to:o.width},q={to:o.height};switch(e.toLowerCase()){case"t":r.setSize(o.width,0);b.left=b.bottom="0";c={height:q};break;case"l":r.setSize(0,o.height);b.right=b.top="0";c={width:p};break;case"r":r.setSize(0,o.height);r.setX(o.right);b.left=b.top="0";c={width:p,points:a};break;case"b":r.setSize(o.width,0);r.setY(o.bottom);b.left=b.top="0";c={height:q,points:a};break;case"tl":r.setSize(0,0);b.right=b.bottom="0";c={width:p,height:q};break;case"bl":r.setSize(0,0);r.setY(o.y+o.height);b.right=b.top="0";c={width:p,height:q,points:a};break;case"br":r.setSize(0,0);r.setXY([o.right,o.bottom]);b.left=b.top="0";c={width:p,height:q,points:a};break;case"tr":r.setSize(0,0);r.setX(o.x+o.width);b.left=b.bottom="0";c={width:p,height:q,points:a};break;}this.dom.style.visibility="visible";r.show();arguments.callee.anim=r.fxanim(c,g,"motion",0.5,"easeOut",s);});return this;},slideOut:function(e,g){var d=this.getFxEl();g=g||{};d.queueFx(g,function(){e=e||"t";var b=this.getFxRestore();var p=this.getBox();this.setSize(p);var m=this.fxWrap(b.pos,g,"visible");var n=this.dom.style;n.visibility="visible";n.position="absolute";m.setSize(p);var a=function(){if(g.useDisplay){d.setDisplayed(false);}else{d.hide();}d.fxUnwrap(m,b.pos,g);n.width=b.width;n.height=b.height;d.afterFx(g);};var o,c={to:0};switch(e.toLowerCase()){case"t":n.left=n.bottom="0";o={height:c};break;case"l":n.right=n.top="0";o={width:c};break;case"r":n.left=n.top="0";o={width:c,points:{to:[p.right,p.y]}};break;case"b":n.left=n.top="0";o={height:c,points:{to:[p.x,p.bottom]}};break;case"tl":n.right=n.bottom="0";o={width:c,height:c};break;case"bl":n.right=n.top="0";o={width:c,height:c,points:{to:[p.x,p.bottom]}};break;case"br":n.left=n.top="0";o={width:c,height:c,points:{to:[p.x+p.width,p.bottom]}};break;case"tr":n.left=n.bottom="0";o={width:c,height:c,points:{to:[p.right,p.y]}};break;}arguments.callee.anim=m.fxanim(o,g,"motion",0.5,"easeOut",a);});return this;},puff:function(c){var d=this.getFxEl();c=c||{};d.queueFx(c,function(){this.clearOpacity();this.show();var b=this.getFxRestore();var k=this.dom.style;var a=function(){if(c.useDisplay){d.setDisplayed(false);}else{d.hide();}d.clearOpacity();d.setPositioning(b.pos);k.width=b.width;k.height=b.height;k.fontSize="";d.afterFx(c);};var i=this.getWidth();var l=this.getHeight();arguments.callee.anim=this.fxanim({width:{to:this.adjustWidth(i*2)},height:{to:this.adjustHeight(l*2)},points:{by:[-(i*0.5),-(l*0.5)]},opacity:{to:0},fontSize:{to:200,unit:"%"}},c,"motion",0.5,"easeOut",a);});return this;},switchOff:function(c){var d=this.getFxEl();c=c||{};d.queueFx(c,function(){this.clearOpacity();this.clip();var b=this.getFxRestore();var g=this.dom.style;var a=function(){if(c.useDisplay){d.setDisplayed(false);}else{d.hide();}d.clearOpacity();d.setPositioning(b.pos);g.width=b.width;g.height=b.height;d.afterFx(c);};this.fxanim({opacity:{to:0.3}},null,null,0.1,null,function(){this.clearOpacity();(function(){this.fxanim({height:{to:1},points:{by:[0,this.getHeight()*0.5]}},c,"motion",0.3,"easeIn",a);}).defer(100,this);});});return this;},highlight:function(e,g){var d=this.getFxEl();g=g||{};d.queueFx(g,function(){e=e||"ffff9c";var n=g.attr||"backgroundColor";this.clearOpacity();this.show();var c=this.getColor(n);var b=this.dom.style[n];var l=(g.endColor||c)||"ffffff";var a=function(){d.dom.style[n]=b;d.afterFx(g);};var m={};m[n]={from:e,to:l};arguments.callee.anim=this.fxanim(m,g,"color",1,"easeIn",a);});return this;},frame:function(g,i,h){var e=this.getFxEl();h=h||{};e.queueFx(h,function(){g=g||"#C3DAF9";if(g.length==6){g="#"+g;}i=i||1;var a=h.duration||1;this.show();var c=this.getBox();var b=function(){var l=Ext.getBody().createChild({style:{visbility:"hidden",position:"absolute","z-index":"35000",border:"0px solid "+g}});var d=Ext.isBorderBox?2:1;l.animate({top:{from:c.y,to:c.y-20},left:{from:c.x,to:c.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:c.height,to:(c.height+(20*d))},width:{from:c.width,to:(c.width+(20*d))}},a,function(){l.remove();if(--i>0){b();}else{e.afterFx(h);}});};b.call(this);});return this;},pause:function(g){var e=this.getFxEl();var d={};e.queueFx(d,function(){setTimeout(function(){e.afterFx(d);},g*1000);});return this;},fadeIn:function(c){var d=this.getFxEl();c=c||{};d.queueFx(c,function(){this.setOpacity(0);this.fixDisplay();this.dom.style.visibility="visible";var a=c.endOpacity||1;arguments.callee.anim=this.fxanim({opacity:{to:a}},c,null,0.5,"easeOut",function(){if(a==1){this.clearOpacity();}d.afterFx(c);});});return this;},fadeOut:function(c){var d=this.getFxEl();c=c||{};d.queueFx(c,function(){var a=c.endOpacity||0;arguments.callee.anim=this.fxanim({opacity:{to:a}},c,null,0.5,"easeOut",function(){if(a===0){if(this.visibilityMode==Ext.Element.DISPLAY||c.useDisplay){this.dom.style.display="none";}else{this.dom.style.visibility="hidden";}this.clearOpacity();}d.afterFx(c);});});return this;},scale:function(e,d,g){this.shift(Ext.apply({},g,{width:e,height:d}));return this;},shift:function(c){var d=this.getFxEl();c=c||{};d.queueFx(c,function(){var l={},m=c.width,h=c.height,n=c.x,a=c.y,b=c.opacity;if(m!==undefined){l.width={to:this.adjustWidth(m)};}if(h!==undefined){l.height={to:this.adjustHeight(h)};}if(c.left!==undefined){l.left={to:c.left};}if(c.top!==undefined){l.top={to:c.top};}if(c.right!==undefined){l.right={to:c.right};}if(c.bottom!==undefined){l.bottom={to:c.bottom};}if(n!==undefined||a!==undefined){l.points={to:[n!==undefined?n:this.getX(),a!==undefined?a:this.getY()]};}if(b!==undefined){l.opacity={to:b};}if(c.xy!==undefined){l.points={to:c.xy};}arguments.callee.anim=this.fxanim(l,c,"motion",0.35,"easeOut",function(){d.afterFx(c);});});return this;},ghost:function(e,g){var d=this.getFxEl();g=g||{};d.queueFx(g,function(){e=e||"b";var c=this.getFxRestore();var o=this.getWidth(),h=this.getHeight();var n=this.dom.style;var a=function(){if(g.useDisplay){d.setDisplayed(false);}else{d.hide();}d.clearOpacity();d.setPositioning(c.pos);n.width=c.width;n.height=c.height;d.afterFx(g);};var p={opacity:{to:0},points:{}},b=p.points;switch(e.toLowerCase()){case"t":b.by=[0,-h];break;case"l":b.by=[-o,0];break;case"r":b.by=[o,0];break;case"b":b.by=[0,h];break;case"tl":b.by=[-o,-h];break;case"bl":b.by=[-o,h];break;case"br":b.by=[o,h];break;case"tr":b.by=[o,-h];break;}arguments.callee.anim=this.fxanim(p,g,"motion",0.5,"easeOut",a);});return this;},syncFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:false,concurrent:true,stopFx:false});return this;},sequenceFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:false,concurrent:false,stopFx:false});return this;},nextFx:function(){var b=this.fxQueue[0];if(b){b.call(this);}},hasActiveFx:function(){return this.fxQueue&&this.fxQueue[0];},stopFx:function(){if(this.hasActiveFx()){var b=this.fxQueue[0];if(b&&b.anim&&b.anim.isAnimated()){this.fxQueue=[b];b.anim.stop(true);}}return this;},beforeFx:function(b){if(this.hasActiveFx()&&!b.concurrent){if(b.stopFx){this.stopFx();return true;}return false;}return true;},hasFxBlock:function(){var b=this.fxQueue;return b&&b[0]&&b[0].block;},queueFx:function(g,e){if(!this.fxQueue){this.fxQueue=[];}if(!this.hasFxBlock()){Ext.applyIf(g,this.fxDefaults);if(!g.concurrent){var d=this.beforeFx(g);e.block=g.block;this.fxQueue.push(e);if(d){this.nextFx();}}else{e.call(this);}}return this;},fxWrap:function(k,m,n){var h;if(!m.wrap||!(h=Ext.get(m.wrap))){var i;if(m.fixPosition){i=this.getXY();}var l=document.createElement("div");l.style.visibility=n;h=Ext.get(this.dom.parentNode.insertBefore(l,this.dom));h.setPositioning(k);if(h.getStyle("position")=="static"){h.position("relative");}this.clearPositioning("auto");h.clip();h.dom.appendChild(this.dom);if(i){h.setXY(i);}}return h;},fxUnwrap:function(e,g,d){this.clearPositioning();this.setPositioning(g);if(!d.wrap){e.dom.parentNode.insertBefore(this.dom,e.dom);e.remove();}},getFxRestore:function(){var b=this.dom.style;return{pos:this.getPositioning(),width:b.width,height:b.height};},afterFx:function(b){if(b.afterStyle){this.applyStyles(b.afterStyle);}if(b.afterCls){this.addClass(b.afterCls);}if(b.remove===true){this.remove();}Ext.callback(b.callback,b.scope,[this]);if(!b.concurrent){this.fxQueue.shift();this.nextFx();}},getFxEl:function(){return Ext.get(this.dom);},fxanim:function(o,n,i,m,p,k){i=i||"run";n=n||{};var l=Ext.lib.Anim[i](this.dom,o,(n.duration||m)||0.35,(n.easing||p)||"easeOut",function(){Ext.callback(k,this);},this);n.anim=l;return l;}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx);Ext.CompositeElement=function(b){this.elements=[];this.addElements(b);};Ext.CompositeElement.prototype={isComposite:true,addElements:function(i){if(!i){return this;}if(typeof i=="string"){i=Ext.Element.selectorFunction(i);}var k=this.elements;var g=k.length-1;for(var l=0,h=i.length;l<h;l++){k[++g]=Ext.get(i[l]);}return this;},fill:function(b){this.elements=[];this.add(b);return this;},filter:function(d){var c=[];this.each(function(a){if(a.is(d)){c[c.length]=a.dom;}});this.fill(c);return this;},invoke:function(i,g){var k=this.elements;for(var l=0,h=k.length;l<h;l++){Ext.Element.prototype[i].apply(k[l],g);}return this;},add:function(b){if(typeof b=="string"){this.addElements(Ext.Element.selectorFunction(b));}else{if(b.length!==undefined){this.addElements(b);}else{this.addElements([b]);}}return this;},each:function(i,k){var l=this.elements;for(var g=0,h=l.length;g<h;g++){if(i.call(k||l[g],l[g],this,g)===false){break;}}return this;},item:function(b){return this.elements[b]||null;},first:function(){return this.item(0);},last:function(){return this.item(this.elements.length-1);},getCount:function(){return this.elements.length;},contains:function(b){return this.indexOf(b)!==-1;},indexOf:function(b){return this.elements.indexOf(Ext.get(b));},removeElement:function(m,k){if(Ext.isArray(m)){for(var n=0,i=m.length;n<i;n++){this.removeElement(m[n]);}return this;}var d=typeof m=="number"?m:this.indexOf(m);if(d!==-1&&this.elements[d]){if(k){var l=this.elements[d];if(l.dom){l.remove();}else{Ext.removeNode(l);}}this.elements.splice(d,1);}return this;},replaceElement:function(h,i,g){var e=typeof h=="number"?h:this.indexOf(h);if(e!==-1){if(g){this.elements[e].replaceWith(i);}else{this.elements.splice(e,1,Ext.get(i));}}return this;},clear:function(){this.elements=[];}};(function(){Ext.CompositeElement.createCall=function(a,d){if(!a[d]){a[d]=function(){return this.invoke(d,arguments);};}};for(var b in Ext.Element.prototype){if(typeof Ext.Element.prototype[b]=="function"){Ext.CompositeElement.createCall(Ext.CompositeElement.prototype,b);}}})();Ext.CompositeElementLite=function(b){Ext.CompositeElementLite.superclass.constructor.call(this,b);this.el=new Ext.Element.Flyweight();};Ext.extend(Ext.CompositeElementLite,Ext.CompositeElement,{addElements:function(i){if(i){if(Ext.isArray(i)){this.elements=this.elements.concat(i);}else{var k=this.elements;var g=k.length-1;for(var l=0,h=i.length;l<h;l++){k[++g]=i[l];}}}return this;},invoke:function(k,h){var m=this.elements;var l=this.el;for(var n=0,i=m.length;n<i;n++){l.dom=m[n];Ext.Element.prototype[k].apply(l,h);}return this;},item:function(b){if(!this.elements[b]){return null;}this.el.dom=this.elements[b];return this.el;},addListener:function(i,l,m,n){var o=this.elements;for(var p=0,k=o.length;p<k;p++){Ext.EventManager.on(o[p],i,l,m||o[p],n);}return this;},each:function(k,l){var n=this.elements;var m=this.el;for(var h=0,i=n.length;h<i;h++){m.dom=n[h];if(k.call(l||m,m,this,h)===false){break;}}return this;},indexOf:function(b){return this.elements.indexOf(Ext.getDom(b));},replaceElement:function(k,l,h){var d=typeof k=="number"?k:this.indexOf(k);if(d!==-1){l=Ext.getDom(l);if(h){var i=this.elements[d];i.parentNode.insertBefore(l,i);Ext.removeNode(i);}this.elements.splice(d,1,l);}return this;}});Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select;}Ext.Element.select=function(g,h,e){var i;if(typeof g=="string"){i=Ext.Element.selectorFunction(g,e);}else{if(g.length!==undefined){i=g;}else{throw"Invalid selector";}}if(h===true){return new Ext.CompositeElement(i);}else{return new Ext.CompositeElementLite(i);}};Ext.select=Ext.Element.select;Ext.data.Connection=function(b){Ext.apply(this,b);this.addEvents("beforerequest","requestcomplete","requestexception");Ext.data.Connection.superclass.constructor.call(this);};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(t){if(this.fireEvent("beforerequest",this,t)!==false){var v=t.params;if(typeof v=="function"){v=v.call(t.scope||window,t);}if(typeof v=="object"){v=Ext.urlEncode(v);}if(this.extraParams){var r=Ext.urlEncode(this.extraParams);v=v?(v+"&"+r):r;}var w=t.url||this.url;if(typeof w=="function"){w=w.call(t.scope||window,t);}if(t.form){var u=Ext.getDom(t.form);w=w||u.action;var o=u.getAttribute("enctype");if(t.isUpload||(o&&o.toLowerCase()=="multipart/form-data")){return this.doFormUpload(t,v,w);}var p=Ext.lib.Ajax.serializeForm(u);v=v?(v+"&"+p):p;}var n=t.headers;if(this.defaultHeaders){n=Ext.apply(n||{},this.defaultHeaders);if(!t.headers){t.headers=n;}}var s={success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{options:t},timeout:t.timeout||this.timeout};var x=t.method||this.method||((v||t.xmlData||t.jsonData)?"POST":"GET");if(x=="GET"&&(this.disableCaching&&t.disableCaching!==false)||t.disableCaching===true){var q=t.disableCachingParam||this.disableCachingParam;w+=(w.indexOf("?")!=-1?"&":"?")+q+"="+(new Date().getTime());}if(typeof t.autoAbort=="boolean"){if(t.autoAbort){this.abort();}}else{if(this.autoAbort!==false){this.abort();}}if((x=="GET"||t.xmlData||t.jsonData)&&v){w+=(w.indexOf("?")!=-1?"&":"?")+v;v="";}this.transId=Ext.lib.Ajax.request(x,w,s,v,t);return this.transId;}else{Ext.callback(t.callback,t.scope,[t,null,null]);return null;}},isLoading:function(b){if(b){return Ext.lib.Ajax.isCallInProgress(b);}else{return this.transId?true:false;}},abort:function(b){if(b||this.isLoading()){Ext.lib.Ajax.abort(b||this.transId);}},handleResponse:function(d){this.transId=false;var c=d.argument.options;d.argument=c?c.argument:null;this.fireEvent("requestcomplete",this,d,c);Ext.callback(c.success,c.scope,[d,c]);Ext.callback(c.callback,c.scope,[c,true,d]);},handleFailure:function(e,g){this.transId=false;var d=e.argument.options;e.argument=d?d.argument:null;this.fireEvent("requestexception",this,e,d,g);Ext.callback(d.failure,d.scope,[e,d]);Ext.callback(d.callback,d.scope,[d,false,e]);},doFormUpload:function(v,z,y){var x=Ext.id();var u=document.createElement("iframe");u.id=x;u.name=x;u.className="x-hidden";if(Ext.isIE){u.src=Ext.SSL_SECURE_URL;}document.body.appendChild(u);if(Ext.isIE){document.frames[x].name=x;}var w=Ext.getDom(v.form);w.target=x;w.method="POST";w.enctype=w.encoding="multipart/form-data";if(y){w.action=y;}var i,o;if(z){i=[];z=Ext.urlDecode(z,false);for(var s in z){if(z.hasOwnProperty(s)){o=document.createElement("input");o.type="hidden";o.name=s;o.value=z[s];w.appendChild(o);i.push(o);}}}function t(){var a={responseText:"",responseXML:null};a.argument=v?v.argument:null;try{var c;if(Ext.isIE){c=u.contentWindow.document;}else{c=(u.contentDocument||window.frames[x].document);}if(c&&c.body){var b=c.body.firstChild;if(b&&String(b.tagName).toLowerCase()=="textarea"){a.responseText=b.value;}else{a.responseText=c.body.innerHTML;}}if(c&&c.XMLDocument){a.responseXML=c.XMLDocument;}else{a.responseXML=c;}}catch(d){}Ext.EventManager.removeListener(u,"load",t,this);this.fireEvent("requestcomplete",this,a,v);Ext.callback(v.success,v.scope,[a,v]);Ext.callback(v.callback,v.scope,[v,true,a]);if(!this.debugUploads){setTimeout(function(){Ext.removeNode(u);},100);}}Ext.EventManager.on(u,"load",t,this);w.submit();if(i){for(var r=0,k=i.length;r<k;r++){Ext.removeNode(i[r]);}}}});Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(b){return Ext.lib.Ajax.serializeForm(b);}});Ext.Updater=Ext.extend(Ext.util.Observable,{constructor:function(c,d){c=Ext.get(c);if(!d&&c.updateManager){return c.updateManager;}this.el=c;this.defaultUrl=null;this.addEvents("beforeupdate","update","failure");Ext.apply(this,Ext.Updater.defaults);this.transaction=null;this.refreshDelegate=this.refresh.createDelegate(this);this.updateDelegate=this.update.createDelegate(this);this.formUpdateDelegate=this.formUpdate.createDelegate(this);if(!this.renderer){this.renderer=this.getDefaultRenderer();}Ext.Updater.superclass.constructor.call(this);},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer();},getEl:function(){return this.el;},update:function(i,m,l,o){if(this.fireEvent("beforeupdate",this.el,i,m)!==false){var k,p;if(typeof i=="object"){k=i;i=k.url;m=m||k.params;l=l||k.callback;o=o||k.discardUrl;p=k.scope;if(typeof k.nocache!="undefined"){this.disableCaching=k.nocache;}if(typeof k.text!="undefined"){this.indicatorText='<div class="loading-indicator">'+k.text+"</div>";}if(typeof k.scripts!="undefined"){this.loadScripts=k.scripts;}if(typeof k.timeout!="undefined"){this.timeout=k.timeout;}}this.showLoading();if(!o){this.defaultUrl=i;}if(typeof i=="function"){i=i.call(this);}var n=Ext.apply({},{url:i,params:(typeof m=="function"&&p)?m.createDelegate(p):m,success:this.processSuccess,failure:this.processFailure,scope:this,callback:undefined,timeout:(this.timeout*1000),disableCaching:this.disableCaching,argument:{options:k,url:i,form:null,callback:l,scope:p||window,params:m}},k);this.transaction=Ext.Ajax.request(n);}},formUpdate:function(i,g,e,h){if(this.fireEvent("beforeupdate",this.el,i,g)!==false){if(typeof g=="function"){g=g.call(this);}i=Ext.getDom(i);this.transaction=Ext.Ajax.request({form:i,url:g,success:this.processSuccess,failure:this.processFailure,scope:this,timeout:(this.timeout*1000),argument:{url:g,form:i,callback:h,reset:e}});this.showLoading.defer(1,this);}},refresh:function(b){if(this.defaultUrl==null){return;}this.update(this.defaultUrl,null,b,true);},startAutoRefresh:function(g,l,k,i,h){if(h){this.update(l||this.defaultUrl,k,i,true);}if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);}this.autoRefreshProcId=setInterval(this.update.createDelegate(this,[l||this.defaultUrl,k,i,true]),g*1000);},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId;}},isAutoRefreshing:function(){return this.autoRefreshProcId?true:false;},showLoading:function(){if(this.showLoadIndicator){this.el.update(this.indicatorText);}},processSuccess:function(d){this.transaction=null;if(d.argument.form&&d.argument.reset){try{d.argument.form.reset();}catch(c){}}if(this.loadScripts){this.renderer.render(this.el,d,this,this.updateComplete.createDelegate(this,[d]));}else{this.renderer.render(this.el,d,this);this.updateComplete(d);}},updateComplete:function(b){this.fireEvent("update",this.el,b);if(typeof b.argument.callback=="function"){b.argument.callback.call(b.argument.scope,this.el,true,b,b.argument.options);}},processFailure:function(b){this.transaction=null;this.fireEvent("failure",this.el,b);if(typeof b.argument.callback=="function"){b.argument.callback.call(b.argument.scope,this.el,false,b,b.argument.options);}},setRenderer:function(b){this.renderer=b;},getRenderer:function(){return this.renderer;},setDefaultUrl:function(b){this.defaultUrl=b;},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction);}},isUpdating:function(){if(this.transaction){return Ext.Ajax.isLoading(this.transaction);}return false;}});Ext.Updater.defaults={timeout:30,loadScripts:false,sslBlankUrl:(Ext.SSL_SECURE_URL||"javascript:false"),disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>'};Ext.Updater.updateElement=function(k,l,i,g){var h=Ext.get(k).getUpdater();Ext.apply(h,g);h.update(l,i,g?g.callback:null);};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(i,g,e,h){i.update(g.responseText,e.loadScripts,h);}};Ext.UpdateManager=Ext.Updater;(function(){function xf(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(/\{(\d+)\}/g,function(m,i){return args[i];});}Date.formatCodeToRegex=function(character,currentGroup){var p=Date.parseCodes[character];if(p){p=Ext.type(p)=="function"?p():p;Date.parseCodes[character]=p;}return p?Ext.applyIf({c:p.c?xf(p.c,currentGroup||"{0}"):p.c},p):{g:0,c:null,s:Ext.escapeRe(character)};};var $f=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{count:0},parseRegexes:[],formatFunctions:{count:0},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(month){return Date.monthNames[month].substring(0,3);},getShortDayName:function(day){return Date.dayNames[day].substring(0,3);},getMonthNumber:function(name){return Date.monthNumbers[name.substring(0,1).toUpperCase()+name.substring(1,3).toLowerCase()];},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var c="Y-m-dTH:i:sP",code=[],i=0,l=c.length;i<l;++i){var e=c.charAt(i);code.push(e=="T"?"'T'":Date.getFormatCode(e));}return code.join(" + ");},U:"Math.round(this.getTime() / 1000)"},parseDate:function(input,format){var p=Date.parseFunctions;if(p[format]==null){Date.createParser(format);}var func=p[format];return Date[func](input);},getFormatCode:function(character){var f=Date.formatCodes[character];if(f){f=Ext.type(f)=="function"?f():f;Date.formatCodes[character]=f;}return f||("'"+String.escape(character)+"'");},createNewFormat:function(format){var funcName="format"+Date.formatFunctions.count++,code="Date.prototype."+funcName+" = function(){return ",special=false,ch="";Date.formatFunctions[format]=funcName;for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true;}else{if(special){special=false;code+="'"+String.escape(ch)+"' + ";}else{code+=Date.getFormatCode(ch)+" + ";}}}eval(code.substring(0,code.length-3)+";}");},createParser:function(){var code=["Date.{0} = function(input){","var y, m, d, h = 0, i = 0, s = 0, ms = 0, o, z, u, v;","input = String(input);","d = new Date();","y = d.getFullYear();","m = d.getMonth();","d = d.getDate();","var results = input.match(Date.parseRegexes[{1}]);","if(results && results.length > 0){","{2}","if(u){","v = new Date(u * 1000);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0 && ms >= 0){","v = new Date(y, m, d, h, i, s, ms);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0){","v = new Date(y, m, d, h, i, s);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0){","v = new Date(y, m, d, h, i);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0){","v = new Date(y, m, d, h);","}else if (y >= 0 && m >= 0 && d > 0){","v = new Date(y, m, d);","}else if (y >= 0 && m >= 0){","v = new Date(y, m);","}else if (y >= 0){","v = new Date(y);","}","}","return (v && (z != null || o != null))? (Ext.type(z) == 'number' ? v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - z) : v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn))) : v;","}"].join("\n");return function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1,calc="",regex="",special=false,ch="";Date.parseFunctions[format]=funcName;for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true;}else{if(special){special=false;regex+=String.escape(ch);}else{var obj=$f(ch,currentGroup);currentGroup+=obj.g;regex+=obj.s;if(obj.g&&obj.c){calc+=obj.c;}}}}Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i");eval(xf(code,funcName,regexNum,calc));};}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],i=0;i<7;a.push(Date.getShortDayName(i)),++i){}return{g:0,c:null,s:"(?:"+a.join("|")+")"};},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:0,c:null,s:"(?:\\d{1,3}"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"};},M:function(){for(var a=[],i=0;i<12;a.push(Date.getShortMonthName(i)),++i){}return Ext.applyIf({s:"("+a.join("|")+")"},$f("F"));},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return $f("Y");},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"},g:function(){return $f("G");},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return $f("H");},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1);","var hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60);","var mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1);","var hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60);","var mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"z = results[{0}] * 1;\nz = (-43200 <= z && z <= 50400)? z : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var calc=[],arr=[$f("Y",1),$f("m",2),$f("d",3),$f("h",4),$f("i",5),$f("s",6),{c:"ms = (results[7] || '.0').substring(1); ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[9] == 'Z'){","z = 0;","}else{",$f("P",9).c,"}"].join("\n")}];for(var i=0,l=arr.length;i<l;++i){calc.push(arr[i].c);}return{g:1,c:calc.join(""),s:arr[0].s+"-"+arr[1].s+"-"+arr[2].s+"T"+arr[3].s+":"+arr[4].s+":"+arr[5].s+"((.|,)\\d+)?(Z|([+-]\\d{2}:\\d{2}))"};},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}});}());Ext.override(Date,{dateFormat:function(c){if(Date.formatFunctions[c]==null){Date.createNewFormat(c);}var d=Date.formatFunctions[c];return this[d]();},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"");},getGMTOffset:function(b){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(b?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0");},getDayOfYear:function(){var d=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var c=0;c<this.getMonth();++c){d+=Date.daysInMonth[c];}return d+this.getDate()-1;},getWeekOfYear:function(){var d=86400000,c=7*d;return function(){var b=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/d,g=Math.floor(b/7),a=new Date(g*c).getUTCFullYear();return g-Math.floor(Date.UTC(a,0,7)/c)+1;};}(),isLeapYear:function(){var b=this.getFullYear();return !!((b&3)==0&&(b%100||(b%400==0&&b)));},getFirstDayOfMonth:function(){var b=(this.getDay()-(this.getDate()-1))%7;return(b<0)?(b+7):b;},getLastDayOfMonth:function(){var b=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return(b<0)?(b+7):b;},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1);},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth());},getDaysInMonth:function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()];},getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th";}},clone:function(){return new Date(this.getTime());},clearTime:function(b){if(b){return this.clone().clearTime();}this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;},add:function(d,i){var h=this.clone();if(!d||i===0){return h;}switch(d.toLowerCase()){case Date.MILLI:h.setMilliseconds(this.getMilliseconds()+i);break;case Date.SECOND:h.setSeconds(this.getSeconds()+i);break;case Date.MINUTE:h.setMinutes(this.getMinutes()+i);break;case Date.HOUR:h.setHours(this.getHours()+i);break;case Date.DAY:h.setDate(this.getDate()+i);break;case Date.MONTH:var g=this.getDate();if(g>28){g=Math.min(g,this.getFirstDateOfMonth().add("mo",i).getLastDateOfMonth().getDate());}h.setDate(g);h.setMonth(this.getMonth()+i);break;case Date.YEAR:h.setFullYear(this.getFullYear()+i);break;}return h;},between:function(g,e){var d=this.getTime();return g.getTime()<=d&&d<=e.getTime();}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari){Date.brokenSetMonth=Date.prototype.setMonth;Date.prototype.setMonth=function(g){if(g<=-1){var h=Math.ceil(-g);var i=Math.ceil(h/12);var e=(h%12)?12-h%12:0;this.setFullYear(this.getFullYear()-i);return Date.brokenSetMonth.call(this,e);}else{return Date.brokenSetMonth.apply(this,arguments);}};}Ext.util.DelayedTask=function(n,o,k){var l=null,m,d;var p=function(){var a=new Date().getTime();if(a-d>=m){clearInterval(l);l=null;n.apply(o,k||[]);}};this.delay=function(c,a,b,e){if(l&&c!=m){this.cancel();}m=c;d=new Date().getTime();n=a||n;o=b||o;k=e||k;if(!l){l=setInterval(p,m);}};this.cancel=function(){if(l){clearInterval(l);l=null;}};};Ext.util.TaskRunner=function(p){p=p||10;var o=[],t=[];var s=0;var n=false;var q=function(){n=false;clearInterval(s);s=0;};var m=function(){if(!n){n=true;s=setInterval(l,p);}};var r=function(a){t.push(a);if(a.onStop){a.onStop.apply(a.scope||a);}};var l=function(){if(t.length>0){for(var c=0,a=t.length;c<a;c++){o.remove(t[c]);}t=[];if(o.length<1){q();return;}}var e=new Date().getTime();for(var c=0,a=o.length;c<a;++c){var d=o[c];var b=e-d.taskRunTime;if(d.interval<=b){var g=d.run.apply(d.scope||d,d.args||[++d.taskRunCount]);d.taskRunTime=e;if(g===false||d.taskRunCount===d.repeat){r(d);return;}}if(d.duration&&d.duration<=(e-d.taskStartTime)){r(d);}}};this.start=function(a){o.push(a);a.taskStartTime=new Date().getTime();a.taskRunTime=0;a.taskRunCount=0;m();return a;};this.stop=function(a){r(a);return a;};this.stopAll=function(){q();for(var a=0,b=o.length;a<b;a++){if(o[a].onStop){o[a].onStop();}}o=[];t=[];};};Ext.TaskMgr=new Ext.util.TaskRunner();Ext.util.MixedCollection=function(c,d){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=c===true;if(d){this.getKey=d;}Ext.util.MixedCollection.superclass.constructor.call(this);};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(d,g){if(arguments.length==1){g=arguments[0];d=this.getKey(g);}if(typeof d=="undefined"||d===null){this.length++;this.items.push(g);this.keys.push(null);}else{var e=this.map[d];if(e){return this.replace(d,g);}this.length++;this.items.push(g);this.map[d]=g;this.keys.push(d);}this.fireEvent("add",this.length-1,g,d);return g;},getKey:function(b){return b.id;},replace:function(i,h){if(arguments.length==1){h=arguments[0];i=this.getKey(h);}var g=this.item(i);if(typeof i=="undefined"||i===null||typeof g=="undefined"){return this.add(i,h);}var e=this.indexOfKey(i);this.items[e]=h;this.map[i]=h;this.fireEvent("replace",i,g,h);return h;},addAll:function(i){if(arguments.length>1||Ext.isArray(i)){var g=arguments.length>1?arguments:i;for(var k=0,h=g.length;k<h;k++){this.add(g[k]);}}else{for(var l in i){if(this.allowFunctions||typeof i[l]!="function"){this.add(l,i[l]);}}}},each:function(i,k){var g=[].concat(this.items);for(var l=0,h=g.length;l<h;l++){if(i.call(k||g[l],g[l],l,h)===false){break;}}},eachKey:function(h,i){for(var e=0,g=this.keys.length;e<g;e++){h.call(i||window,this.keys[e],this.items[e],e,g);}},find:function(h,i){for(var e=0,g=this.items.length;e<g;e++){if(h.call(i||window,this.items[e],this.keys[e])){return this.items[e];}}return null;},insert:function(e,d,g){if(arguments.length==2){g=arguments[1];d=this.getKey(g);}if(e>=this.length){return this.add(d,g);}this.length++;this.items.splice(e,0,g);if(typeof d!="undefined"&&d!=null){this.map[d]=g;}this.keys.splice(e,0,d);this.fireEvent("add",e,g,d);return g;},remove:function(b){return this.removeAt(this.indexOf(b));},removeAt:function(e){if(e<this.length&&e>=0){this.length--;var g=this.items[e];this.items.splice(e,1);var d=this.keys[e];if(typeof d!="undefined"){delete this.map[d];}this.keys.splice(e,1);this.fireEvent("remove",g,d);return g;}return false;},removeKey:function(b){return this.removeAt(this.indexOfKey(b));},getCount:function(){return this.length;},indexOf:function(b){return this.items.indexOf(b);},indexOfKey:function(b){return this.keys.indexOf(b);},item:function(d){var c=typeof this.map[d]!="undefined"?this.map[d]:this.items[d];return typeof c!="function"||this.allowFunctions?c:null;},itemAt:function(b){return this.items[b];},key:function(b){return this.map[b];},contains:function(b){return this.indexOf(b)!=-1;},containsKey:function(b){return typeof this.map[b]!="undefined";},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear");},first:function(){return this.items[0];},last:function(){return this.items[this.length-1];},_sort:function(c,t,i){var r=String(t).toUpperCase()=="DESC"?-1:1;i=i||function(a,b){return a-b;};var k=[],s=this.keys,o=this.items;for(var q=0,p=o.length;q<p;q++){k[k.length]={key:s[q],value:o[q],index:q};}k.sort(function(b,d){var a=i(b[c],d[c])*r;if(a==0){a=(b.index<d.index?-1:1);}return a;});for(var q=0,p=k.length;q<p;q++){o[q]=k[q].value;s[q]=k[q].key;}this.fireEvent("sort",this);},sort:function(d,c){this._sort("value",d,c);},keySort:function(d,c){this._sort("key",d,c||function(a,b){return String(a).toUpperCase()-String(b).toUpperCase();});},getRange:function(i,h){var g=this.items;if(g.length<1){return[];}i=i||0;h=Math.min(typeof h=="undefined"?this.length-1:h,this.length-1);var k=[];if(i<=h){for(var l=i;l<=h;l++){k[k.length]=g[l];}}else{for(var l=i;l>=h;l--){k[k.length]=g[l];}}return k;},filter:function(i,e,h,g){if(Ext.isEmpty(e,false)){return this.clone();}e=this.createValueMatcher(e,h,g);return this.filterBy(function(a){return a&&e.test(a[i]);});},filterBy:function(m,n){var l=new Ext.util.MixedCollection();l.getKey=this.getKey;var i=this.keys,o=this.items;for(var p=0,k=o.length;p<k;p++){if(m.call(n||this,o[p],i[p])){l.add(i[p],o[p]);}}return l;},findIndex:function(l,g,i,k,h){if(Ext.isEmpty(g,false)){return -1;}g=this.createValueMatcher(g,k,h);return this.findIndexBy(function(a){return a&&g.test(a[l]);},null,i);},findIndexBy:function(m,n,l){var i=this.keys,o=this.items;for(var p=(l||0),k=o.length;p<k;p++){if(m.call(n||this,o[p],i[p])){return p;}}if(typeof l=="number"&&l>0){for(var p=0;p<l;p++){if(m.call(n||this,o[p],i[p])){return p;}}}return -1;},createValueMatcher:function(d,g,e){if(!d.exec){d=String(d);d=new RegExp((g===true?"":"^")+Ext.escapeRe(d),e?"":"i");}return d;},clone:function(){var i=new Ext.util.MixedCollection();var g=this.keys,k=this.items;for(var l=0,h=k.length;l<h;l++){i.add(g[l],k[l]);}i.getKey=this.getKey;return i;}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.ComponentMgr=function(){var g=new Ext.util.MixedCollection();var d={};var e={};return{register:function(a){g.add(a);},unregister:function(a){g.remove(a);},get:function(a){return g.get(a);},onAvailable:function(a,b,c){g.on("add",function(l,k){if(k.id==a){b.call(c||k,k);g.un("add",b,c);}});},all:g,registerType:function(a,b){d[a]=b;b.xtype=a;},create:function(b,a){return b.render?b:new d[b.xtype||a](b);},registerPlugin:function(a,b){e[a]=b;b.ptype=a;},createPlugin:function(b,a){return new e[b.ptype||a](b);}};}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty;var pad=function(n){return n<10?"0"+n:n;};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c;}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}return'"'+s+'"';};var encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",");}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true;}}a.push("]");return a.join("");};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"';};this.encode=function(o){if(typeof o=="undefined"||o===null){return"null";}else{if(Ext.isArray(o)){return encodeArray(o);}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o);}else{if(typeof o=="string"){return encodeString(o);}else{if(typeof o=="number"){return isFinite(o)?String(o):"null";}else{if(typeof o=="boolean"){return String(o);}else{var a=["{"],b,i,v;for(i in o){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",");}a.push(this.encode(i),":",v===null?"null":this.encode(v));b=true;}}}a.push("}");return a.join("");}}}}}}};this.decode=function(json){return eval("("+json+")");};})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2);var index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"...";}else{return vs.substr(0,index)+"...";}}else{return value.substr(0,len-3)+"...";}}return value;},undef:function(value){return value!==undefined?value:"";},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue;},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&");},trim:function(value){return String(value).replace(trimRe,"");},substr:function(value,start,length){return String(value).substr(start,length);},lowercase:function(value){return String(value).toLowerCase();},uppercase:function(value){return String(value).toUpperCase();},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase();},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args);}else{return eval(fn).call(window,value);}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split(".");var whole=ps[0];var sub=ps[1]?"."+ps[1]:".00";var r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2");}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1);}return"$"+v;},date:function(v,format){if(!v){return"";}if(!Ext.isDate(v)){v=new Date(Date.parse(v));}return v.dateFormat(format||"m/d/Y");},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format);};},stripTagsRE:/<\/?[^>]+>/gi,stripTags:function(v){return !v?v:String(v).replace(this.stripTagsRE,"");},stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,stripScripts:function(v){return !v?v:String(v).replace(this.stripScriptsRe,"");},fileSize:function(size){if(size<1024){return size+" bytes";}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB";}else{return(Math.round(((size*10)/1048576))/10)+" MB";}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";");}return fns[a](v);};}(),number:function(v,format){if(!format){return v;}v*=1;if(typeof v!="number"||isNaN(v)){return"";}var comma=",";var dec=".";var i18n=false;if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=",";}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length);}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format);}else{v=v.toFixed(0);}}var fnum=v.toString();if(hasComma){psplit=fnum.split(".");var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3;for(var i=0;i<j;i+=n){if(i!=0){n=3;}parr[parr.length]=cnum.substr(i,n);m-=1;}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1];}}return format.replace(/[\d,?\.?]+/,fnum);},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format);};},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"));}};}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var G=this.html;G=["<tpl>",G,"</tpl>"].join("");var H=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/;var i=/^<tpl\b[^>]*?for="(.*?)"/;var s=/^<tpl\b[^>]*?if="(.*?)"/;var w=/^<tpl\b[^>]*?exec="(.*?)"/;var D,E=0;var z=[];while(D=G.match(H)){var m=D[0].match(i);var v=D[0].match(s);var x=D[0].match(w);var B=null,y=null,C=null;var F=m&&m[1]?m[1]:"";if(v){B=v&&v[1]?v[1]:null;if(B){y=new Function("values","parent","xindex","xcount","with(values){ return "+(Ext.util.Format.htmlDecode(B))+"; }");}}if(x){B=x&&x[1]?x[1]:null;if(B){C=new Function("values","parent","xindex","xcount","with(values){ "+(Ext.util.Format.htmlDecode(B))+"; }");}}if(F){switch(F){case".":F=new Function("values","parent","with(values){ return values; }");break;case"..":F=new Function("values","parent","with(values){ return parent; }");break;default:F=new Function("values","parent","with(values){ return "+F+"; }");}}z.push({id:E,target:F,exec:C,test:y,body:D[1]||""});G=G.replace(D[0],"{xtpl"+E+"}");++E;}for(var A=z.length-1;A>=0;--A){this.compileTpl(z[A]);}this.master=z[z.length-1];this.tpls=z;};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(v,o,p,s,t){var i=this.tpls[v];if(i.test&&!i.test.call(this,o,p,s,t)){return"";}if(i.exec&&i.exec.call(this,o,p,s,t)){return"";}var n=i.target?i.target.call(this,o,p):o;p=i.target?o:p;if(i.target&&Ext.isArray(n)){var u=[];for(var r=0,q=n.length;r<q;r++){u[u.length]=i.compiled.call(this,n[r],p,r+1,q);}return u.join("");}return i.compiled.call(this,n,p,s,t);},compileTpl:function(tpl){var fm=Ext.util.Format;var useF=this.disableFormats!==true;var sep=Ext.isGecko?"+":",";var fn=function(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'";}var v;if(name==="."){v="values";}else{if(name==="#"){v="xindex";}else{if(name.indexOf(".")!=-1){v=name;}else{v="values['"+name+"']";}}}if(math){v="("+v+math+")";}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"(";}else{format='this.call("'+format.substr(5)+'", ';args=", values";}}else{args="";format="("+v+" === undefined ? '' : ";}return"'"+sep+format+v+args+")"+sep+"'";};var codeFn=function(m,code){return"'"+sep+"("+code+")"+sep+"'";};var body;if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};";}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("");}eval(body);return this;},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1);},compile:function(){return this;}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML);};Ext.util.CSS=function(){var h=null;var i=document;var e=/(-[a-z])/gi;var g=function(b,a){return a.charAt(1).toUpperCase();};return{createStyleSheet:function(d,a){var n;var o=i.getElementsByTagName("head")[0];var b=i.createElement("style");b.setAttribute("type","text/css");if(a){b.setAttribute("id",a);}if(Ext.isIE){o.appendChild(b);n=b.styleSheet;n.cssText=d;}else{try{b.appendChild(i.createTextNode(d));}catch(c){b.cssText=d;}o.appendChild(b);n=b.styleSheet?b.styleSheet:(b.sheet||i.styleSheets[i.styleSheets.length-1]);}this.cacheStyleSheet(n);return n;},removeStyleSheet:function(a){var b=i.getElementById(a);if(b){b.parentNode.removeChild(b);}},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var b=i.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("id",a);b.setAttribute("href",c);i.getElementsByTagName("head")[0].appendChild(b);},refreshCache:function(){return this.getRules(true);},cacheStyleSheet:function(c){if(!h){h={};}try{var a=c.cssRules||c.rules;for(var d=a.length-1;d>=0;--d){h[a[d].selectorText]=a[d];}}catch(b){}},getRules:function(d){if(h==null||d){h={};var b=i.styleSheets;for(var c=0,n=b.length;c<n;c++){try{this.cacheStyleSheet(b[c]);}catch(a){}}}return h;},getRule:function(d,b){var c=this.getRules(b);if(!Ext.isArray(d)){return c[d];}for(var a=0;a<d.length;a++){if(c[d[a]]){return c[d[a]];}}return null;},updateRule:function(m,b,c){if(!Ext.isArray(m)){var a=this.getRule(m);if(a){a.style[b.replace(e,g)]=c;return true;}}else{for(var d=0;d<m.length;d++){if(this.updateRule(m[d],b,c)){return true;}}}return false;}};}();Ext.util.ClickRepeater=function(c,d){this.el=Ext.get(c);this.el.unselectable();Ext.apply(this,d);this.addEvents("mousedown","click","mouseup");this.el.on("mousedown",this.handleMouseDown,this);if(this.preventDefault||this.stopDefault){this.el.on("click",function(a){if(this.preventDefault){a.preventDefault();}if(this.stopDefault){a.stopEvent();}},this);}if(this.handler){this.on("click",this.handler,this.scope||this);}Ext.util.ClickRepeater.superclass.constructor.call(this);};Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,destroy:function(){Ext.destroy(this.el);this.purgeListeners();},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass);}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this);this.fireEvent("click",this);if(this.accelerate){this.delay=400;}this.timer=this.click.defer(this.delay||this.interval,this);},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this);},easeOutExpo:function(i,b,c,d){return(i==d)?b+c:c*(-Math.pow(2,-10*i/d)+1)+b;},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass);}this.el.on("mouseover",this.handleMouseReturn,this);},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass);}this.click();},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this);}});Ext.KeyNav=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(!this.disabled){this.disabled=true;this.enable();}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,prepareEvent:function(g){var e=g.getKey();var d=this.keyToHandler[e];if(Ext.isSafari2&&d&&e>=37&&e<=40){g.stopEvent();}},relay:function(g){var e=g.getKey();var d=this.keyToHandler[e];if(d&&this[d]){if(this.doRelay(g,this[d],d)!==true){g[this.defaultEventAction]();}}},doRelay:function(g,d,e){return d.call(this.scope||this,g);},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},enable:function(){if(this.disabled){if(this.forceKeyDown||Ext.isIE||Ext.isSafari3||Ext.isAir){this.el.on("keydown",this.relay,this);}else{this.el.on("keydown",this.prepareEvent,this);this.el.on("keypress",this.relay,this);}this.disabled=false;}},disable:function(){if(!this.disabled){if(this.forceKeyDown||Ext.isIE||Ext.isSafari3||Ext.isAir){this.el.un("keydown",this.relay);}else{this.el.un("keydown",this.prepareEvent);this.el.un("keypress",this.relay);}this.disabled=true;}}};Ext.KeyMap=function(g,d,e){this.el=Ext.get(g);this.eventName=e||"keydown";this.bindings=[];if(d){this.addBinding(d);}this.enable();};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(A){if(Ext.isArray(A)){for(var y=0,w=A.length;y<w;y++){this.addBinding(A[y]);}return;}var i=A.key,B=A.shift,D=A.ctrl,x=A.alt,u=A.fn||A.handler,r=A.scope;if(A.stopEvent){this.stopEvent=A.stopEvent;}if(typeof i=="string"){var t=[];var v=i.toUpperCase();for(var z=0,w=v.length;z<w;z++){t.push(v.charCodeAt(z));}i=t;}var C=Ext.isArray(i);var s=function(a){if((!B||a.shiftKey)&&(!D||a.ctrlKey)&&(!x||a.altKey)){var c=a.getKey();if(C){for(var b=0,d=i.length;b<d;b++){if(i[b]==c){if(this.stopEvent){a.stopEvent();}u.call(r||window,c,a);return;}}}else{if(c==i){if(this.stopEvent){a.stopEvent();}u.call(r||window,c,a);}}}};this.bindings.push(s);},on:function(i,o,p){var l,k,n,m;if(typeof i=="object"&&!Ext.isArray(i)){l=i.key;k=i.shift;n=i.ctrl;m=i.alt;}else{l=i;}this.addBinding({key:l,shift:k,ctrl:n,alt:m,fn:o,scope:p});},handleKeyDown:function(e){if(this.enabled){var i=this.bindings;for(var h=0,b=i.length;h<b;h++){i[h].call(this,e);}}},isEnabled:function(){return this.enabled;},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true;}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false;}}};Ext.util.TextMetrics=function(){var b;return{measure:function(a,g,e){if(!b){b=Ext.util.TextMetrics.Instance(a,e);}b.bind(a);b.setFixedWidth(e||"auto");return b.getSize(g);},createInstance:function(a,d){return Ext.util.TextMetrics.Instance(a,d);}};}();Ext.util.TextMetrics.Instance=function(e,h){var i=new Ext.Element(document.createElement("div"));document.body.appendChild(i.dom);i.position("absolute");i.setLeftTop(-1000,-1000);i.hide();if(h){i.setWidth(h);}var g={getSize:function(a){i.update(a);var b=i.getSize();i.update("");return b;},bind:function(a){i.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"));},setFixedWidth:function(a){i.setWidth(a);},getWidth:function(a){i.dom.style.width="auto";return this.getSize(a).width;},getHeight:function(a){return this.getSize(a).height;}};g.bind(e);return g;};Ext.Element.addMethods({getTextWidth:function(g,d,e){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(g,this.dom.innerHTML,true)).width).constrain(d||0,e||1000000);}});(function(){var d=Ext.EventManager;var c=Ext.lib.Dom;Ext.dd.DragDrop=function(a,g,b){if(a){this.init(a,g,b);}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;},moveOnly:false,unlock:function(){this.locked=false;},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(b,a){},startDrag:function(b,a){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(t,v,a){if(typeof v=="number"){v={left:v,right:v,top:v,bottom:v};}v=v||this.defaultPadding;var r=Ext.get(this.getEl()).getBox();var y=Ext.get(t);var b=y.getScroll();var s,x=y.dom;if(x==document.body){s={x:b.left,y:b.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()};}else{var q=y.getXY();s={x:q[0]+b.left,y:q[1]+b.top,width:x.clientWidth,height:x.clientHeight};}var u=r.y-s.y;var w=r.x-s.x;this.resetConstraints();this.setXConstraint(w-(v.left||0),s.width-w-r.width-(v.right||0),this.xTickSize);this.setYConstraint(u-(v.top||0),s.height-u-r.height-(v.bottom||0),this.yTickSize);},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id);}return this._domRef;},getDragEl:function(){return Ext.getDom(this.dragElId);},init:function(a,g,b){this.initTarget(a,g,b);d.on(this.id,"mousedown",this.handleMouseDown,this);},initTarget:function(a,g,b){this.config=b||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof a!=="string"){a=Ext.id(a);}this.id=a;this.addToGroup((g)?g:"default");this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable();},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(b,i,a,h){if(!i&&0!==i){this.padding=[b,b,b,b];}else{if(!a&&0!==a){this.padding=[b,i,b,i];}else{this.padding=[b,i,a,h];}}},setInitPosition:function(k,l){var b=this.getEl();if(!this.DDM.verifyEl(b)){return;}var m=k||0;var n=l||0;var a=c.getXY(b);this.initPageX=a[0]-m;this.initPageY=a[1]-n;this.lastPageX=a[0];this.lastPageY=a[1];this.setStartPosition(a);},setStartPosition:function(a){var b=a||c.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1];},addToGroup:function(a){this.groups[a]=true;this.DDM.regDragDrop(this,a);},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a];}this.DDM.removeDDFromGroup(this,a);},setDragElId:function(a){this.dragElId=a;},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a);}this.handleElId=a;this.DDM.regHandle(this.id,a);},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a);}d.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true;},unreg:function(){d.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},destroy:function(){this.unreg();},isLocked:function(){return(this.DDM.isLocked()||this.locked);},handleMouseDown:function(a,b){if(this.primaryButtonOnly&&a.button!=0){return;}if(this.isLocked()){return;}this.DDM.refreshCache(this.groups);var e=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(e,this)){}else{if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDM.handleMouseDown(a,this);this.DDM.stopEvent(a);}else{}}},clickValidator:function(a){var b=a.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id)));},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a;},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a);}this.invalidHandleIds[a]=a;},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a);},removeInvalidHandleType:function(b){var a=b.toUpperCase();delete this.invalidHandleTypes[a];},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a);}delete this.invalidHandleIds[a];},removeInvalidHandleClass:function(b){for(var a=0,g=this.invalidHandleClasses.length;a<g;++a){if(this.invalidHandleClasses[a]==b){delete this.invalidHandleClasses[a];}}},isValidHandleChild:function(e){var i=true;var a;try{a=e.nodeName.toUpperCase();}catch(b){a=e.nodeName;}i=i&&!this.invalidHandleTypes[a];i=i&&!this.invalidHandleIds[e.id];for(var m=0,n=this.invalidHandleClasses.length;i&&m<n;++m){i=!Ext.fly(e).hasClass(this.invalidHandleClasses[m]);}return i;},setXTicks:function(a,i){this.xTicks=[];this.xTickSize=i;var b={};for(var h=this.initPageX;h>=this.minX;h=h-i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true;}}for(h=this.initPageX;h<=this.maxX;h=h+i){if(!b[h]){this.xTicks[this.xTicks.length]=h;b[h]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(a,i){this.yTicks=[];this.yTickSize=i;var b={};for(var h=this.initPageY;h>=this.minY;h=h-i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true;}}for(h=this.initPageY;h<=this.maxY;h=h+i){if(!b[h]){this.yTicks[this.yTicks.length]=h;b[h]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(a,b,g){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;if(g){this.setXTicks(this.initPageX,g);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(g,a,b){this.topConstraint=g;this.bottomConstraint=a;this.minY=this.initPageY-g;this.maxY=this.initPageY+a;if(b){this.setYTicks(this.initPageY,b);}this.constrainY=true;},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(a,m){if(!m){return a;}else{if(m[0]>=a){return m[0];}else{for(var o=0,p=m.length;o<p;++o){var n=o+1;if(m[n]&&m[n]>=a){var b=a-m[o];var i=m[n]-a;return(i>b)?m[o]:m[n];}}return m[m.length-1];}}},toString:function(){return("DragDrop "+this.id);}};})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var b=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true;},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(k,l){for(var i in this.ids){for(var a in this.ids[i]){var h=this.ids[i][a];if(!this.isTypeOfDD(h)){continue;}h[k].apply(h,l);}}},_onLoad:function(){this.init();b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true);},_onResize:function(a){this._execOnAll("resetConstraints",[]);},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(d,a){if(!this.initialized){this.init();}if(!this.ids[a]){this.ids[a]={};}this.ids[a][d.id]=d;},removeDDFromGroup:function(e,a){if(!this.ids[a]){this.ids[a]={};}var g=this.ids[a];if(g&&g[e.id]){delete g[e.id];}},_remove:function(d){for(var a in d.groups){if(a&&this.ids[a]&&this.ids[a][d.id]){delete this.ids[a][d.id];}}delete this.handleIds[d.id];},regHandle:function(d,a){if(!this.handleIds[d]){this.handleIds[d]={};}this.handleIds[d][a]=a;},isDragDrop:function(a){return(this.getDDById(a))?true:false;},getRelated:function(h,l){var i=[];for(var k in h.groups){for(j in this.ids[k]){var a=this.ids[k][j];if(!this.isTypeOfDD(a)){continue;}if(!l||a.isTarget){i[i.length]=a;}}}return i;},isLegalTarget:function(h,i){var l=this.getRelated(h,true);for(var k=0,a=l.length;k<a;++k){if(l[k].id==i.id){return true;}}return false;},isTypeOfDD:function(a){return(a&&a.__ygDragDrop);},isHandle:function(d,a){return(this.handleIds[d]&&this.handleIds[d][a]);},getDDById:function(d){for(var a in this.ids){if(this.ids[a][d]){return this.ids[a][d];}}return null;},handleMouseDown:function(e,g){if(Ext.QuickTips){Ext.QuickTips.disable();}if(this.dragCurrent){this.handleMouseUp(e);}this.currentTarget=e.getTarget();this.dragCurrent=g;var a=g.getEl();this.startX=e.getPageX();this.startY=e.getPageY();this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var c=Ext.dd.DDM;c.startDrag(c.startX,c.startY);},this.clickTimeThresh);},startDrag:function(a,d){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,d);this.dragCurrent.startDrag(a,d);}this.dragThreshMet=true;},handleMouseUp:function(a){if(Ext.QuickTips){Ext.QuickTips.enable();}if(!this.dragCurrent){return;}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true);}else{}this.stopDrag(a);this.stopEvent(a);},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation();}if(this.preventDefault){a.preventDefault();}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a);}this.dragCurrent.onMouseUp(a);}this.dragCurrent=null;this.dragOvers={};},handleMouseMove:function(e){if(!this.dragCurrent){return true;}if(Ext.isIE&&(e.button!==0&&e.button!==1&&e.button!==2)){this.stopEvent(e);return this.handleMouseUp(e);}if(!this.dragThreshMet){var g=Math.abs(this.startX-e.getPageX());var a=Math.abs(this.startY-e.getPageY());if(g>this.clickPixelThresh||a>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){this.dragCurrent.b4Drag(e);this.dragCurrent.onDrag(e);if(!this.dragCurrent.moveOnly){this.fireEvents(e,false);}}this.stopEvent(e);return true;},fireEvents:function(t,i){var a=this.dragCurrent;if(!a||a.isLocked()){return;}var D=t.getPoint();var C=[];var z=[];var v=[];var x=[];var A=[];for(var y in this.dragOvers){var B=this.dragOvers[y];if(!this.isTypeOfDD(B)){continue;}if(!this.isOverTarget(D,B,this.mode)){z.push(B);}C[y]=true;delete this.dragOvers[y];}for(var e in a.groups){if("string"!=typeof e){continue;}for(y in this.ids[e]){var w=this.ids[e][y];if(!this.isTypeOfDD(w)){continue;}if(w.isTarget&&!w.isLocked()&&w!=a){if(this.isOverTarget(D,w,this.mode)){if(i){x.push(w);}else{if(!C[w.id]){A.push(w);}else{v.push(w);}this.dragOvers[w.id]=w;}}}}}if(this.mode){if(z.length){a.b4DragOut(t,z);a.onDragOut(t,z);}if(A.length){a.onDragEnter(t,A);}if(v.length){a.b4DragOver(t,v);a.onDragOver(t,v);}if(x.length){a.b4DragDrop(t,x);a.onDragDrop(t,x);}}else{var u=0;for(y=0,u=z.length;y<u;++y){a.b4DragOut(t,z[y].id);a.onDragOut(t,z[y].id);}for(y=0,u=A.length;y<u;++y){a.onDragEnter(t,A[y].id);}for(y=0,u=v.length;y<u;++y){a.b4DragOver(t,v[y].id);a.onDragOver(t,v[y].id);}for(y=0,u=x.length;y<u;++y){a.b4DragDrop(t,x[y].id);a.onDragDrop(t,x[y].id);}}if(i&&!x.length){a.onInvalidDrop(t);}},getBestMatch:function(k){var h=null;var l=k.length;if(l==1){h=k[0];}else{for(var i=0;i<l;++i){var a=k[i];if(a.cursorIsOver){h=a;break;}else{if(!h||h.overlap.getArea()<a.overlap.getArea()){h=a;}}}}return h;},refreshCache:function(l){for(var a in l){if("string"!=typeof a){continue;}for(var k in this.ids[a]){var i=this.ids[a][k];if(this.isTypeOfDD(i)){var h=this.getLocation(i);if(h){this.locationCache[i.id]=h;}else{delete this.locationCache[i.id];}}}}},verifyEl:function(g){if(g){var a;if(Ext.isIE){try{a=g.offsetParent;}catch(e){}}else{a=g.offsetParent;}if(a){return true;}}return false;},getLocation:function(u){if(!this.isTypeOfDD(u)){return null;}var w=u.getEl(),l,x,y,a,e,A,z,r,v;try{l=Ext.lib.Dom.getXY(w);}catch(t){}if(!l){return null;}x=l[0];y=x+w.offsetWidth;a=l[1];e=a+w.offsetHeight;A=a-u.padding[0];z=y+u.padding[1];r=e+u.padding[2];v=x-u.padding[3];return new Ext.lib.Region(A,z,r,v);},isOverTarget:function(a,t,r){var p=this.locationCache[t.id];if(!p||!this.useCache){p=this.getLocation(t);this.locationCache[t.id]=p;}if(!p){return false;}t.cursorIsOver=p.contains(a);var m=this.dragCurrent;if(!m||!m.getTargetCoord||(!r&&!m.constrainX&&!m.constrainY)){return t.cursorIsOver;}t.overlap=null;var o=m.getTargetCoord(a.x,a.y);var s=m.getDragEl();var q=new Ext.lib.Region(o.y,o.x+s.offsetWidth,o.y+s.offsetHeight,o.x);var n=q.intersect(p);if(n){t.overlap=n;return(r)?true:t.cursorIsOver;}else{return false;}},_onUnload:function(d,a){Ext.dd.DragDropMgr.unregAll();},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a];}this.elementCache={};this.ids={};},elementCache:{},getElWrapper:function(d){var a=this.elementCache[d];if(!a||!a.el){a=this.elementCache[d]=new this.ElementWrapper(Ext.getDom(d));}return a;},getElement:function(a){return Ext.getDom(a);},getCss:function(d){var a=Ext.getDom(d);return(a)?a.style:null;},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style;},getPosX:function(a){return Ext.lib.Dom.getX(a);},getPosY:function(a){return Ext.lib.Dom.getY(a);},swapNode:function(h,a){if(h.swapNode){h.swapNode(a);}else{var g=a.parentNode;var i=a.nextSibling;if(i==h){g.insertBefore(h,a);}else{if(a==h.nextSibling){g.insertBefore(a,h);}else{h.parentNode.replaceChild(a,h);g.insertBefore(h,i);}}}},getScroll:function(){var h,a,g=document.documentElement,i=document.body;if(g&&(g.scrollTop||g.scrollLeft)){h=g.scrollTop;a=g.scrollLeft;}else{if(i){h=i.scrollTop;a=i.scrollLeft;}else{}}return{top:h,left:a};},getStyle:function(d,a){return Ext.fly(d).getStyle(a);},getScrollTop:function(){return this.getScroll().top;},getScrollLeft:function(){return this.getScroll().left;},moveToEl:function(a,e){var g=Ext.lib.Dom.getXY(e);Ext.lib.Dom.setXY(a,g);},numericSort:function(a,e){return(a-e);},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;if(Ext.lib.Event&&document){a._onLoad();}else{if(a._timeoutCount>2000){}else{setTimeout(a._addListeners,10);if(document&&document.body){a._timeoutCount+=1;}}}},handleWasClicked:function(a,e){if(this.isHandle(e,a.id)){return true;}else{var g=a.parentNode;while(g){if(this.isHandle(e,g.id)){return true;}else{g=g.parentNode;}}}return false;}};}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners();}Ext.dd.DD=function(g,e,d){if(g){this.init(g,e,d);}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(i,e){var g=i-this.startPageX;var h=e-this.startPageY;this.setDelta(g,h);},setDelta:function(c,d){this.deltaX=c;this.deltaY=d;},setDragElPos:function(g,d){var e=this.getDragEl();this.alignElWithMouse(e,g,d);},alignElWithMouse:function(r,n,o){var p=this.getTargetCoord(n,o);var k=r.dom?r:Ext.fly(r,"_dd");if(!this.deltaSetXY){var m=[p.x,p.y];k.setXY(m);var q=k.getLeft(true);var l=k.getTop(true);this.deltaSetXY=[q-p.x,l-p.y];}else{k.setLeftTop(p.x+this.deltaSetXY[0],p.y+this.deltaSetXY[1]);}this.cachePosition(p.x,p.y);this.autoScroll(p.x,p.y,r.offsetHeight,r.offsetWidth);return p;},cachePosition:function(d,e){if(d){this.lastPageX=d;this.lastPageY=e;}else{var g=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=g[0];this.lastPageY=g[1];}},autoScroll:function(u,v,z,t){if(this.scroll){var s=Ext.lib.Dom.getViewHeight();var C=Ext.lib.Dom.getViewWidth();var h=this.DDM.getScrollTop();var A=this.DDM.getScrollLeft();var w=z+v;var r=t+u;var x=(s+h-v-this.deltaY);var y=(C+A-u-this.deltaX);var B=40;var D=(document.all)?80:30;if(w>s&&x<B){window.scrollTo(A,h+D);}if(v<h&&h>0&&v-h<B){window.scrollTo(A,h-D);}if(r>C&&y<B){window.scrollTo(A+D,h);}if(u<A&&A>0&&u-A<B){window.scrollTo(A-D,h);}}},getTargetCoord:function(i,e){var g=i-this.deltaX;var h=e-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX;}if(g>this.maxX){g=this.maxX;}}if(this.constrainY){if(h<this.minY){h=this.minY;}if(h>this.maxY){h=this.maxY;}}g=this.getTick(g,this.xTicks);h=this.getTick(h,this.yTicks);return{x:g,y:h};},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY());},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY());},toString:function(){return("DD "+this.id);}});Ext.dd.DDProxy=function(g,e,d){if(g){this.init(g,e,d);this.initFrame();}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var e=this;var g=document.body;if(!g||!g.firstChild){setTimeout(function(){e.createFrame();},50);return;}var h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;var i=h.style;i.position="absolute";i.visibility="hidden";i.cursor="move";i.border="2px solid #aaa";i.zIndex=999;g.insertBefore(h,g.firstChild);}},initFrame:function(){this.createFrame();},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId);},showFrame:function(i,k){var l=this.getEl();var h=this.getDragEl();var g=h.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(g.width,10)/2),Math.round(parseInt(g.height,10)/2));}this.setDragElPos(i,k);Ext.fly(h).show();},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight);}},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);this.setDragElPos(e,g);},b4StartDrag:function(d,c){this.showFrame(d,c);},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide();},endDrag:function(g){var d=this.getEl();var e=this.getDragEl();e.style.visibility="";this.beforeMove();d.style.visibility="hidden";Ext.dd.DDM.moveToEl(d,e);e.style.visibility="hidden";d.style.visibility="";this.afterDrag();},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id);}});Ext.dd.DDTarget=function(g,e,d){if(g){this.initTarget(g,e,d);}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{toString:function(){return("DDTarget "+this.id);}});Ext.dd.DragTracker=function(b){Ext.apply(this,b);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el);}};Ext.extend(Ext.dd.DragTracker,Ext.util.Observable,{active:false,tolerance:5,autoStart:false,initEl:function(b){this.el=Ext.get(b);b.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined);},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);},onMouseDown:function(g,d){if(this.fireEvent("mousedown",this,g)!==false&&this.onBeforeStart(g)!==false){this.startXY=this.lastXY=g.getXY();this.dragTarget=this.delegate?d:this.el.dom;if(this.preventDefault!==false){g.preventDefault();}var e=Ext.getDoc();e.on("mouseup",this.onMouseUp,this);e.on("mousemove",this.onMouseMove,this);e.on("selectstart",this.stopSelect,this);if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this);}}},onMouseMove:function(h,i){h.preventDefault();var e=h.getXY(),g=this.startXY;this.lastXY=e;if(!this.active){if(Math.abs(g[0]-e[0])>this.tolerance||Math.abs(g[1]-e[1])>this.tolerance){this.triggerStart();}else{return;}}this.fireEvent("mousemove",this,h);this.onDrag(h);this.fireEvent("drag",this,h);},onMouseUp:function(g){var d=Ext.getDoc();d.un("mousemove",this.onMouseMove,this);d.un("mouseup",this.onMouseUp,this);d.un("selectstart",this.stopSelect,this);g.preventDefault();this.clearStart();var e=this.active;this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,g);if(e){this.onEnd(g);this.fireEvent("dragend",this,g);}},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY);},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer;}},stopSelect:function(b){b.stopEvent();return false;},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget;},getDragCt:function(){return this.el;},getXY:function(b){return b?this.constrainModes[b].call(this,this.lastXY):this.lastXY;},getOffset:function(g){var d=this.getXY(g);var e=this.startXY;return[e[0]-d[0],e[1]-d[1]];},constrainModes:{point:function(c){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion();}var d=this.dragRegion;d.left=c[0];d.top=c[1];d.right=c[0];d.bottom=c[1];d.constrainTo(this.elRegion);return[d.left,d.top];}}});Ext.dd.ScrollManager=function(){var t=Ext.dd.DragDropMgr;var r={};var u=null;var o={};var p=function(a){u=null;v();};var n=function(){if(t.dragCurrent){t.refreshCache(t.dragCurrent.groups);}};var s=function(){if(t.dragCurrent){var a=Ext.dd.ScrollManager;var b=o.el.ddScrollConfig?o.el.ddScrollConfig.increment:a.increment;if(!a.animate){if(o.el.scroll(o.dir,b)){n();}}else{o.el.scroll(o.dir,b,true,a.animDuration,n);}}};var v=function(){if(o.id){clearInterval(o.id);}o.id=0;o.el=null;o.dir="";};var q=function(c,a){v();o.el=c;o.dir=a;var b=(c.ddScrollConfig&&c.ddScrollConfig.frequency)?c.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;o.id=setInterval(s,b);};var m=function(b,k){if(k||!t.dragCurrent){return;}var i=Ext.dd.ScrollManager;if(!u||u!=t.dragCurrent){u=t.dragCurrent;i.refreshCache();}var h=Ext.lib.Event.getXY(b);var g=new Ext.lib.Point(h[0],h[1]);for(var d in r){var c=r[d],e=c._region;var a=c.ddScrollConfig?c.ddScrollConfig:i;if(e&&e.contains(g)&&c.isScrollable()){if(e.bottom-g.y<=a.vthresh){if(o.el!=c){q(c,"down");}return;}else{if(e.right-g.x<=a.hthresh){if(o.el!=c){q(c,"left");}return;}else{if(g.y-e.top<=a.vthresh){if(o.el!=c){q(c,"up");}return;}else{if(g.x-e.left<=a.hthresh){if(o.el!=c){q(c,"right");}return;}}}}}}v();};t.fireEvents=t.fireEvents.createSequence(m,t);t.stopDrag=t.stopDrag.createSequence(p,t);return{register:function(b){if(Ext.isArray(b)){for(var c=0,a=b.length;c<a;c++){this.register(b[c]);}}else{b=Ext.get(b);r[b.id]=b;}},unregister:function(b){if(Ext.isArray(b)){for(var c=0,a=b.length;c<a;c++){this.unregister(b[c]);}}else{b=Ext.get(b);delete r[b.id];}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var a in r){if(typeof r[a]=="object"){r[a]._region=r[a].getRegion();}}}};}();Ext.dd.Registry=function(){var h={};var e={};var g=0;var i=function(b,c){if(typeof b=="string"){return b;}var a=b.id;if(!a&&c!==false){a="extdd-"+(++g);b.id=a;}return a;};return{register:function(b,a){a=a||{};if(typeof b=="string"){b=document.getElementById(b);}a.ddel=b;h[i(b)]=a;if(a.isHandle!==false){e[a.ddel.id]=a;}if(a.handles){var c=a.handles;for(var d=0,m=c.length;d<m;d++){e[i(c[d])]=a;}}},unregister:function(c){var a=i(c,false);var b=h[a];if(b){delete h[a];if(b.handles){var d=b.handles;for(var n=0,o=d.length;n<o;n++){delete e[i(d[n],false)];}}}},getHandle:function(a){if(typeof a!="string"){a=a.id;}return e[a];},getHandleFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?e[b.id]:null;},getTarget:function(a){if(typeof a!="string"){a=a.id;}return h[a];},getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?h[b.id]||e[b.id]:null;}};}();Ext.dd.StatusProxy=function(b){Ext.apply(this,b);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!b||b.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed;};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceClass(this.dropStatus,b);this.dropStatus=b;}},reset:function(b){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("");}},update:function(d){if(typeof d=="string"){this.ghost.update(d);}else{this.ghost.update("");d.style.margin="0";this.ghost.dom.appendChild(d);}var c=this.ghost.dom.firstChild;if(c){Ext.fly(c).setStyle(Ext.isIE?"styleFloat":"cssFloat","none");}},getEl:function(){return this.el;},getGhost:function(){return this.ghost;},hide:function(b){this.el.hide();if(b){this.reset(true);}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop();}},show:function(){this.el.show();},sync:function(){this.el.sync();},repair:function(d,g,e){this.callback=g;this.scope=e;if(d&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:d,stopFx:true,callback:this.afterRepair,scope:this});}else{this.afterRepair();}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this);}this.callback=null;this.scope=null;}};Ext.dd.DragSource=function(c,d){this.el=Ext.get(c);if(!this.dragData){this.dragData={};}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy();}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false;};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(b){return this.dragData;},onDragEnter:function(i,h){var e=Ext.dd.DragDropMgr.getDDById(h);this.cachedTarget=e;if(this.beforeDragEnter(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyEnter(this,i,this.dragData);this.proxy.setStatus(g);}else{this.proxy.setStatus(this.dropAllowed);}if(this.afterDragEnter){this.afterDragEnter(e,i,h);}}},beforeDragEnter:function(d,e,g){return true;},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync();},onDragOver:function(i,h){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(h);if(this.beforeDragOver(e,i,h)!==false){if(e.isNotifyTarget){var g=e.notifyOver(this,i,this.dragData);this.proxy.setStatus(g);}if(this.afterDragOver){this.afterDragOver(e,i,h);}}},beforeDragOver:function(d,e,g){return true;},onDragOut:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragOut(e,d,g)!==false){if(e.isNotifyTarget){e.notifyOut(this,d,this.dragData);}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(e,d,g);}}this.cachedTarget=null;},beforeDragOut:function(d,e,g){return true;},onDragDrop:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragDrop(e,d,g)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,d,this.dragData)){this.onValidDrop(e,d,g);}else{this.onInvalidDrop(e,d,g);}}else{this.onValidDrop(e,d,g);}if(this.afterDragDrop){this.afterDragDrop(e,d,g);}}delete this.cachedTarget;},beforeDragDrop:function(d,e,g){return true;},onValidDrop:function(d,e,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(d,e,g);}},getRepairXY:function(c,d){return this.el.getXY();},onInvalidDrop:function(d,e,g){this.beforeInvalidDrop(d,e,g);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,e,this.dragData);}this.cacheTarget=null;}this.proxy.repair(this.getRepairXY(e,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(e,g);}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9");}this.dragging=false;},beforeInvalidDrop:function(d,e,g){return true;},handleMouseDown:function(c){if(this.dragging){return;}var d=this.getDragData(c);if(d&&this.onBeforeDrag(d,c)!==false){this.dragData=d;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments);}},onBeforeDrag:function(d,c){return true;},onStartDrag:Ext.emptyFn,startDrag:function(d,c){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(d,c);this.proxy.show();},onInitDrag:function(e,g){var d=this.el.dom.cloneNode(true);d.id=Ext.id();this.proxy.update(d);this.onStartDrag(e,g);return true;},getProxy:function(){return this.proxy;},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false;},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups);},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b);},onEndDrag:function(d,c){},autoOffset:function(d,c){this.setDelta(-12,-20);}});Ext.dd.DropTarget=function(c,d){this.el=Ext.get(c);Ext.apply(this,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el);}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true});};Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(e,g,d){if(this.overClass){this.el.addClass(this.overClass);}return this.dropAllowed;},notifyOver:function(e,g,d){return this.dropAllowed;},notifyOut:function(e,g,d){if(this.overClass){this.el.removeClass(this.overClass);}},notifyDrop:function(e,g,d){return false;}});Ext.dd.DragZone=function(c,d){Ext.dd.DragZone.superclass.constructor.call(this,c,d);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el);}};Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(b){return Ext.dd.Registry.getHandleFromEvent(b);},onInitDrag:function(d,c){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(d,c);return true;},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");}this.dragging=false;},getRepairXY:function(b){return Ext.Element.fly(this.dragData.ddel).getXY();}});Ext.dd.DropZone=function(c,d){Ext.dd.DropZone.superclass.constructor.call(this,c,d);};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(b){return Ext.dd.Registry.getTargetFromEvent(b);},onNodeEnter:function(h,g,i,e){},onNodeOver:function(h,g,i,e){return this.dropAllowed;},onNodeOut:function(h,g,i,e){},onNodeDrop:function(h,g,i,e){return false;},onContainerOver:function(e,g,d){return this.dropNotAllowed;},onContainerDrop:function(e,g,d){return false;},notifyEnter:function(e,g,d){return this.dropNotAllowed;},notifyOver:function(g,i,e){var h=this.getTargetFromEvent(i);if(!h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null;}return this.onContainerOver(g,i,e);}if(this.lastOverNode!=h){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);}this.onNodeEnter(h,g,i,e);this.lastOverNode=h;}return this.onNodeOver(h,g,i,e);},notifyOut:function(e,g,d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,g,d);this.lastOverNode=null;}},notifyDrop:function(g,i,e){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,g,i,e);this.lastOverNode=null;}var h=this.getTargetFromEvent(i);return h?this.onNodeDrop(h,g,i,e):this.onContainerDrop(g,i,e);},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups);}});Ext.data.SortTypes={none:function(b){return b;},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"");},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"");},asUCString:function(b){return String(b).toUpperCase();},asDate:function(b){if(!b){return 0;}if(Ext.isDate(b)){return b.getTime();}return Date.parse(String(b));},asFloat:function(d){var c=parseFloat(String(d).replace(/,/g,""));if(isNaN(c)){c=0;}return c;},asInt:function(d){var c=parseInt(String(d).replace(/,/g,""));if(isNaN(c)){c=0;}return c;}};Ext.data.Record=function(d,c){this.id=(c||c===0)?c:++Ext.data.Record.AUTO_ID;this.data=d;};Ext.data.Record.create=function(i){var l=Ext.extend(Ext.data.Record,{});var k=l.prototype;k.fields=new Ext.util.MixedCollection(false,function(a){return a.name;});for(var g=0,h=i.length;g<h;g++){k.fields.add(new Ext.data.Field(i[g]));}l.getField=function(a){return k.fields.get(a);};return l;};Ext.data.Record.AUTO_ID=1000;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,join:function(b){this.store=b;},set:function(d,c){if(String(this.data[d])==String(c)){return;}this.dirty=true;if(!this.modified){this.modified={};}if(typeof this.modified[d]=="undefined"){this.modified[d]=this.data[d];}this.data[d]=c;if(!this.editing&&this.store){this.store.afterEdit(this);}},get:function(b){return this.data[b];},beginEdit:function(){this.editing=true;this.modified=this.modified||{};},cancelEdit:function(){this.editing=false;delete this.modified;},endEdit:function(){this.editing=false;if(this.dirty&&this.store){this.store.afterEdit(this);}},reject:function(d){var e=this.modified;for(var g in e){if(typeof e[g]!="function"){this.data[g]=e[g];}}this.dirty=false;delete this.modified;this.editing=false;if(this.store&&d!==true){this.store.afterReject(this);}},commit:function(b){this.dirty=false;delete this.modified;this.editing=false;if(this.store&&b!==true){this.store.afterCommit(this);}},getChanges:function(){var e=this.modified,d={};for(var g in e){if(e.hasOwnProperty(g)){d[g]=this.data[g];}}return d;},hasError:function(){return this.error!=null;},clearError:function(){this.error=null;},copy:function(b){return new this.constructor(Ext.apply({},this.data),b||this.id);},isModified:function(b){return !!(this.modified&&this.modified.hasOwnProperty(b));}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var d=0,c;c=arguments[d];d++){this.add(c);}},unregister:function(){for(var d=0,c;c=arguments[d];d++){this.remove(this.lookup(c));}},lookup:function(b){return typeof b=="object"?(b.events?b:Ext.create(b,"store")):this.get(b);},getKey:function(b){return b.storeId||b.id;}});Ext.data.Store=function(b){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(a){return a.id;};this.baseParams={};this.paramNames={start:"start",limit:"limit",sort:"sort",dir:"dir"};if(b&&b.data){this.inlineData=b.data;delete b.data;}Ext.apply(this,b);if(this.url&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url});}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType;}if(this.reader.onMetaChange){this.reader.onMetaChange=this.onMetaChange.createDelegate(this);}}if(this.recordType){this.fields=this.recordType.prototype.fields;}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","beforeload","load","loadexception");if(this.proxy){this.relayEvents(this.proxy,["loadexception"]);}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir);}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction);}}Ext.data.Store.superclass.constructor.call(this);if(this.storeId||this.id){Ext.StoreMgr.register(this);}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData;}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined]);}}};Ext.extend(Ext.data.Store,Ext.util.Observable,{remoteSort:false,pruneModifiedRecords:false,lastOptions:null,destroy:function(){if(this.id){Ext.StoreMgr.unregister(this);}this.data=null;this.purgeListeners();},add:function(e){e=[].concat(e);if(e.length<1){return;}for(var h=0,g=e.length;h<g;h++){e[h].join(this);}var i=this.data.length;this.data.addAll(e);if(this.snapshot){this.snapshot.addAll(e);}this.fireEvent("add",this,e,i);},addSorted:function(d){var c=this.findInsertIndex(d);this.insert(c,d);},remove:function(d){var c=this.data.indexOf(d);this.data.removeAt(c);if(this.pruneModifiedRecords){this.modified.remove(d);}if(this.snapshot){this.snapshot.remove(d);}this.fireEvent("remove",this,d,c);},removeAll:function(){this.data.clear();if(this.snapshot){this.snapshot.clear();}if(this.pruneModifiedRecords){this.modified=[];}this.fireEvent("clear",this);},insert:function(i,e){e=[].concat(e);for(var h=0,g=e.length;h<g;h++){this.data.insert(i,e[h]);e[h].join(this);}this.fireEvent("add",this,e,i);},indexOf:function(b){return this.data.indexOf(b);},indexOfId:function(b){return this.data.indexOfKey(b);},getById:function(b){return this.data.key(b);},getAt:function(b){return this.data.itemAt(b);},getRange:function(c,d){return this.data.getRange(c,d);},storeOptions:function(b){b=Ext.apply({},b);delete b.callback;delete b.scope;this.lastOptions=b;},load:function(d){d=d||{};if(this.fireEvent("beforeload",this,d)!==false){this.storeOptions(d);var g=Ext.apply(d.params||{},this.baseParams);if(this.sortInfo&&this.remoteSort){var e=this.paramNames;g[e.sort]=this.sortInfo.field;g[e.dir]=this.sortInfo.direction;}this.proxy.load(g,this.reader,this.loadRecords,this,d);return true;}else{return false;}},reload:function(b){this.load(Ext.applyIf(b||{},this.lastOptions));},loadRecords:function(l,i,m){if(!l||m===false){if(m!==false){this.fireEvent("load",this,[],i);}if(i.callback){i.callback.call(i.scope||this,[],i,false);}return;}var n=l.records,o=l.totalRecords||n.length;if(!i||i.add!==true){if(this.pruneModifiedRecords){this.modified=[];}for(var p=0,k=n.length;p<k;p++){n[p].join(this);}if(this.snapshot){this.data=this.snapshot;delete this.snapshot;}this.data.clear();this.data.addAll(n);this.totalLength=o;this.applySort();this.fireEvent("datachanged",this);}else{this.totalLength=Math.max(o,this.data.length+n.length);this.add(n);}this.fireEvent("load",this,n,i);if(i.callback){i.callback.call(i.scope||this,n,i,true);}},loadData:function(g,e){var d=this.reader.readRecords(g);this.loadRecords(d,{add:e},true);},getCount:function(){return this.data.length||0;},getTotalCount:function(){return this.totalLength||0;},getSortState:function(){return this.sortInfo;},applySort:function(){if(this.sortInfo&&!this.remoteSort){var d=this.sortInfo,c=d.field;this.sortData(c,d.direction);}},sortData:function(i,h){h=h||"ASC";var g=this.fields.get(i).sortType;var e=function(c,d){var a=g(c.data[i]),b=g(d.data[i]);return a>b?1:(a<b?-1:0);};this.data.sort(h,e);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(h,e);}},setDefaultSort:function(c,d){d=d?d.toUpperCase():"ASC";this.sortInfo={field:c,direction:d};this.sortToggle[c]=d;},sort:function(i,l){var k=this.fields.get(i);if(!k){return false;}if(!l){if(this.sortInfo&&this.sortInfo.field==k.name){l=(this.sortToggle[k.name]||"ASC").toggle("ASC","DESC");}else{l=k.sortDir;}}var g=(this.sortToggle)?this.sortToggle[k.name]:null;var h=(this.sortInfo)?this.sortInfo:null;this.sortToggle[k.name]=l;this.sortInfo={field:k.name,direction:l};if(!this.remoteSort){this.applySort();this.fireEvent("datachanged",this);}else{if(!this.load(this.lastOptions)){if(g){this.sortToggle[k.name]=g;}if(h){this.sortInfo=h;}}}},each:function(c,d){this.data.each(c,d);},getModifiedRecords:function(){return this.modified;},createFilterFn:function(i,e,h,g){if(Ext.isEmpty(e,false)){return false;}e=this.data.createValueMatcher(e,h,g);return function(a){return e.test(a.data[i]);};},sum:function(l,k,i){var n=this.data.items,h=0;k=k||0;i=(i||i===0)?i:n.length-1;for(var m=k;m<=i;m++){h+=(n[m].data[l]||0);}return h;},filter:function(k,l,i,h){var g=this.createFilterFn(k,l,i,h);return g?this.filterBy(g):this.clearFilter();},filterBy:function(c,d){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(c,d||this);this.fireEvent("datachanged",this);},query:function(k,l,i,h){var g=this.createFilterFn(k,l,i,h);return g?this.queryBy(g):this.data.clone();},queryBy:function(d,e){var g=this.snapshot||this.data;return g.filterBy(d,e||this);},find:function(m,n,k,l,i){var h=this.createFilterFn(m,n,l,i);return h?this.data.findIndexBy(h,null,k):-1;},findBy:function(d,e,g){return this.data.findIndexBy(d,e,g);},collect:function(p,l,u){var q=(u===true&&this.snapshot)?this.snapshot.items:this.data.items;var i,d,v=[],t={};for(var s=0,r=q.length;s<r;s++){i=q[s].data[p];d=String(i);if((l||!Ext.isEmpty(i))&&!t[d]){t[d]=true;v[v.length]=i;}}return v;},clearFilter:function(b){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(b!==true){this.fireEvent("datachanged",this);}}},isFiltered:function(){return this.snapshot&&this.snapshot!=this.data;},afterEdit:function(b){if(this.modified.indexOf(b)==-1){this.modified.push(b);}this.fireEvent("update",this,b,Ext.data.Record.EDIT);},afterReject:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.REJECT);},afterCommit:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.COMMIT);},commitChanges:function(){var d=this.modified.slice(0);this.modified=[];for(var g=0,e=d.length;g<e;g++){d[g].commit();}},rejectChanges:function(){var d=this.modified.slice(0);this.modified=[];for(var g=0,e=d.length;g<e;g++){d[g].reject();}},onMetaChange:function(d,e,g){this.recordType=e;this.fields=e.prototype.fields;delete this.snapshot;this.sortInfo=d.sortInfo;this.modified=[];this.fireEvent("metachange",this,this.reader.meta);},findInsertIndex:function(e){this.suspendEvents();var g=this.data.clone();this.data.add(e);this.applySort();var d=this.data.indexOf(e);this.data=g;this.resumeEvents();return d;},setBaseParam:function(d,c){this.baseParams=this.baseParams||{};this.baseParams[d]=c;}});Ext.reg("store",Ext.data.Store);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.JsonReader(b)}));}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.XmlReader(b)}));}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.ArrayReader(b)}));},loadData:function(i,g){if(this.expandData===true){var k=[];for(var l=0,h=i.length;l<h;l++){k[k.length]=[i[l]];}i=k;}Ext.data.ArrayStore.superclass.loadData.call(this,i,g);}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.Field=function(k){if(typeof k=="string"){k={name:k};}Ext.apply(this,k);if(!this.type){this.type="auto";}var l=Ext.data.SortTypes;if(typeof this.sortType=="string"){this.sortType=l[this.sortType];}if(!this.sortType){switch(this.type){case"string":this.sortType=l.asUCString;break;case"date":this.sortType=l.asDate;break;default:this.sortType=l.none;}}var i=/[\$,%]/g;if(!this.convert){var g,h=this.dateFormat;switch(this.type){case"":case"auto":case undefined:g=function(a){return a;};break;case"string":g=function(a){return(a===undefined||a===null)?"":String(a);};break;case"int":g=function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(i,""),10):"";};break;case"float":g=function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(i,""),10):"";};break;case"bool":case"boolean":g=function(a){return a===true||a==="true"||a==1;};break;case"date":g=function(a){if(!a){return"";}if(Ext.isDate(a)){return a;}if(h){if(h=="timestamp"){return new Date(a*1000);}if(h=="time"){return new Date(parseInt(a,10));}return Date.parseDate(a,h);}var b=Date.parse(a);return b?new Date(b):null;};break;}this.convert=g;}};Ext.data.Field.prototype={dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC"};Ext.data.DataReader=function(d,c){this.meta=d;this.recordType=Ext.isArray(c)?Ext.data.Record.create(c):c;};Ext.data.DataReader.prototype={};Ext.data.DataProxy=function(){this.addEvents("beforeload","load");Ext.data.DataProxy.superclass.constructor.call(this);};Ext.extend(Ext.data.DataProxy,Ext.util.Observable);Ext.data.MemoryProxy=function(b){Ext.data.MemoryProxy.superclass.constructor.call(this);this.data=b;};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{load:function(m,p,l,o,e){m=m||{};var k;try{k=p.readRecords(this.data);}catch(n){this.fireEvent("loadexception",this,e,null,n);l.call(o,null,e,false);return;}l.call(o,k,e,true);},update:function(c,d){}});Ext.data.HttpProxy=function(b){Ext.data.HttpProxy.superclass.constructor.call(this);this.conn=b;this.useAjax=!b||!b.events;};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn;},load:function(l,h,k,n,i){if(this.fireEvent("beforeload",this,l)!==false){var m={params:l||{},request:{callback:k,scope:n,arg:i},reader:h,callback:this.loadResponse,scope:this};if(this.useAjax){Ext.applyIf(m,this.conn);if(this.activeRequest){Ext.Ajax.abort(this.activeRequest);}this.activeRequest=Ext.Ajax.request(m);}else{this.conn.request(m);}}else{k.call(n||this,null,i,false);}},loadResponse:function(i,k,e){delete this.activeRequest;if(!k){this.fireEvent("loadexception",this,i,e);i.request.callback.call(i.request.scope,null,i.request.arg,false);return;}var h;try{h=i.reader.read(e);}catch(l){this.fireEvent("loadexception",this,i,e,l);i.request.callback.call(i.request.scope,null,i.request.arg,false);return;}this.fireEvent("load",this,i,i.request.arg);i.request.callback.call(i.request.scope,h,i.request.arg,true);},update:function(b){},updateResponse:function(b){}});Ext.data.ScriptTagProxy=function(b){Ext.data.ScriptTagProxy.superclass.constructor.call(this);Ext.apply(this,b);this.head=document.getElementsByTagName("head")[0];};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,load:function(t,s,q,p,o){if(this.fireEvent("beforeload",this,t)!==false){var v=Ext.urlEncode(Ext.apply(t,this.extraParams));var w=this.url;w+=(w.indexOf("?")!=-1?"&":"?")+v;if(this.nocache){w+="&_dc="+(new Date().getTime());}var x=++Ext.data.ScriptTagProxy.TRANS_ID;var n={id:x,cb:"stcCallback"+x,scriptId:"stcScript"+x,params:t,arg:o,url:w,callback:q,scope:p,reader:s};var u=this;window[n.cb]=function(a){u.handleResponse(a,n);};w+=String.format("&{0}={1}",this.callbackParam,n.cb);if(this.autoAbort!==false){this.abort();}n.timeoutId=this.handleFailure.defer(this.timeout,this,[n]);var r=document.createElement("script");r.setAttribute("src",w);r.setAttribute("type","text/javascript");r.setAttribute("id",n.scriptId);this.head.appendChild(r);this.trans=n;}else{q.call(p||this,null,o,false);}},isLoading:function(){return this.trans?true:false;},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans);}},destroyTrans:function(d,e){this.head.removeChild(document.getElementById(d.scriptId));clearTimeout(d.timeoutId);if(e){window[d.cb]=undefined;try{delete window[d.cb];}catch(g){}}else{window[d.cb]=function(){window[d.cb]=undefined;try{delete window[d.cb];}catch(a){}};}},handleResponse:function(h,e){this.trans=false;this.destroyTrans(e,true);var g;try{g=e.reader.readRecords(h);}catch(i){this.fireEvent("loadexception",this,h,e.arg,i);e.callback.call(e.scope||window,null,e.arg,false);return;}this.fireEvent("load",this,h,e.arg);e.callback.call(e.scope||window,g,e.arg,true);},handleFailure:function(b){this.trans=false;this.destroyTrans(b,false);this.fireEvent("loadexception",this,null,b.arg);b.callback.call(b.scope||window,null,b.arg,false);}});Ext.data.JsonReader=function(d,c){d=d||{};Ext.data.JsonReader.superclass.constructor.call(this,d,c||d.fields);};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(response){var json=response.responseText;var o=eval("("+json+")");if(!o){throw {message:"JsonReader.read: Json object not found"};}return this.readRecords(o);},onMetaChange:function(e,g,d){},simpleAccess:function(c,d){return c[d];},getJsonAccessor:function(){var b=/[\[\.]/;return function(d){try{return(b.test(d))?new Function("obj","return obj."+d):function(c){return c[d];};}catch(a){}return Ext.emptyFn;};}(),readRecords:function(D){this.jsonData=D;if(D.metaData){delete this.ef;this.meta=D.metaData;this.recordType=Ext.data.Record.create(D.metaData.fields);this.onMetaChange(this.meta,this.recordType,D);}var I=this.meta,P=this.recordType,G=P.prototype.fields,K=G.items,L=G.length;if(!this.ef){if(I.totalProperty){this.getTotal=this.getJsonAccessor(I.totalProperty);}if(I.successProperty){this.getSuccess=this.getJsonAccessor(I.successProperty);}this.getRoot=I.root?this.getJsonAccessor(I.root):function(a){return a;};if(I.id||I.idProperty){var c=this.getJsonAccessor(I.id||I.idProperty);this.getId=function(a){var b=c(a);return(b===undefined||b==="")?null:b;};}else{this.getId=function(){return null;};}this.ef=[];for(var i=0;i<L;i++){G=K[i];var v=(G.mapping!==undefined&&G.mapping!==null)?G.mapping:G.name;this.ef[i]=this.getJsonAccessor(v);}}var o=this.getRoot(D),F=o.length,H=F,M=true;if(I.totalProperty){var J=parseInt(this.getTotal(D),10);if(!isNaN(J)){H=J;}}if(I.successProperty){var J=this.getSuccess(D);if(J===false||J==="false"){M=false;}}var g=[];for(var i=0;i<F;i++){var s=o[i];var O={};var E=this.getId(s);for(var n=0;n<L;n++){G=K[n];var J=this.ef[n](s);O[G.name]=G.convert((J!==undefined)?J:G.defaultValue,s);}var N=new P(O,E);N.json=s;g[i]=N;}return{success:M,records:g,totalRecords:H};}});Ext.data.XmlReader=function(d,c){d=d||{};Ext.data.XmlReader.superclass.constructor.call(this,d,c||d.fields);};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(d){var c=d.responseXML;if(!c){throw {message:"XmlReader.read: XML Document not available"};}return this.readRecords(c);},readRecords:function(i){this.xmlData=i;var D=i.documentElement||i;var J=Ext.DomQuery;var Q=this.recordType,G=Q.prototype.fields;var O=this.meta.idPath||this.meta.id;var L=0,N=true;if(this.meta.totalRecords){L=J.selectNumber(this.meta.totalRecords,D,0);}if(this.meta.success){var H=J.selectValue(this.meta.success,D,true);N=H!==false&&H!=="false";}var v=[];var F=J.select(this.meta.record,D);for(var B=0,q=F.length;B<q;B++){var E=F[B];var R={};var I=O?J.selectValue(O,E):undefined;for(var C=0,K=G.length;C<K;C++){var n=G.items[C];var M=J.selectValue(n.mapping||n.name,E,n.defaultValue);M=n.convert(M,E);R[n.name]=M;}var P=new Q(R,I);P.node=E;v[v.length]=P;}return{success:N,records:v,totalRecords:L||v.length};}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(B){this.arrayData=B;var F=this.meta;var I=F?(F.idIndex||F.id):null;var K=this.recordType,C=K.prototype.fields;var k=[];if(!this.getRoot){this.getRoot=F.root?this.getJsonAccessor(F.root):function(a){return a;};if(F.totalProperty){this.getTotal=this.getJsonAccessor(F.totalProperty);}}var v=this.getRoot(B);for(var n=0;n<v.length;n++){var A=v[n];var L={};var D=((I||I===0)&&A[I]!==undefined&&A[I]!==""?A[I]:null);for(var o=0,E=C.length;o<E;o++){var i=C.items[o];var s=i.mapping!==undefined&&i.mapping!==null?i.mapping:o;var H=A[s]!==undefined?A[s]:i.defaultValue;H=i.convert(H,A);L[i.name]=H;}var J=new K(L,D);J.json=A;k[k.length]=J;}var G=k.length;if(F.totalProperty){var H=parseInt(this.getTotal(B),10);if(!isNaN(H)){G=H;}}return{records:k,totalRecords:G};}});Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={};},addProvider:function(g){var i=arguments;if(i.length>1){for(var h=0,a=i.length;h<a;h++){this.addProvider(i[h]);}return;}if(!g.events){g=new Ext.Direct.PROVIDERS[g.type](g);}g.id=g.id||Ext.id;this.providers[g.id]=g;g.on("data",this.onProviderData,this);g.on("exception",this.onProviderException,this);if(!g.isConnected()){g.connect();}return g;},getProvider:function(b){return this.providers[b];},removeProvider:function(c){var d=c.id?c:providers[c.id];d.un("data",this.onProviderData,this);d.un("exception",this.onProviderException,this);delete this.providers[d.id];return d;},addTransaction:function(b){this.transactions[b.tid]=b;return b;},removeTransaction:function(b){delete this.transactions[b.tid||b];return b;},getTransaction:function(b){return this.transactions[b.tid||b];},onProviderData:function(h,i){if(Ext.isArray(i)){for(var e=0,g=i.length;e<g;e++){this.onProviderData(h,i[e]);}return;}if(i.name&&i.name!="event"&&i.name!="exception"){this.fireEvent(i.name,i);}else{if(i.type=="exception"){this.fireEvent("exception",i);}}this.fireEvent("event",i,h);},createEvent:function(d,c){return new Ext.Direct.eventTypes[d.type](Ext.apply(d,c));}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(b){Ext.apply(this,b);this.tid=++Ext.Direct.TID;this.retryCount=0;};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this);},retry:function(){this.retryCount++;this.send();},getProvider:function(){return this.provider;}};Ext.Direct.Event=function(b){Ext.apply(this,b);};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data;}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid);}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(b){Ext.apply(this,b);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,b);},isConnected:function(){return false;},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(b){if(!Ext.isEmpty(b.responseText)){if(typeof b.responseText=="object"){return b.responseText;}return Ext.decode(b.responseText);}return null;},getEvents:function(l){var n=null;try{n=this.parseResponse(l);}catch(m){var o=new Ext.Direct.ExceptionEvent({data:m,xhr:l,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+n});return[o];}var p=[];if(Ext.isArray(n)){for(var e=0,i=n.length;e<i;e++){p.push(Ext.Direct.createEvent(n[e]));}}else{p.push(Ext.Direct.createEvent(n));}return p;}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(b){Ext.direct.PollingProvider.superclass.constructor.call(this,b);this.addEvents("beforepoll","poll");},isConnected:function(){return !!this.pollTask;},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams);}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams});}}},interval:this.interval,scope:this});this.fireEvent("connect",this);}else{if(!this.url){throw"Error initializing PollingProvider, no url configured.";}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this);}},onData:function(o,l,m){if(l){var p=this.getEvents(m);for(var e=0,i=p.length;e<i;e++){var n=p[e];this.fireEvent("data",this,n);}}else{var n=new Ext.Direct.ExceptionEvent({data:n,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:m});this.fireEvent("data",this,n);}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:1,enableBuffer:10,maxRetries:1,constructor:function(b){Ext.direct.RemotingProvider.superclass.constructor.call(this,b);this.addEvents("beforecall","call");this.namespace=this.namespace||window;this.transactions={};this.callBuffer=[];},initAPI:function(){var m=this.actions;for(var l in m){var p=this.namespace[l]||(this.namespace[l]={});var o=m[l];for(var n=0,c=o.length;n<c;n++){var i=o[n];p[i.name]=this.createMethod(l,i);}}},isConnected:function(){return !!this.connected;},connect:function(){if(this.url){this.initAPI();this.connected=true;this.fireEvent("connect",this);}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured.";}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this);}},onData:function(t,o,n){if(o){var i=this.getEvents(n);for(var s=0,r=i.length;s<r;s++){var q=i[s];var e=q.getTransaction();this.fireEvent("data",this,q);if(e){this.doCallback(e,q,true);Ext.Direct.removeTransaction(e);}}}else{var p=[].concat(t.ts);for(var s=0,r=p.length;s<r;s++){var e=this.getTransaction(t.ts[s]);if(e&&e.retryCount<this.maxRetries){e.retry();}else{var q=new Ext.Direct.ExceptionEvent({data:q,transaction:e,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:n});this.fireEvent("data",this,q);if(e){this.doCallback(e,q,false);Ext.Direct.removeTransaction(e);}}}}},getCallData:function(b){return{action:b.action,method:b.method,data:b.data,type:"rpc",tid:b.tid};},doSend:function(m){var k={url:this.url,callback:this.onData,scope:this};var h;if(Ext.isArray(m)){h=[];for(var n=0,i=m.length;n<i;n++){h.push(this.getCallData(m[n]));}}else{h=this.getCallData(m);}if(this.enableUrlEncode){var l={};l[typeof this.enableUrlEncode=="string"?this.enableUrlEncode:"data"]=Ext.encode(h);k.params=l;}else{k.jsonData=h;}Ext.Ajax.request(k);},combineAndSend:function(){var b=this.callBuffer.length;if(b>0){this.doSend(b==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[];}},queueTransaction:function(b){this.callBuffer.push(b);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this);}this.callTask.delay(typeof this.enableBuffer=="number"?this.enableBuffer:10);}else{this.combineAndSend();}},doCall:function(l,k,c){var m=null,o=c[k.len],n=c[k.len+1];if(k.len!==0){m=c.slice(0,k.len);}var p=new Ext.Direct.Transaction({provider:this,args:c,action:l,method:k.name,data:m,cb:n&&typeof o=="function"?o.createDelegate(n):o});if(this.fireEvent("beforecall",this,p)!==false){Ext.Direct.addTransaction(p);this.queueTransaction(p);this.fireEvent("call",this,p);}},doForm:function(m,c,p,n,q){var r=new Ext.Direct.Transaction({provider:this,action:m,method:c.name,args:[p,n,q],cb:q&&typeof n=="function"?n.createDelegate(q):n});if(this.fireEvent("beforecall",this,r)!==false){Ext.Direct.addTransaction(r);p=Ext.getDom(p);var l=String(p.getAttribute("enctype")).toLowerCase()=="multipart/form-data";var o={extTID:r.tid,extAction:m,extMethod:c.name,extUpload:String(l)};if(n&&typeof n=="object"){Ext.apply(o,n.params);}Ext.Ajax.request({url:this.url,params:o,callback:this.onData,scope:this,form:p,isUpload:l,ts:r});}},createMethod:function(g,e){var c;if(!e.formHandler){c=function(){this.doCall(g,e,Array.prototype.slice.call(arguments,0));}.createDelegate(this);}else{c=function(b,a,d){this.doForm(g,e,b,a,d);}.createDelegate(this);}c.directCfg={action:g,method:e};return c;},getTransaction:function(b){return b&&b.tid?Ext.Direct.getTransaction(b.tid):null;},doCallback:function(l,i){var k=i.status?"success":"failure";if(l&&l.cb){var e=l.cb;var h=i.result||i.data;if(typeof e=="function"){e(h,i);}else{Ext.callback(e[k],e.scope,[h,i]);Ext.callback(e.callback,e.scope,[h,i]);}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.data.DirectProxy=function(b){Ext.apply(this,b);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/);}Ext.data.DirectProxy.superclass.constructor.call(this);};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,load:function(m,q,r,n,i){if(this.fireEvent("beforeload",this,m)!==false){var p=[];if(this.paramOrder){for(var o=0,l=this.paramOrder.length;o<l;o++){p.push(m[this.paramOrder[o]]);}}else{if(this.paramsAsHash){p.push(m);}}p.push({callback:function(c,d){if(!d.status){this.fireEvent("loadexception",this,d,c);r.call(n,null,i,false);return;}var b;try{b=q.readRecords(c);}catch(a){this.fireEvent("loadexception",this,d,c,a);r.call(n,null,i,false);return;}this.fireEvent("load",this,d,i);r.call(n,b,i,true);},scope:this});this.directFn.apply(window,p);}else{r.call(n||this,null,i,false);}}});Ext.data.DirectStore=function(c){var d=Ext.copyTo({},c,"paramOrder,paramsAsHash,directFn");Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(c,{proxy:new Ext.data.DirectProxy(d),reader:new Ext.data.JsonReader(c,c.fields)}));};Ext.extend(Ext.data.DirectStore,Ext.data.Store);Ext.data.Tree=function(b){this.nodeHash={};this.root=null;if(b){this.setRootNode(b);}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this);};Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments);},getRootNode:function(){return this.root;},setRootNode:function(b){this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);return b;},getNodeById:function(b){return this.nodeHash[b];},registerNode:function(b){this.nodeHash[b.id]=b;},unregisterNode:function(b){delete this.nodeHash[b.id];},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]";}});Ext.data.Node=function(b){this.attributes=b||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"ynode-");this.attributes.id=this.id;}this.childNodes=[];if(!this.childNodes.indexOf){this.childNodes.indexOf=function(e){for(var g=0,a=this.length;g<a;g++){if(this[g]==e){return g;}}return -1;};}this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this);};Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(c){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false;}var d=this.getOwnerTree();if(d){if(d.proxyNodeEvent.apply(d,arguments)===false){return false;}}return true;},isLeaf:function(){return this.leaf===true;},setFirstChild:function(b){this.firstChild=b;},setLastChild:function(b){this.lastChild=b;},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this);},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this);},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0;},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes();},appendChild:function(n){var m=false;if(Ext.isArray(n)){m=n;}else{if(arguments.length>1){m=arguments;}}if(m){for(var o=0,k=m.length;o<k;o++){this.appendChild(m[o]);}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,n)===false){return false;}var i=this.childNodes.length;var p=n.parentNode;if(p){if(n.fireEvent("beforemove",n.getOwnerTree(),n,p,this,i)===false){return false;}p.removeChild(n);}i=this.childNodes.length;if(i==0){this.setFirstChild(n);}this.childNodes.push(n);n.parentNode=this;var l=this.childNodes[i-1];if(l){n.previousSibling=l;l.nextSibling=n;}else{n.previousSibling=null;}n.nextSibling=null;this.setLastChild(n);n.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,n,i);if(p){n.fireEvent("move",this.ownerTree,n,p,this,i);}return n;}},removeChild:function(c){var d=this.childNodes.indexOf(c);if(d==-1){return false;}if(this.fireEvent("beforeremove",this.ownerTree,this,c)===false){return false;}this.childNodes.splice(d,1);if(c.previousSibling){c.previousSibling.nextSibling=c.nextSibling;}if(c.nextSibling){c.nextSibling.previousSibling=c.previousSibling;}if(this.firstChild==c){this.setFirstChild(c.nextSibling);}if(this.lastChild==c){this.setLastChild(c.previousSibling);}c.setOwnerTree(null);c.parentNode=null;c.previousSibling=null;c.nextSibling=null;this.fireEvent("remove",this.ownerTree,this,c);return c;},insertBefore:function(m,i){if(!i){return this.appendChild(m);}if(m==i){return false;}if(this.fireEvent("beforeinsert",this.ownerTree,this,m,i)===false){return false;}var h=this.childNodes.indexOf(i);var n=m.parentNode;var l=h;if(n==this&&this.childNodes.indexOf(m)<h){l--;}if(n){if(m.fireEvent("beforemove",m.getOwnerTree(),m,n,this,h,i)===false){return false;}n.removeChild(m);}if(l==0){this.setFirstChild(m);}this.childNodes.splice(l,0,m);m.parentNode=this;var k=this.childNodes[l-1];if(k){m.previousSibling=k;k.nextSibling=m;}else{m.previousSibling=null;}m.nextSibling=i;i.previousSibling=m;m.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,m,i);if(n){m.fireEvent("move",this.ownerTree,m,n,this,l,i);}return m;},remove:function(){this.parentNode.removeChild(this);return this;},item:function(b){return this.childNodes[b];},replaceChild:function(d,c){this.insertBefore(d,c);this.removeChild(c);return c;},indexOf:function(b){return this.childNodes.indexOf(b);},getOwnerTree:function(){if(!this.ownerTree){var b=this;while(b){if(b.ownerTree){this.ownerTree=b.ownerTree;break;}b=b.parentNode;}}return this.ownerTree;},getDepth:function(){var c=0;var d=this;while(d.parentNode){++c;d=d.parentNode;}return c;},setOwnerTree:function(e){if(e!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this);}this.ownerTree=e;var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].setOwnerTree(e);}if(e){e.registerNode(this);}}},getPath:function(i){i=i||"id";var g=this.parentNode;var b=[this.attributes[i]];while(g){b.unshift(g.attributes[i]);g=g.parentNode;}var h=this.getOwnerTree().pathSeparator;return h+b.join(h);},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break;}h=h.parentNode;}},cascade:function(k,l,h){if(k.apply(l||this,h||[this])!==false){var m=this.childNodes;for(var n=0,i=m.length;n<i;n++){m[n].cascade(k,l,h);}}},eachChild:function(k,l,h){var m=this.childNodes;for(var n=0,i=m.length;n<i;n++){if(k.apply(l||this,h||[m[n]])===false){break;}}},findChild:function(k,i){var l=this.childNodes;for(var g=0,h=l.length;g<h;g++){if(l[g].attributes[k]==i){return l[g];}}return null;},findChildBy:function(i,k){var l=this.childNodes;for(var g=0,h=l.length;g<h;g++){if(i.call(k||l[g],l[g])===true){return l[g];}}return null;},sort:function(n,o){var p=this.childNodes;var k=p.length;if(k>0){var m=o?function(){n.apply(o,arguments);}:n;p.sort(m);for(var i=0;i<k;i++){var l=p[i];l.previousSibling=p[i-1];l.nextSibling=p[i+1];if(i==0){this.setFirstChild(l);}if(i==k-1){this.setLastChild(l);}}}},contains:function(b){return b.isAncestor(this);},isAncestor:function(d){var c=this.parentNode;while(c){if(c==d){return true;}c=c.parentNode;}return false;},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]";}});Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{remoteGroup:false,groupOnSort:false,clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;}this.reload();}else{this.applySort();this.fireEvent("datachanged",this);}},groupBy:function(g,d){if(this.groupField==g&&!d){return;}this.groupField=g;if(this.remoteGroup){if(!this.baseParams){this.baseParams={};}this.baseParams.groupBy=g;}if(this.groupOnSort){this.sort(g);return;}if(this.remoteGroup){this.reload();}else{var e=this.sortInfo||{};if(e.field!=g){this.applySort();}else{this.sortData(g);}this.fireEvent("datachanged",this);}},applySort:function(){Ext.data.GroupingStore.superclass.applySort.call(this);if(!this.groupOnSort&&!this.remoteGroup){var b=this.getGroupState();if(b&&b!=this.sortInfo.field){this.sortData(this.groupField);}}},applyGrouping:function(b){if(this.groupField!==false){this.groupBy(this.groupField,true);return true;}else{if(b===true){this.fireEvent("datachanged",this);}return false;}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField;}});Ext.Component=function(d){d=d||{};if(d.initialConfig){if(d.isAction){this.baseAction=d;}d=d.initialConfig;}else{if(d.tagName||d.dom||typeof d=="string"){d={applyTo:d,id:d.id||d};}}this.initialConfig=d;Ext.apply(this,d);this.addEvents("disable","enable","beforeshow","show","beforehide","hide","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this);}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var g=0,e=this.plugins.length;g<e;g++){this.plugins[g]=this.initPlugin(this.plugins[g]);}}else{this.plugins=this.initPlugin(this.plugins);}}if(this.stateful!==false){this.initState(d);}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo;}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo;}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,hidden:false,disabled:false,rendered:false,ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode];},initPlugin:function(b){if(b.ptype&&typeof b.init!="function"){b=Ext.ComponentMgr.createPlugin(b);}else{if(typeof b=="string"){b=Ext.ComponentMgr.createPlugin({ptype:b});}}b.init(this);return b;},initComponent:Ext.emptyFn,render:function(c,d){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!c&&this.el){this.el=Ext.get(this.el);c=this.el.dom.parentNode;this.allowDomMove=false;}this.container=Ext.get(c);if(this.ctCls){this.container.addClass(this.ctCls);}this.rendered=true;if(d!==undefined){if(typeof d=="number"){d=this.container.dom.childNodes[d];}else{d=Ext.getDom(d);}}this.onRender(this.container,d||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode]);}if(this.cls){this.el.addClass(this.cls);delete this.cls;}if(this.style){this.el.applyStyles(this.style);delete this.style;}this.fireEvent("render",this);this.afterRender(this.container);if(this.hidden){this.hide();}if(this.disabled){this.disable();}if(this.stateful!==false){this.initStateEvents();}this.initRef();this.fireEvent("afterrender",this);}return this;},initRef:function(){if(this.ref){var h=this.ref.split("/");var i=h.length,e=0;var g=this;while(e<i){if(g.ownerCt){g=g.ownerCt;}e++;}g[h[--e]]=this;}},initState:function(e){if(Ext.state.Manager){var g=this.getStateId();if(g){var d=Ext.state.Manager.get(g);if(d){if(this.fireEvent("beforestaterestore",this,d)!==false){this.applyState(d);this.fireEvent("staterestore",this,d);}}}}},getStateId:function(){return this.stateId||((this.id.indexOf("ext-comp-")==0||this.id.indexOf("ext-gen")==0)?null:this.id);},initStateEvents:function(){if(this.stateEvents){for(var d=0,c;c=this.stateEvents[d];d++){this.on(c,this.saveState,this,{delay:100});}}},applyState:function(c,d){if(c){Ext.apply(this,c);}},getState:function(){return null;},saveState:function(){if(Ext.state.Manager){var c=this.getStateId();if(c){var d=this.getState();if(this.fireEvent("beforestatesave",this,d)!==false){Ext.state.Manager.set(c,d);this.fireEvent("statesave",this,d);}}}},applyToMarkup:function(b){this.allowDomMove=false;this.el=Ext.get(b);this.render(this.el.dom.parentNode);},addClass:function(b){if(this.el){this.el.addClass(b);}else{this.cls=this.cls?this.cls+" "+b:b;}},removeClass:function(b){if(this.el){this.el.removeClass(b);}else{if(this.cls){this.cls=this.cls.split(" ").remove(b).join(" ");}}},onRender:function(d,e){if(this.autoEl){if(typeof this.autoEl=="string"){this.el=document.createElement(this.autoEl);}else{var g=document.createElement("div");Ext.DomHelper.overwrite(g,this.autoEl);this.el=g.firstChild;}if(!this.el.id){this.el.id=this.getId();}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){d.dom.insertBefore(this.el.dom,e);}if(this.overCls){this.el.addClassOnOver(this.overCls);}}},getAutoCreate:function(){var b=typeof this.autoCreate=="object"?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!b.id){b.id=this.id;}return b;},afterRender:Ext.emptyFn,destroy:function(){if(this.fireEvent("beforedestroy",this)!==false){this.beforeDestroy();if(this.rendered){this.el.removeAllListeners();this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove();}}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el;},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID));},getItemId:function(){return this.itemId||this.getId();},focus:function(c,d){if(d){this.focus.defer(typeof d=="number"?d:10,this,[c,false]);return;}if(this.rendered){this.el.focus();if(c===true){this.el.dom.select();}}return this;},blur:function(){if(this.rendered){this.el.blur();}return this;},disable:function(){if(this.rendered){this.onDisable();}this.disabled=true;this.fireEvent("disable",this);return this;},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true;},enable:function(){if(this.rendered){this.onEnable();}this.disabled=false;this.fireEvent("enable",this);return this;},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false;},setDisabled:function(b){this[b?"disable":"enable"]();},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(typeof this.autoRender=="boolean"?Ext.getBody():this.autoRender);}if(this.rendered){this.onShow();}this.fireEvent("show",this);}return this;},onShow:function(){if(this.hideParent){this.container.removeClass("x-hide-"+this.hideMode);}else{this.getActionEl().removeClass("x-hide-"+this.hideMode);}},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide();}this.fireEvent("hide",this);}return this;},onHide:function(){if(this.hideParent){this.container.addClass("x-hide-"+this.hideMode);}else{this.getActionEl().addClass("x-hide-"+this.hideMode);}},setVisible:function(b){if(b){this.show();}else{this.hide();}return this;},isVisible:function(){return this.rendered&&this.getActionEl().isVisible();},cloneConfig:function(d){d=d||{};var g=d.id||Ext.id();var e=Ext.applyIf(d,this.initialConfig);e.id=g;return new this.constructor(e);},getXType:function(){return this.constructor.xtype;},isXType:function(c,d){return !d?("/"+this.getXTypes()+"/").indexOf("/"+c+"/")!=-1:this.constructor.xtype==c;},getXTypes:function(){var e=this.constructor;if(!e.xtypes){var g=[],c=this;while(c&&c.constructor.xtype){g.unshift(c.constructor.xtype);c=c.constructor.superclass;}e.xtypeChain=g;e.xtypes=g.join("/");}return e.xtypes;},findParentBy:function(d){for(var c=this.ownerCt;(c!=null)&&!d(c,this);c=c.ownerCt){}return c||null;},findParentByType:function(b){return typeof b=="function"?this.findParentBy(function(a){return a.constructor===b;}):this.findParentBy(function(a){return a.constructor.xtype===b;});},getDomPositionEl:function(){return this.getPositionEl?this.getPositionEl():this.getEl();},mon:function(i,g,k,l,h){if(!this.mons){this.mons=[];this.on("beforedestroy",function(){for(var a=0,b=this.mons.length;a<b;a++){var c=this.mons[a];c.item.un(c.ename,c.fn,c.scope);}},this);}this.mons.push({item:i,ename:g,fn:k,scope:l});i.on(g,k,l,h);},nextSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b!=-1&&b+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(b+1);}}return null;},previousSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b>0){return this.ownerCt.items.itemAt(b-1);}}return null;},getBubbleTarget:function(){return this.ownerCt;}});Ext.reg("component",Ext.Component);Ext.Action=function(b){this.initialConfig=b;this.itemId=b.itemId=(b.itemId||b.id||Ext.id());this.items=[];};Ext.Action.prototype={isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b]);},getText:function(){return this.initialConfig.text;},setIconClass:function(b){this.initialConfig.iconCls=b;this.callEach("setIconClass",[b]);},getIconClass:function(){return this.initialConfig.iconCls;},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b]);},enable:function(){this.setDisabled(false);},disable:function(){this.setDisabled(true);},isDisabled:function(){return this.initialConfig.disabled;},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b]);},show:function(){this.setHidden(false);},hide:function(){this.setHidden(true);},isHidden:function(){return this.initialConfig.hidden;},setHandler:function(c,d){this.initialConfig.handler=c;this.initialConfig.scope=d;this.callEach("setHandler",[c,d]);},each:function(c,d){Ext.each(this.items,c,d);},callEach:function(i,g){var k=this.items;for(var l=0,h=k.length;l<h;l++){k[l][i].apply(k[l],g);}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this);},removeComponent:function(b){this.items.remove(b);},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments);}};(function(){Ext.Layer=function(m,n){m=m||{};var l=Ext.DomHelper;var b=m.parentEl,k=b?Ext.getDom(b):document.body;if(n){this.dom=Ext.getDom(n);}if(!this.dom){var a=m.dh||{tag:"div",cls:"x-layer"};this.dom=l.append(k,a);}if(m.cls){this.addClass(m.cls);}this.constrain=m.constrain!==false;this.visibilityMode=Ext.Element.VISIBILITY;if(m.id){this.id=this.dom.id=m.id;}else{this.id=Ext.id(this.dom);}this.zindex=m.zindex||this.getZIndex();this.position("absolute",this.zindex);if(m.shadow){this.shadowOffset=m.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:m.shadow});}else{this.shadowOffset=0;}this.useShim=m.shim!==false&&Ext.useShims;this.useDisplay=m.useDisplay;this.hide();};var d=Ext.Element.prototype;var c=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt(this.getStyle("z-index"),10)||11000;},getShim:function(){if(!this.useShim){return null;}if(this.shim){return this.shim;}var a=c.shift();if(!a){a=this.createShim();a.enableDisplayMode("block");a.dom.style.display="none";a.dom.style.visibility="visible";}var b=this.dom.parentNode;if(a.dom.parentNode!=b){b.insertBefore(a.dom,this.dom);}a.setStyle("z-index",this.getZIndex()-2);this.shim=a;return a;},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);c.push(this.shim);delete this.shim;}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0;}},enableShadow:function(a){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(a){this.sync(true);}}},sync:function(t){var h=this.shadow;if(!this.updating&&this.isVisible()&&(h||this.useShim)){var q=this.getShim();var l=this.getWidth(),r=this.getHeight();var s=this.getLeft(true),b=this.getTop(true);if(h&&!this.shadowDisabled){if(t&&!h.isVisible()){h.show(this);}else{h.realign(s,b,l,r);}if(q){if(t){q.show();}var p=h.adjusts,a=q.dom.style;a.left=(Math.min(s,s+p.l))+"px";a.top=(Math.min(b,b+p.t))+"px";a.width=(l+p.w)+"px";a.height=(r+p.h)+"px";}}else{if(q){if(t){q.show();}q.setSize(l,r);q.setLeftTop(s,b);}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide();}this.removeAllListeners();Ext.removeNode(this.dom);Ext.Element.uncache(this.id);},remove:function(){this.destroy();},beginUpdate:function(){this.updating=true;},endUpdate:function(){this.updating=false;this.sync(true);},hideUnders:function(a){if(this.shadow){this.shadow.hide();}this.hideShim();},constrainXY:function(){if(this.constrain){var s=Ext.lib.Dom.getViewWidth(),w=Ext.lib.Dom.getViewHeight();var a=Ext.getDoc().getScroll();var b=this.getXY();var r=b[0],t=b[1];var x=this.shadowOffset;var q=this.dom.offsetWidth+x,v=this.dom.offsetHeight+x;var u=false;if((r+q)>s+a.left){r=s-q-x;u=true;}if((t+v)>w+a.top){t=w-v-x;u=true;}if(r<a.left){r=a.left;u=true;}if(t<a.top){t=a.top;u=true;}if(u){if(this.avoidY){var h=this.avoidY;if(t<=h&&(t+v)>=h){t=h-v-5;}}b=[r,t];this.storeXY(b);d.setXY.call(this,b);this.sync();}}},isVisible:function(){return this.visible;},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("");}else{if(this.lastXY){d.setXY.call(this,this.lastXY);}else{if(this.lastLT){d.setLeftTop.call(this,this.lastLT[0],this.lastLT[1]);}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false);}else{this.setLeftTop(-10000,-10000);}},setVisible:function(n,o,b,a,e){if(n){this.showAction();}if(o&&n){var p=function(){this.sync(true);if(a){a();}}.createDelegate(this);d.setVisible.call(this,true,true,b,p,e);}else{if(!n){this.hideUnders(true);}var p=a;if(o){p=function(){this.hideAction();if(a){a();}}.createDelegate(this);}d.setVisible.call(this,n,o,b,p,e);if(n){this.sync(true);}else{if(!o){this.hideAction();}}}},storeXY:function(a){delete this.lastLT;this.lastXY=a;},storeLeftTop:function(a,b){delete this.lastXY;this.lastLT=[a,b];},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments);},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible());},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide();}},setLeft:function(a){this.storeLeftTop(a,this.getTop(true));d.setLeft.apply(this,arguments);this.sync();},setTop:function(a){this.storeLeftTop(this.getLeft(true),a);d.setTop.apply(this,arguments);this.sync();},setLeftTop:function(a,b){this.storeLeftTop(a,b);d.setLeftTop.apply(this,arguments);this.sync();},setXY:function(e,o,b,a,n){this.fixDisplay();this.beforeAction();this.storeXY(e);var p=this.createCB(a);d.setXY.call(this,e,o,b,p,n);if(!o){p();}},createCB:function(a){var b=this;return function(){b.constrainXY();b.sync(true);if(a){a();}};},setX:function(n,m,b,a,e){this.setXY([n,this.getY()],m,b,a,e);},setY:function(a,n,e,b,m){this.setXY([this.getX(),a],n,e,b,m);},setSize:function(e,b,h,r,q,a){this.beforeAction();var p=this.createCB(q);d.setSize.call(this,e,b,h,r,p,a);if(!h){p();}},setWidth:function(n,o,b,a,e){this.beforeAction();var p=this.createCB(a);d.setWidth.call(this,n,o,b,p,e);if(!o){p();}},setHeight:function(e,h,a,p,b){this.beforeAction();var o=this.createCB(p);d.setHeight.call(this,e,h,a,o,b);if(!h){o();}},setBounds:function(b,h,a,u,e,s,r,t){this.beforeAction();var v=this.createCB(r);if(!e){this.storeXY([b,h]);d.setXY.call(this,[b,h]);d.setSize.call(this,a,u,e,s,v,t);v();}else{d.setBounds.call(this,b,h,a,u,e,s,v,t);}return this;},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);if(this.shadow){this.shadow.setZIndex(a+1);}if(this.shim){this.shim.setStyle("z-index",a);}}});})();Ext.Shadow=function(h){Ext.apply(this,h);if(typeof this.mode!="string"){this.mode=this.defaultMode;}var g=this.offset,i={h:0};var a=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":i.w=0;i.l=i.t=g;i.t-=1;if(Ext.isIE){i.l-=this.offset+a;i.t-=this.offset+a;i.w-=a;i.h-=a;i.t+=1;}break;case"sides":i.w=(g*2);i.l=-g;i.t=g-1;if(Ext.isIE){i.l-=(this.offset-a);i.t-=this.offset+a;i.l+=1;i.w-=(this.offset-a)*2;i.w-=a+1;i.h-=1;}break;case"frame":i.w=i.h=(g*2);i.l=i.t=-g;i.t+=1;i.h-=2;if(Ext.isIE){i.l-=(this.offset-a);i.t-=(this.offset-a);i.l+=1;i.w-=(this.offset+a+1);i.h-=(this.offset+a);i.h+=1;}break;}this.adjusts=i;};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(b){b=Ext.get(b);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=b.dom){this.el.insertBefore(b);}}this.el.setStyle("z-index",this.zIndex||parseInt(b.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")";}this.realign(b.getLeft(true),b.getTop(true),b.getWidth(),b.getHeight());this.el.dom.style.display="block";},isVisible:function(){return this.el?true:false;},realign:function(B,D,a,y){if(!this.el){return;}var l=this.adjusts,t=this.el.dom,C=t.style;var x=0;C.left=(B+l.l)+"px";C.top=(D+l.t)+"px";var d=(a+l.w),z=(y+l.h),w=d+"px",h=z+"px";if(C.width!=w||C.height!=h){C.width=w;C.height=h;if(!Ext.isIE){var s=t.childNodes;var A=Math.max(0,(d-12))+"px";s[0].childNodes[1].style.width=A;s[1].childNodes[1].style.width=A;s[2].childNodes[1].style.width=A;s[1].style.height=Math.max(0,(z-12))+"px";}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el;}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b);}}};Ext.Shadow.Pool=function(){var c=[];var d=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var a=c.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,d));a.autoBoxAdjust=false;}return a;},push:function(a){c.push(a);}};}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move");},boxReady:false,deferHeight:false,setSize:function(h,m){if(typeof h=="object"){m=h.height;h=h.width;}if(!this.boxReady){this.width=h;this.height=m;return this;}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==h&&this.lastSize.height==m){return this;}this.lastSize={width:h,height:m};var n=this.adjustSize(h,m);var k=n.width,i=n.height;if(k!==undefined||i!==undefined){var l=this.getResizeEl();if(!this.deferHeight&&k!==undefined&&i!==undefined){l.setSize(k,i);}else{if(!this.deferHeight&&i!==undefined){l.setHeight(i);}else{if(k!==undefined){l.setWidth(k);}}}this.onResize(k,i,h,m);this.fireEvent("resize",this,k,i,h,m);}return this;},setWidth:function(b){return this.setSize(b);},setHeight:function(b){return this.setSize(undefined,b);},getSize:function(){return this.getResizeEl().getSize();},getWidth:function(){return this.getResizeEl().getWidth();},getHeight:function(){return this.getResizeEl().getHeight();},getOuterSize:function(){var b=this.getResizeEl();return{width:b.getWidth()+b.getMargins("lr"),height:b.getHeight()+b.getMargins("tb")};},getPosition:function(d){var c=this.getPositionEl();if(d===true){return[c.getLeft(true),c.getTop(true)];}return this.xy||c.getXY();},getBox:function(e){var g=this.getPosition(e);var d=this.getSize();d.x=g[0];d.y=g[1];return d;},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this;},getResizeEl:function(){return this.resizeEl||this.el;},getPositionEl:function(){return this.positionEl||this.el;},setPosition:function(i,k){if(i&&typeof i[1]=="number"){k=i[1];i=i[0];}this.x=i;this.y=k;if(!this.boxReady){return this;}var h=this.adjustPosition(i,k);var l=h.x,m=h.y;var n=this.getPositionEl();if(l!==undefined||m!==undefined){if(l!==undefined&&m!==undefined){n.setLeftTop(l,m);}else{if(l!==undefined){n.setLeft(l);}else{if(m!==undefined){n.setTop(m);}}}this.onPosition(l,m);this.fireEvent("move",this,l,m);}return this;},setPagePosition:function(e,g){if(e&&typeof e[1]=="number"){g=e[1];e=e[0];}this.pageX=e;this.pageY=g;if(!this.boxReady){return;}if(e===undefined||g===undefined){return;}var d=this.getPositionEl().translatePoints(e,g);this.setPosition(d.left,d.top);return this;},onRender:function(c,d){Ext.BoxComponent.superclass.onRender.call(this,c,d);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl);}if(this.positionEl){this.positionEl=Ext.get(this.positionEl);}},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);this.boxReady=true;this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y);}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY);}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this;},onResize:function(h,e,g,i){},onPosition:function(d,c){},adjustSize:function(d,c){if(this.autoWidth){d="auto";}if(this.autoHeight){c="auto";}return{width:d,height:c};},adjustPosition:function(d,c){return{x:d,y:c};}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(l,i,g,k,h){this.el=Ext.get(l,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(i,true);this.orientation=g||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!h){this.proxy=Ext.SplitBar.createProxy(this.orientation);}else{this.proxy=Ext.get(h).dom;}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=k||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h");}else{this.placement=k||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v");}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this);};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(h,i){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var l=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var k=l-this.activeMinSize;var g=Math.max(this.activeMaxSize-l,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?k:g,this.placement==Ext.SplitBar.LEFT?g:k);this.dd.setYConstraint(0,0);}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?k:g,this.placement==Ext.SplitBar.TOP?g:k);}this.dragSpecs.startSize=l;this.dragSpecs.startPoint=[h,i];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,h,i);},onEndProxyDrag:function(g){Ext.get(this.proxy).setDisplayed(false);var d=Ext.lib.Event.getXY(g);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay;}var e;if(this.orientation==Ext.SplitBar.HORIZONTAL){e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?d[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-d[0]);}else{e=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?d[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-d[1]);}e=Math.min(Math.max(e,this.activeMinSize),this.activeMaxSize);if(e!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,e)!==false){this.adapter.setElementSize(this,e);this.fireEvent("moved",this,e);this.fireEvent("resize",this,e);}}},getAdapter:function(){return this.adapter;},setAdapter:function(b){this.adapter=b;this.adapter.init(this);},getMinimumSize:function(){return this.minSize;},setMinimumSize:function(b){this.minSize=b;},getMaximumSize:function(){return this.maxSize;},setMaximumSize:function(b){this.maxSize=b;},setCurrentSize:function(c){var d=this.animate;this.animate=false;this.adapter.setElementSize(this,c);this.animate=d;},destroy:function(b){if(this.shim){this.shim.remove();}this.dd.unreg();Ext.destroy(Ext.get(this.proxy));if(b){this.el.remove();}}});Ext.SplitBar.createProxy=function(d){var g=new Ext.Element(document.createElement("div"));g.unselectable();var e="x-splitbar-proxy";g.addClass(e+" "+(d==Ext.SplitBar.HORIZONTAL?e+"-h":e+"-v"));document.body.appendChild(g.dom);return g.dom;};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(b){},getElementSize:function(b){if(b.orientation==Ext.SplitBar.HORIZONTAL){return b.resizingEl.getWidth();}else{return b.resizingEl.getHeight();}},setElementSize:function(d,e,g){if(d.orientation==Ext.SplitBar.HORIZONTAL){if(!d.animate){d.resizingEl.setWidth(e);if(g){g(d,e);}}else{d.resizingEl.setWidth(e,true,0.1,g,"easeOut");}}else{if(!d.animate){d.resizingEl.setHeight(e);if(g){g(d,e);}}else{d.resizingEl.setHeight(e,true,0.1,g,"easeOut");}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(b){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(b);};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(b){this.basic.init(b);},getElementSize:function(b){return this.basic.getElementSize(b);},setElementSize:function(d,e,g){this.basic.setElementSize(d,e,this.moveSplitter.createDelegate(this,[d]));},moveSplitter:function(d){var c=Ext.SplitBar;switch(d.placement){case c.LEFT:d.el.setX(d.resizingEl.getRight());break;case c.RIGHT:d.el.setStyle("right",(this.container.getWidth()-d.resizingEl.getLeft())+"px");break;case c.TOP:d.el.setY(d.resizingEl.getBottom());break;case c.BOTTOM:d.el.setY(d.resizingEl.getTop()-d.el.getHeight());break;}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{autoDestroy:true,defaultType:"panel",initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var b=this.items;if(b){delete this.items;if(Ext.isArray(b)){this.add.apply(this,b);}else{this.add(b);}}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout();}},setLayout:function(b){if(this.layout&&this.layout!=b){this.layout.setContainer(null);}this.initItems();this.layout=b;b.setContainer(this);},render:function(){Ext.Container.superclass.render.apply(this,arguments);if(this.layout){if(typeof this.layout=="object"&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type;}if(typeof this.layout=="string"){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig);}this.setLayout(this.layout);if(this.activeItem!==undefined){var b=this.activeItem;delete this.activeItem;this.layout.setActiveItem(b);return;}}if(!this.ownerCt){this.doLayout();}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false]);}},getLayoutTarget:function(){return this.el;},getComponentId:function(b){return b.itemId||b.id;},add:function(m){if(!this.items){this.initItems();}var n=arguments,a=n.length;if(a>1){for(var l=0;l<a;l++){Ext.Container.prototype.add.call(this,n[l]);}return;}var c=this.lookupComponent(this.applyDefaults(m));var i=this.items.length;if(this.fireEvent("beforeadd",this,c,i)!==false&&this.onBeforeAdd(c)!==false){this.items.add(c);c.ownerCt=this;this.fireEvent(true,"add",this,c,i);}return c;},insert:function(l,m){if(!this.items){this.initItems();}var n=arguments,a=n.length;if(a>2){for(var i=a-1;i>=1;--i){this.insert(l,n[i]);}return;}var c=this.lookupComponent(this.applyDefaults(m));if(c.ownerCt==this&&this.items.indexOf(c)<l){--l;}if(this.fireEvent("beforeadd",this,c,l)!==false&&this.onBeforeAdd(c)!==false){this.items.insert(l,c);c.ownerCt=this;this.fireEvent(true,"add",this,c,l);}return c;},applyDefaults:function(b){if(this.defaults){if(typeof b=="string"){b=Ext.ComponentMgr.get(b);Ext.apply(b,this.defaults);}else{if(!b.events){Ext.applyIf(b,this.defaults);}else{Ext.apply(b,this.defaults);}}}return b;},onBeforeAdd:function(b){if(b.ownerCt){b.ownerCt.remove(b,false);}if(this.hideBorders===true){b.border=(b.border===true);}},remove:function(e,c){var g=this.getComponent(e);if(g&&this.fireEvent("beforeremove",this,g)!==false){this.items.remove(g);delete g.ownerCt;if(c===true||(c!==false&&this.autoDestroy)){g.destroy();}if(this.layout&&this.layout.activeItem==g){delete this.layout.activeItem;}this.fireEvent(true,"remove",this,g);}return g;},getComponent:function(b){if(typeof b=="object"){return b;}return this.items.get(b);},lookupComponent:function(b){if(typeof b=="string"){return Ext.ComponentMgr.get(b);}else{if(!b.events){return this.createComponent(b);}}return b;},createComponent:function(b){return Ext.create(b,this.defaultType);},doLayout:function(k){if(this.rendered&&this.layout){this.layout.layout();}if(k!==false&&this.items){var l=this.items.items;for(var c=0,h=l.length;c<h;c++){var i=l[c];if(i.doLayout){i.doLayout();}}}},getLayout:function(){if(!this.layout){var b=new Ext.layout.ContainerLayout(this.layoutConfig);this.setLayout(b);}return this.layout;},beforeDestroy:function(){if(this.items){Ext.destroy.apply(Ext,this.items.items);}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this);}if(this.layout&&this.layout.destroy){this.layout.destroy();}Ext.Container.superclass.beforeDestroy.call(this);},bubble:function(i,e,g){var h=this;while(h){if(i.apply(e||h,g||[h])===false){break;}h=h.ownerCt;}},cascade:function(k,l,h){if(k.apply(l||this,h||[this])!==false){if(this.items){var m=this.items.items;for(var n=0,i=m.length;n<i;n++){if(m[n].cascade){m[n].cascade(k,l,h);}else{k.apply(l||m[n],h||[m[n]]);}}}}},findById:function(g){var e,d=this;this.cascade(function(a){if(d!=a&&a.id===g){e=a;return false;}});return e||null;},findByType:function(b){return typeof b=="function"?this.findBy(function(a){return a.constructor===b;}):this.findBy(function(a){return a.constructor.xtype===b;});},find:function(c,d){return this.findBy(function(a){return a[c]===d;});},findBy:function(h,i){var g=[],e=this;this.cascade(function(a){if(e!=a&&h.call(i||a,a,e)===true){g.push(a);}});return g;},get:function(b){return this.items.get(b);}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=function(b){Ext.apply(this,b);};Ext.layout.ContainerLayout.prototype={monitorResize:false,activeItem:null,layout:function(){var b=this.container.getLayoutTarget();this.onLayout(this.container,b);this.container.fireEvent("afterlayout",this.container,this);},onLayout:function(d,c){this.renderAll(d,c);},isValidParent:function(c,d){return d&&c.getDomPositionEl().dom.parentNode==(d.dom||d);},renderAll:function(m,l){var c=m.items.items;for(var n=0,i=c.length;n<i;n++){var k=c[n];if(k&&(!k.rendered||!this.isValidParent(k,l))){this.renderItem(k,n,l);}}},renderItem:function(h,g,i){if(h&&!h.rendered){h.render(i,g);if(this.extraCls){var c=h.getPositionEl?h.getPositionEl():h;c.addClass(this.extraCls);}if(this.renderHidden&&h!=this.activeItem){h.hide();}}else{if(h&&!this.isValidParent(h,i)){if(this.extraCls){var c=h.getPositionEl?h.getPositionEl():h;c.addClass(this.extraCls);}if(typeof g=="number"){g=i.dom.childNodes[g];}i.dom.insertBefore(h.getDomPositionEl().dom,g||null);h.container=i;if(this.renderHidden&&h!=this.activeItem){h.hide();}}}},onResize:function(){if(this.container.collapsed){return;}var b=this.container.bufferResize;if(b){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.layout,this);this.resizeBuffer=typeof b=="number"?b:100;}this.resizeTask.delay(this.resizeBuffer);}else{this.layout();}},setContainer:function(b){if(this.monitorResize&&b!=this.container){if(this.container){this.container.un("resize",this.onResize,this);}if(b){b.on("resize",this.onResize,this);}}this.container=b;},parseMargins:function(d){if(typeof d=="number"){d=d.toString();}var g=d.split(" ");var e=g.length;if(e==1){g[1]=g[0];g[2]=g[0];g[3]=g[0];}if(e==2){g[2]=g[0];g[3]=g[1];}if(e==3){g[3]=g[1];}return{top:parseInt(g[0],10)||0,right:parseInt(g[1],10)||0,bottom:parseInt(g[2],10)||0,left:parseInt(g[3],10)||0};},destroy:Ext.emptyFn};Ext.Container.LAYOUTS.auto=Ext.layout.ContainerLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,onLayout:function(d,c){Ext.layout.FitLayout.superclass.onLayout.call(this,d,c);if(!this.container.collapsed){this.setItemSize(this.activeItem||d.items.itemAt(0),c.getStyleSize());}},setItemSize:function(c,d){if(c&&d.height>0){c.setSize(d);}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,renderHidden:true,setActiveItem:function(b){b=this.container.getComponent(b);if(this.activeItem!=b){if(this.activeItem){this.activeItem.hide();}this.activeItem=b;b.show();this.container.doLayout();}},renderAll:function(d,c){if(this.deferredRender){this.renderItem(this.activeItem,undefined,c);}else{Ext.layout.CardLayout.superclass.renderAll.call(this,d,c);}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,getAnchorViewSize:function(d,c){return c.dom==document.body?c.getViewSize():c.getStyleSize();},onLayout:function(x,i){Ext.layout.AnchorLayout.superclass.onLayout.call(this,x,i);var D=this.getAnchorViewSize(x,i);var F=D.width,y=D.height;if(F<20&&y<20){return;}var B,c;if(x.anchorSize){if(typeof x.anchorSize=="number"){B=x.anchorSize;}else{B=x.anchorSize.width;c=x.anchorSize.height;}}else{B=x.initialConfig.width;c=x.initialConfig.height;}var v=x.items.items,w=v.length,z,h,a,A,C;for(z=0;z<w;z++){h=v[z];if(h.anchor){a=h.anchorSpec;if(!a){var E=h.anchor.split(" ");h.anchorSpec=a={right:this.parseAnchor(E[0],h.initialConfig.width,B),bottom:this.parseAnchor(E[1],h.initialConfig.height,c)};}A=a.right?this.adjustWidthAnchor(a.right(F),h):undefined;C=a.bottom?this.adjustHeightAnchor(a.bottom(y),h):undefined;if(A||C){h.setSize(A||undefined,C||undefined);}}}},parseAnchor:function(n,i,a){if(n&&n!="none"){var l;if(/^(r|right|b|bottom)$/i.test(n)){var k=a-i;return function(b){if(b!==l){l=b;return b-k;}};}else{if(n.indexOf("%")!=-1){var m=parseFloat(n.replace("%",""))*0.01;return function(b){if(b!==l){l=b;return Math.floor(b*m);}};}else{n=parseInt(n,10);if(!isNaN(n)){return function(b){if(b!==l){l=b;return b+n;}};}}}}return false;},adjustWidthAnchor:function(c,d){return c;},adjustHeightAnchor:function(c,d){return c;}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,extraCls:"x-column",scrollOffset:0,isValidParent:function(c,d){return(c.getPositionEl?c.getPositionEl():c.getEl()).dom.parentNode==this.innerCt.dom;},onLayout:function(t,q){var s=t.items.items,r=s.length,p,v;if(!this.innerCt){q.addClass("x-column-layout-ct");this.innerCt=q.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"});}this.renderAll(t,this.innerCt);var c=Ext.isIE&&q.dom!=Ext.getBody().dom?q.getStyleSize():q.getViewSize();if(c.width<1&&c.height<1){return;}var i=c.width-q.getPadding("lr")-this.scrollOffset,u=c.height-q.getPadding("tb"),h=i;this.innerCt.setWidth(i);for(v=0;v<r;v++){p=s[v];if(!p.columnWidth){h-=(p.getSize().width+p.getEl().getMargins("lr"));}}h=h<0?0:h;for(v=0;v<r;v++){p=s[v];if(p.columnWidth){p.setSize(Math.floor(p.columnWidth*h)-p.getEl().getMargins("lr"));}}}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,onLayout:function(W,e){var V;if(!this.rendered){e.position();e.addClass("x-border-layout-ct");var h=W.items.items;V=[];for(var O=0,M=h.length;O<M;O++){var s=h[O];var S=s.region;if(s.collapsed){V.push(s);}s.collapsed=false;if(!s.rendered){s.cls=s.cls?s.cls+" x-border-panel":"x-border-panel";s.render(e,O);}this[S]=S!="center"&&s.split?new Ext.layout.BorderLayout.SplitRegion(this,s.initialConfig,S):new Ext.layout.BorderLayout.Region(this,s.initialConfig,S);this[S].render(e,s);}this.rendered=true;}var n=e.getViewSize();if(n.width<20||n.height<20){if(V){this.restoreCollapsed=V;}return;}else{if(this.restoreCollapsed){V=this.restoreCollapsed;delete this.restoreCollapsed;}}var K=n.width,L=n.height;var N=K,Q=L,R=0,P=0;var c=this.north,w=this.south,T=this.west,J=this.east,s=this.center;if(!s&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+W.id;}if(c&&c.isVisible()){var i=c.getSize();var b=c.getMargins();i.width=K-(b.left+b.right);i.x=b.left;i.y=b.top;R=i.height+i.y+b.bottom;Q-=R;c.applyLayout(i);}if(w&&w.isVisible()){var i=w.getSize();var b=w.getMargins();i.width=K-(b.left+b.right);i.x=b.left;var m=(i.height+b.top+b.bottom);i.y=L-m+b.top;Q-=m;w.applyLayout(i);}if(T&&T.isVisible()){var i=T.getSize();var b=T.getMargins();i.height=Q-(b.top+b.bottom);i.x=b.left;i.y=R+b.top;var X=(i.width+b.left+b.right);P+=X;N-=X;T.applyLayout(i);}if(J&&J.isVisible()){var i=J.getSize();var b=J.getMargins();i.height=Q-(b.top+b.bottom);var X=(i.width+b.left+b.right);i.x=K-X+b.left;i.y=R+b.top;N-=X;J.applyLayout(i);}if(s){var b=s.getMargins();var U={x:P+b.left,y:R+b.top,width:N-(b.left+b.right),height:Q-(b.top+b.bottom)};s.applyLayout(U);}if(V){for(var O=0,M=V.length;O<M;O++){V[O].collapse(false);}}if(Ext.isIE&&Ext.isStrict){e.repaint();}},destroy:function(){var d=["north","south","east","west"];for(var e=0;e<d.length;e++){var g=this[d[e]];if(g){if(g.destroy){g.destroy();}else{if(g.split){g.split.destroy(true);}}}}Ext.layout.BorderLayout.superclass.destroy.call(this);}});Ext.layout.BorderLayout.Region=function(d,e,g){Ext.apply(this,e);this.layout=d;this.position=g;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins);}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins);}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0};}else{this.cmargins=Ext.applyIf(this.cmargins||{},g=="north"||g=="south"?this.defaultNSCMargins:this.defaultEWCMargins);}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(e,i){this.panel=i;i.el.enableDisplayMode();this.targetEl=e;this.el=i.el;var g=i.getState,h=this.position;i.getState=function(){return Ext.apply(g.call(i)||{},this.state);}.createDelegate(this);if(h!="center"){i.allowQueuedExpand=false;i.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible){i.collapseEl="el";i.slideAnchor=this.getSlideAnchor();}if(i.tools&&i.tools.toggle){i.tools.toggle.addClass("x-tool-collapse-"+h);i.tools.toggle.addClassOnOver("x-tool-collapse-"+h+"-over");}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var c=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');c.disableFormats=true;c.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=c;}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true});}else{var d=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);d.addClassOnOver("x-tool-expand-"+this.position+"-over");d.on("click",this.onExpandClick,this,{stopEvent:true});if(this.floatable!==false){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.collapseClick,this);}}}return this.collapsedEl;},onExpandClick:function(b){if(this.isSlid){this.afterSlideIn();this.panel.expand(false);}else{this.panel.expand();}},onCollapseClick:function(b){this.panel.collapse();},beforeCollapse:function(c,d){this.lastAnim=d;if(this.splitEl){this.splitEl.hide();}this.getCollapsedEl().show();this.panel.el.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout();},onCollapse:function(b){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible";}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2});}this.state.collapsed=true;this.panel.saveState();},beforeExpand:function(d){var c=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,c.getHeight());}else{this.panel.setSize(c.getWidth(),undefined);}c.hide();c.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex);},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show();}this.layout.layout();this.panel.el.setStyle("z-index",1);this.state.collapsed=false;this.panel.saveState();},collapseClick:function(b){if(this.isSlid){b.stopPropagation();this.slideIn();}else{b.stopPropagation();this.slideOut();}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide();}else{if(this.splitEl){this.splitEl.hide();}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show();}else{if(this.splitEl){this.splitEl.show();}}},isVisible:function(){return !this.panel.hidden;},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins;},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize();},setPanel:function(b){this.panel=b;},getMinWidth:function(){return this.minWidth;},getMinHeight:function(){return this.minHeight;},applyLayoutCollapsed:function(d){var c=this.getCollapsedEl();c.setLeftTop(d.x,d.y);c.setSize(d.width,d.height);},applyLayout:function(b){if(this.isCollapsed){this.applyLayoutCollapsed(b);}else{this.panel.setPosition(b.x,b.y);this.panel.setSize(b.width,b.height);}},beforeSlide:function(){this.panel.beforeEffect();},afterSlide:function(){this.panel.afterEffect();},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){var b=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(a){if(!a.within(this.el,true)){b.delay(500);}},mouseover:function(a){b.cancel();},scope:this};}this.el.on(this.autoHideHd);}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this);},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return;}this.isSlid=true;var b=this.panel.tools;if(b&&b.toggle){b.toggle.hide();}this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,this.collapsedEl.getHeight());}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined);}this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this);},scope:this,block:true});}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this);}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var b=this.panel.tools;if(b&&b.toggle){b.toggle.show();}},slideIn:function(b){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(b);return;}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(b);},scope:this,block:true});}else{this.el.hide();this.afterSlideIn();}},slideInIf:function(b){if(!b.within(this.el)){this.slideIn();}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position];},getCollapseAnchor:function(){return this.canchors[this.position];},getSlideAnchor:function(){return this.sanchors[this.position];},getAlignAdj:function(){var b=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break;}},getExpandAdj:function(){var c=this.collapsedEl,d=this.cmargins;switch(this.position){case"west":return[-(d.right+c.getWidth()+d.left),0];break;case"east":return[d.right+c.getWidth()+d.left,0];break;case"north":return[0,-(d.top+d.bottom+c.getHeight())];break;case"south":return[0,d.top+d.bottom+c.getHeight()];break;}}};Ext.layout.BorderLayout.SplitRegion=function(d,e,g){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,d,e,g);this.applyLayout=this.applyFns[g];};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;this.panel.setPosition(i.x,i.y);var g=h.offsetWidth;e.left=(i.x+i.width-g)+"px";e.top=(i.y)+"px";e.height=Math.max(0,i.height)+"px";this.panel.setSize(i.width-g,i.height);},east:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;var g=h.offsetWidth;this.panel.setPosition(i.x+g,i.y);e.left=(i.x)+"px";e.top=(i.y)+"px";e.height=Math.max(0,i.height)+"px";this.panel.setSize(i.width-g,i.height);},north:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;var g=h.offsetHeight;this.panel.setPosition(i.x,i.y);e.left=(i.x)+"px";e.top=(i.y+i.height-g)+"px";e.width=Math.max(0,i.width)+"px";this.panel.setSize(i.width,i.height-g);},south:function(i){if(this.isCollapsed){return this.applyLayoutCollapsed(i);}var h=this.splitEl.dom,e=h.style;var g=h.offsetHeight;this.panel.setPosition(i.x,i.y+g);e.left=(i.x)+"px";e.top=(i.y)+"px";e.width=Math.max(0,i.width)+"px";this.panel.setSize(i.width,i.height-g);}},render:function(g,i){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,g,i);var h=this.position;this.splitEl=g.createChild({cls:"x-layout-split x-layout-split-"+h,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+h,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true});}var e=this.splitSettings[h];this.split=new Ext.SplitBar(this.splitEl.dom,i.el,e.orientation);this.split.placement=e.placement;this.split.getMaximumSize=this[e.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[e.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[e.maxProp];if(i.hidden){this.splitEl.hide();}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip;}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this);}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize();}var b=this.panel.getSize();if(this.position=="north"||this.position=="south"){b.height+=this.splitEl.dom.offsetHeight;}else{b.width+=this.splitEl.dom.offsetWidth;}return b;},getHMaxSize:function(){var c=this.maxSize||10000;var d=this.layout.center;return Math.min(c,(this.el.getWidth()+d.el.getWidth())-d.getMinWidth());},getVMaxSize:function(){var c=this.maxSize||10000;var d=this.layout.center;return Math.min(c,(this.el.getHeight()+d.el.getHeight())-d.getMinHeight());},onSplitMove:function(d,e){var g=this.panel.getSize();this.lastSplitSize=e;if(this.position=="north"||this.position=="south"){this.panel.setSize(g.width,e);this.state.height=e;}else{this.panel.setSize(e,g.height);this.state.width=e;}this.layout.layout();this.panel.saveState();return false;},getSplitBar:function(){return this.split;},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",getAnchorViewSize:function(d,c){return(d.body||d.el).getStyleSize();},setContainer:function(d){Ext.layout.FormLayout.superclass.setContainer.call(this,d);if(d.labelAlign){d.addClass("x-form-label-"+d.labelAlign);}if(d.hideLabels){this.labelStyle="display:none";this.elementStyle="padding-left:0;";this.labelAdjust=0;}else{this.labelSeparator=d.labelSeparator||this.labelSeparator;d.labelWidth=d.labelWidth||100;if(typeof d.labelWidth=="number"){var g=(typeof d.labelPad=="number"?d.labelPad:5);this.labelAdjust=d.labelWidth+g;this.labelStyle="width:"+d.labelWidth+"px;";this.elementStyle="padding-left:"+(d.labelWidth+g)+"px";}if(d.labelAlign=="top"){this.labelStyle="width:auto;";this.labelAdjust=0;this.elementStyle="padding-left:0;";}}if(!this.fieldTpl){var e=new Ext.Template('<div class="x-form-item {5}" tabIndex="-1">','<label for="{0}" style="{2}" class="x-form-item-label">{1}{4}</label>','<div class="x-form-element" id="x-form-el-{0}" style="{3}">','</div><div class="{6}"></div>',"</div>");e.disableFormats=true;e.compile();Ext.layout.FormLayout.prototype.fieldTpl=e;}},renderItem:function(h,g,i){if(h&&!h.rendered&&(h.isFormField||h.fieldLabel)&&h.inputType!="hidden"){var c=[h.id,h.fieldLabel,h.labelStyle||this.labelStyle||"",this.elementStyle||"",typeof h.labelSeparator=="undefined"?this.labelSeparator:h.labelSeparator,(h.itemCls||this.container.itemCls||"")+(h.hideLabel?" x-hide-label":""),h.clearCls||"x-form-clear-left"];if(typeof g=="number"){g=i.dom.childNodes[g]||null;}if(g){this.fieldTpl.insertBefore(g,c);}else{this.fieldTpl.append(i,c);}h.render("x-form-el-"+h.id);}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments);}},adjustWidthAnchor:function(c,d){return c-(d.isFormField||d.fieldLabel?(d.hideLabel?0:this.labelAdjust):0);},isValidParent:function(c,d){return true;}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.Accordion=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,renderItem:function(b){if(this.animate===false){b.animCollapse=false;}b.collapsible=true;if(this.autoWidth){b.autoWidth=true;}if(this.titleCollapse){b.titleCollapse=true;}if(this.hideCollapseTool){b.hideCollapseTool=true;}if(this.collapseFirst!==undefined){b.collapseFirst=this.collapseFirst;}if(!this.activeItem&&!b.collapsed){this.activeItem=b;}else{if(this.activeItem&&this.activeItem!=b){b.collapsed=true;}}Ext.layout.Accordion.superclass.renderItem.apply(this,arguments);b.header.addClass("x-accordion-hd");b.on("beforeexpand",this.beforeExpand,this);},beforeExpand:function(g,d){var e=this.activeItem;if(e){if(this.sequence){delete this.activeItem;if(!e.collapsed){e.collapse({callback:function(){g.expand(d||true);},scope:this});return false;}}else{e.collapse(this.animate);}}this.activeItem=g;if(this.activeOnTop){g.el.dom.parentNode.insertBefore(g.el.dom,g.el.dom.parentNode.firstChild);}this.layout();},setItemSize:function(m,n){if(this.fill&&m){var i=this.container.items.items;var o=0;for(var p=0,k=i.length;p<k;p++){var l=i[p];if(l!=m){o+=(l.getSize().height-l.bwrap.getHeight());}}n.height-=o;m.setSize(n);}},setActiveItem:function(b){b=this.container.getComponent(b);this.activeItem=b;if(b){b.expand();}}});Ext.Container.LAYOUTS.accordion=Ext.layout.Accordion;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,tableAttrs:null,setContainer:function(b){Ext.layout.TableLayout.superclass.setContainer.call(this,b);this.currentRow=0;this.currentColumn=0;this.cells=[];},onLayout:function(n,l){var m=n.items.items,i=m.length,k,c;if(!this.table){l.addClass("x-table-layout-ct");this.table=l.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true);this.renderAll(n,l);}},getRow:function(d){var c=this.table.tBodies[0].childNodes[d];if(!c){c=document.createElement("tr");this.table.tBodies[0].appendChild(c);}return c;},getNextCell:function(m){var l=this.getNextNonSpan(this.currentColumn,this.currentRow);var p=this.currentColumn=l[0],q=this.currentRow=l[1];for(var n=q;n<q+(m.rowspan||1);n++){if(!this.cells[n]){this.cells[n]=[];}for(var r=p;r<p+(m.colspan||1);r++){this.cells[n][r]=true;}}var o=document.createElement("td");if(m.cellId){o.id=m.cellId;}var c="x-table-layout-cell";if(m.cellCls){c+=" "+m.cellCls;}o.className=c;if(m.colspan){o.colSpan=m.colspan;}if(m.rowspan){o.rowSpan=m.rowspan;}this.getRow(q).appendChild(o);return o;},getNextNonSpan:function(e,g){var d=this.columns;while((d&&e>=d)||(this.cells[g]&&this.cells[g][e])){if(d&&e>=d){g++;e=0;}else{e++;}}return[e,g];},renderItem:function(g,e,c){if(g&&!g.rendered){g.render(this.getNextCell(g));}},isValidParent:function(c,d){return true;}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",isForm:false,setContainer:function(b){Ext.layout.AbsoluteLayout.superclass.setContainer.call(this,b);if(b.isXType("form")){this.isForm=true;}},onLayout:function(d,c){if(this.isForm){d.body.position();this.paddingLeft=d.body.getPadding("r");this.paddingTop=d.body.getPadding("t");}else{c.position();this.paddingLeft=c.getPadding("r");this.paddingTop=c.getPadding("t");}Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,d,c);},getAnchorViewSize:function(d,c){return this.isForm?d.body.getStyleSize():Ext.layout.AbsoluteLayout.superclass.getAnchorViewSize.call(this,d,c);},isValidParent:function(c,d){return this.isForm?true:Ext.layout.AbsoluteLayout.superclass.isValidParent.call(this,c,d);},adjustWidthAnchor:function(c,d){return c?c-d.getPosition(true)[0]+this.paddingLeft:c;},adjustHeightAnchor:function(c,d){return c?c-d.getPosition(true)[1]+this.paddingTop:c;}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el;},fireResize:function(d,c){this.fireEvent("resize",this,d,c,d,c);}});Ext.reg("viewport",Ext.Viewport);Ext.layout.Box=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,scrollOffset:0,extraCls:"x-box-item",ctCls:"x-box-layout-ct",innerCls:"x-box-inner",defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",isValidParent:function(c,d){return c.getEl().dom.parentNode==this.innerCt.dom;},onLayout:function(q,n){var p=q.items.items,c=p.length,m,r,o=c-1,i;if(!this.innerCt){n.addClass(this.ctCls);this.innerCt=n.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding);}this.renderAll(q,this.innerCt);},renderItem:function(b){if(typeof b.margins=="string"){b.margins=this.parseMargins(b.margins);}else{if(!b.margins){b.margins=this.defaultMargins;}}Ext.layout.Box.superclass.renderItem.apply(this,arguments);},getTargetSize:function(b){return Ext.isIE&&b.dom!=Ext.getBody().dom?b.getStyleSize():b.getViewSize();}});Ext.layout.VBox=Ext.extend(Ext.layout.Box,{align:"left",pack:"start",onLayout:function(Z,l){Ext.layout.VBox.superclass.onLayout.call(this,Z,l);var Y=Z.items.items,Q=Y.length,J,R,U=Q-1,W;var h=this.getTargetSize(l);if(h.width<1&&h.height<1){return;}var S=h.width-l.getPadding("lr")-this.scrollOffset,O=h.height-l.getPadding("tb"),c=this.padding.left,L=this.padding.top;var K=S-(this.padding.left+this.padding.right);var T=0;var t=0;var M=0;for(R=0;R<Q;R++){J=Y[R];W=J.margins;T+=J.flex||0;t+=J.getHeight()+W.top+W.bottom;M=Math.max(M,J.getWidth()+W.left+W.top);}var ad=M+this.padding.left+this.padding.right;switch(this.align){case"stretch":this.innerCt.setSize(S,O);break;case"stretchmax":case"left":case"center":this.innerCt.setSize(S=Math.max(S,ad),O);break;}var w=O-t-this.padding.top-this.padding.bottom;var aa=0;var ab,P,V,ac=S-this.padding.left-this.padding.right;if(this.pack=="center"){L+=w?w/2:0;}else{if(this.pack=="end"){L+=w;}}for(R=0;R<Q;R++){J=Y[R];W=J.margins;ab=J.getWidth();P=J.getHeight();L+=W.top;if(this.align!="center"){V=c+W.left;}else{var N=ac-(ab+W.left+W.right);if(N==0){V=c+W.left;}else{V=c+W.left+(N/2);}}J.setPosition(V,L);if(this.pack=="start"&&J.flex){var X=J.flex/T;var i=Math.floor(w*X);aa+=i;if(R==U){i+=(w-aa);}P+=i;J.setHeight(P);}if(this.align=="stretch"){J.setWidth((K-(W.left+W.right)).constrain(J.minWidth||0,J.maxWidth||1000000));}else{if(this.align=="stretchmax"){J.setWidth((M-(W.left+W.right)).constrain(J.minWidth||0,J.maxWidth||1000000));}}L+=P+W.bottom;}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBox;Ext.layout.HBox=Ext.extend(Ext.layout.Box,{align:"top",pack:"start",onLayout:function(X,l){Ext.layout.HBox.superclass.onLayout.call(this,X,l);var W=X.items.items,M=W.length,w,N,T=M-1,U;var i=this.getTargetSize(l);if(i.width<1&&i.height<1){return;}var S=i.width-l.getPadding("lr")-this.scrollOffset,K=i.height-l.getPadding("tb"),c=this.padding.left,J=this.padding.top;var O=K-(this.padding.top+this.padding.bottom);var R=0;var Y=0;var h=0;for(N=0;N<M;N++){w=W[N];U=w.margins;R+=w.flex||0;Y+=w.getWidth()+U.left+U.right;h=Math.max(h,w.getHeight()+U.top+U.bottom);}var Q=h+this.padding.top+this.padding.bottom;switch(this.align){case"stretch":this.innerCt.setSize(S,K);break;case"stretchmax":case"top":this.innerCt.setSize(S,Q);break;case"middle":this.innerCt.setSize(S,K=Math.max(K,Q));break;}var I=S-Y-this.padding.left-this.padding.right;var Z=0;var aa,P,X,ab=K-this.padding.top-this.padding.bottom;if(this.pack=="center"){c+=I?I/2:0;}else{if(this.pack=="end"){c+=I;}}for(N=0;N<M;N++){w=W[N];U=w.margins;aa=w.getWidth();P=w.getHeight();c+=U.left;if(this.align!="middle"){X=J+U.top;}else{var L=ab-(P+U.top+U.bottom);if(L==0){X=J+U.top;}else{X=J+U.top+(L/2);}}w.setPosition(c,X);if(this.pack=="start"&&w.flex){var V=w.flex/R;var t=Math.floor(I*V);Z+=t;if(N==T){t+=(I-Z);}aa+=t;w.setWidth(aa);}if(this.align=="stretch"){w.setHeight((O-(U.top+U.bottom)).constrain(w.minHeight||0,w.maxHeight||1000000));}else{if(this.align=="stretchmax"){w.setHeight((h-(U.top+U.bottom)).constrain(w.minHeight||0,w.maxHeight||1000000));}}c+=aa+U.right;}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBox;Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain";}if(this.tbar){this.elements+=",tbar";if(typeof this.tbar=="object"){this.topToolbar=this.tbar;}delete this.tbar;}if(this.bbar){this.elements+=",bbar";if(typeof this.bbar=="object"){this.bottomToolbar=this.bbar;}delete this.bbar;}if(this.header===true){this.elements+=",header";delete this.header;}else{if(this.title&&this.header!==false){this.elements+=",header";}}if(this.footer===true){this.elements+=",footer";delete this.footer;}if(this.buttons){this.elements+=",footer";var g=this.buttons;this.buttons=[];for(var d=0,e=g.length;d<e;d++){if(g[d].render){this.buttons.push(g[d]);}else{if(g[d].xtype){this.buttons.push(Ext.create(g[d],"button"));}else{this.addButton(g[d]);}}}}if(this.fbar){this.elements+=",footer";if(this.buttonAlign=="right"&&this.initialConfig.buttonAlign===undefined){this.buttonAlign="left";}}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10});}},createElement:function(e,g){if(this[e]){g.appendChild(this[e].dom);return;}if(e==="bwrap"||this.elements.indexOf(e)!=-1){if(this[e+"Cfg"]){this[e]=Ext.fly(g).createChild(this[e+"Cfg"]);}else{var d=document.createElement("div");d.className=this[e+"Cls"];this[e]=Ext.get(g.appendChild(d));}if(this[e+"CssClass"]){this[e].addClass(this[e+"CssClass"]);}if(this[e+"Style"]){this[e].applyStyles(this[e+"Style"]);}}},onRender:function(t,u){Ext.Panel.superclass.onRender.call(this,t,u);this.createClasses();if(this.el){this.el.addClass(this.baseCls);this.header=this.el.down("."+this.headerCls);this.bwrap=this.el.down("."+this.bwrapCls);var q=this.bwrap?this.bwrap:this.el;this.tbar=q.down("."+this.tbarCls);this.body=q.down("."+this.bodyCls);this.bbar=q.down("."+this.bbarCls);this.footer=q.down("."+this.footerCls);this.fromMarkup=true;}else{this.el=t.createChild({id:this.id,cls:this.baseCls},u);}var x=this.el,r=x.dom;if(this.cls){this.el.addClass(this.cls);}if(this.buttons){this.elements+=",footer";}if(this.frame){x.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",r.firstChild.firstChild.firstChild);this.createElement("bwrap",r);var p=this.bwrap.dom;var v=r.childNodes[1],w=r.childNodes[2];p.appendChild(v);p.appendChild(w);var o=p.firstChild.firstChild.firstChild;this.createElement("tbar",o);this.createElement("body",o);this.createElement("bbar",o);this.createElement("footer",p.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter";}}else{this.createElement("header",r);this.createElement("bwrap",r);var p=this.bwrap.dom;this.createElement("tbar",p);this.createElement("body",p);this.createElement("bbar",p);this.createElement("footer",p);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader");}}}if(this.padding!==undefined){this.body.setStyle("padding",this.body.addUnits(this.padding));}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder");}if(this.footer){this.footer.addClass(this.footerCls+"-noborder");}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder");}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder");}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder");}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls);}}}if(this.floating){this.makeFloating(this.floating);}if(this.collapsible){this.tools=this.tools?this.tools.slice(0):[];if(!this.hideCollapseTool){this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this});}if(this.titleCollapse&&this.header){this.header.on("click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer");}}if(this.tools){var s=this.tools;this.tools={};this.addTool.apply(this,s);}else{this.tools={};}if(this.buttons&&this.buttons.length>0){this.fbar=new Ext.Toolbar({items:this.buttons,toolbarCls:"x-panel-fbar"});}if(this.fbar){this.fbar=Ext.create(this.fbar,"toolbar");this.fbar.enableOverflow=false;if(this.fbar.items){this.fbar.items.each(function(a){a.minWidth=this.minButtonWidth;},this);}this.fbar.toolbarCls="x-panel-fbar";var d=this.footer.createChild({cls:"x-panel-btns x-panel-btns-"+this.buttonAlign});this.fbar.ownerCt=this;this.fbar.render(d);d.createChild({cls:"x-clear"});}if(this.tbar&&this.topToolbar){if(Ext.isArray(this.topToolbar)){this.topToolbar=new Ext.Toolbar(this.topToolbar);}else{if(!this.topToolbar.events){this.topToolbar=Ext.create(this.topToolbar,"toolbar");}}this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar);}if(this.bbar&&this.bottomToolbar){if(Ext.isArray(this.bottomToolbar)){this.bottomToolbar=new Ext.Toolbar(this.bottomToolbar);}else{if(!this.bottomToolbar.events){this.bottomToolbar=Ext.create(this.bottomToolbar,"toolbar");}}this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar);}},setIconClass:function(e){var g=this.iconCls;this.iconCls=e;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(g,this.iconCls);}else{var h=this.header.dom;var i=h.firstChild&&String(h.firstChild.tagName).toLowerCase()=="img"?h.firstChild:null;if(i){Ext.fly(i).replaceClass(g,this.iconCls);}else{Ext.DomHelper.insertBefore(h.firstChild,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls});}}}},makeFloating:function(b){this.floating=true;this.el=new Ext.Layer(typeof b=="object"?b:{shadow:this.shadow!==undefined?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined},this.el);},getTopToolbar:function(){return this.topToolbar;},getBottomToolbar:function(){return this.bottomToolbar;},addButton:function(h,k,l){var i={handler:k,scope:l,minWidth:this.minButtonWidth,hideParent:true};if(typeof h=="string"){i.text=h;}else{Ext.apply(i,h);}var g=new Ext.Button(i);if(!this.buttons){this.buttons=[];}this.buttons.push(g);return g;},addTool:function(){if(!this[this.toolTarget]){return;}if(!this.toolTemplate){var l=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');l.disableFormats=true;l.compile();Ext.Panel.prototype.toolTemplate=l;}for(var m=0,o=arguments,p=o.length;m<p;m++){var a=o[m];if(!this.tools[a.id]){var i="x-tool-"+a.id+"-over";var n=this.toolTemplate.insertFirst((a.align!=="left")?this[this.toolTarget]:this[this.toolTarget].child("span"),a,true);this.tools[a.id]=n;n.enableDisplayMode("block");n.on("click",this.createToolHandler(n,a,i,this));if(a.on){n.on(a.on);}if(a.hidden){n.hide();}if(a.qtip){if(typeof a.qtip=="object"){Ext.QuickTips.register(Ext.apply({target:n.id},a.qtip));}else{n.dom.qtip=a.qtip;}}n.addClassOnOver(i);}}},doLayout:function(b){Ext.Panel.superclass.doLayout.call(this,b);if(this.topToolbar){this.topToolbar.doLayout();}if(this.bottomToolbar){this.bottomToolbar.doLayout();}if(this.fbar){this.fbar.doLayout();}},onShow:function(){if(this.floating){return this.el.show();}Ext.Panel.superclass.onShow.call(this);},onHide:function(){if(this.floating){return this.el.hide();}Ext.Panel.superclass.onHide.call(this);},createToolHandler:function(i,g,h,e){return function(a){i.removeClass(h);a.stopEvent();if(g.handler){g.handler.call(g.scope||i,a,i,e);}};},afterRender:function(){if(this.floating&&!this.hidden&&!this.initHidden){this.el.show();}if(this.title){this.setTitle(this.title);}this.setAutoScroll();if(this.html){this.body.update(typeof this.html=="object"?Ext.DomHelper.markup(this.html):this.html);delete this.html;}if(this.contentEl){var b=Ext.getDom(this.contentEl);Ext.fly(b).removeClass(["x-hidden","x-hide-display"]);this.body.dom.appendChild(b);}if(this.collapsed){this.collapsed=false;this.collapse(false);}Ext.Panel.superclass.afterRender.call(this);this.initEvents();},setAutoScroll:function(){if(this.rendered&&this.autoScroll){var b=this.body||this.el;if(b){b.setOverflow("auto");}}},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys);}return this.keyMap;},initEvents:function(){if(this.keys){this.getKeyMap();}if(this.draggable){this.initDraggable();}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,typeof this.draggable=="boolean"?null:this.draggable);},beforeEffect:function(){if(this.floating){this.el.beforeAction();}this.el.addClass("x-panel-animated");},afterEffect:function(){this.syncShadow();this.el.removeClass("x-panel-animated");},createEffect:function(i,a,h){var g={scope:h,block:true};if(i===true){g.callback=a;return g;}else{if(!i.callback){g.callback=a;}else{g.callback=function(){a.call(h);Ext.callback(i.callback,i.scope);};}}return Ext.applyIf(g,i);},collapse:function(c){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,c)===false){return;}var d=c===true||(c!==false&&this.animCollapse);this.beforeEffect();this.onCollapse(d,c);return this;},onCollapse:function(d,c){if(d){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterCollapse,this),this.collapseDefaults));}else{this[this.collapseEl].hide();this.afterCollapse();}},afterCollapse:function(){this.collapsed=true;this.el.addClass(this.collapsedCls);this.afterEffect();this.fireEvent("collapse",this);},expand:function(c){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,c)===false){return;}var d=c===true||(c!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect();this.onExpand(d,c);return this;},onExpand:function(d,c){if(d){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(c||true,this.afterExpand,this),this.expandDefaults));}else{this[this.collapseEl].show();this.afterExpand();}},afterExpand:function(){this.collapsed=false;this.afterEffect();this.fireEvent("expand",this);},toggleCollapse:function(b){this[this.collapsed?"expand":"collapse"](b);return this;},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask();}Ext.Panel.superclass.onDisable.call(this);},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask();}Ext.Panel.superclass.onEnable.call(this);},onResize:function(d,c){if(d!==undefined||c!==undefined){if(!this.collapsed){if(typeof d=="number"){d=this.adjustBodyWidth(d-this.getFrameWidth());if(this.tbar){this.tbar.setWidth(d);if(this.topToolbar){this.topToolbar.setSize(d);}}if(this.bbar){this.bbar.setWidth(d);if(this.bottomToolbar){this.bottomToolbar.setSize(d);}}if(this.fbar&&this.buttonAlign!="center"){this.fbar.setSize(d-this.fbar.container.getFrameWidth("lr"));}this.body.setWidth(d);}else{if(d=="auto"){this.body.setWidth(d);}}if(typeof c=="number"){c=this.adjustBodyHeight(c-this.getFrameHeight());this.body.setHeight(c);}else{if(c=="auto"){this.body.setHeight(c);}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight());}}else{this.queuedBodySize={width:d,height:c};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height);this.doLayout();},this,{single:true});}}this.fireEvent("bodyresize",this,d,c);}this.syncShadow();},adjustBodyHeight:function(b){return b;},adjustBodyWidth:function(b){return b;},onPosition:function(){this.syncShadow();},getFrameWidth:function(){var d=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var e=this.bwrap.dom.firstChild;d+=(Ext.fly(e).getFrameWidth("l")+Ext.fly(e.firstChild).getFrameWidth("r"));var g=this.bwrap.dom.firstChild.firstChild.firstChild;d+=Ext.fly(g).getFrameWidth("lr");}return d;},getFrameHeight:function(){var g=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");g+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){var i=this.el.dom.firstChild;var h=this.bwrap.dom.lastChild;g+=(i.offsetHeight+h.offsetHeight);var e=this.bwrap.dom.firstChild.firstChild.firstChild;g+=Ext.fly(e).getFrameWidth("tb");}else{g+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0);}return g;},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth();},getInnerHeight:function(){return this.getSize().height-this.getFrameHeight();},syncShadow:function(){if(this.floating){this.el.sync(true);}},getLayoutTarget:function(){return this.body;},setTitle:function(c,d){this.title=c;if(this.header&&this.headerAsText){this.header.child("span").update(c);}if(d){this.setIconClass(d);}this.fireEvent("titlechange",this,c);return this;},getUpdater:function(){return this.body.getUpdater();},load:function(){var b=this.body.getUpdater();b.update.apply(b,arguments);return this;},beforeDestroy:function(){if(this.header){this.header.removeAllListeners();if(this.headerAsText){Ext.Element.uncache(this.header.child("span"));}}Ext.Element.uncache(this.header,this.tbar,this.bbar,this.footer,this.body,this.bwrap);if(this.tools){for(var d in this.tools){Ext.destroy(this.tools[d]);}}if(this.buttons){for(var b in this.buttons){Ext.destroy(this.buttons[b]);}}Ext.destroy(this.topToolbar,this.bottomToolbar,this.fbar);Ext.Panel.superclass.beforeDestroy.call(this);},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer";},createGhost:function(h,i,g){var k=document.createElement("div");k.className="x-panel-ghost "+(h?h:"");if(this.header){k.appendChild(this.el.dom.firstChild.cloneNode(true));}Ext.fly(k.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());k.style.width=this.el.dom.offsetWidth+"px";if(!g){this.container.dom.appendChild(k);}else{Ext.getDom(g).appendChild(k);}if(i!==false&&this.el.useShim!==false){var l=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},k);l.show();return l;}else{return new Ext.Element(k);}},doAutoLoad:function(){this.body.load(typeof this.autoLoad=="object"?this.autoLoad:{url:this.autoLoad});}});Ext.reg("panel",Ext.Panel);Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,closeAction:"close",collapsible:false,initHidden:true,monitorResize:true,elements:"header,body",frame:true,floating:true,initComponent:function(){Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox());},onRender:function(c,d){Ext.Window.superclass.onRender.call(this,c,d);if(this.plain){this.el.addClass("x-window-plain");}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mask.on("click",this.focus,this);}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget);}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction});this.resizer.window=this;this.resizer.on("beforeresize",this.beforeResize,this);}if(this.draggable){this.header.addClass("x-window-draggable");}this.initTools();this.el.on("mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);this.hidden=true;if(this.maximized){this.maximized=false;this.maximize();}if(this.closable){var b=this.getKeyMap();b.on(27,this.onEsc,this);b.disable();}},initDraggable:function(){this.dd=new Ext.Window.DD(this);},onEsc:function(){this[this.closeAction]();},beforeDestroy:function(){this.hide();if(this.doAnchor){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);}Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask);Ext.Window.superclass.beforeDestroy.call(this);},onDestroy:function(){if(this.manager){this.manager.unregister(this);}Ext.Window.superclass.onDestroy.call(this);},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])});}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true});this.header.on("dblclick",this.toggleMaximize,this);}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])});}},resizerAction:function(){var b=this.proxy.getBox();this.proxy.hide();this.window.handleResize(b);return b;},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox();},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint();}},handleResize:function(c){var d=this.resizeBox;if(d.x!=c.x||d.y!=c.y){this.updateBox(c);}else{this.setSize(c);}this.focus();this.updateHandles();this.saveState();if(this.layout){this.doLayout();}this.fireEvent("resize",this,c.width,c.height);},focus:function(){var g=this.focusEl,e=this.defaultButton,d=typeof e;if(d!="undefined"){if(d=="number"&&this.fbar){g=this.fbar.items.get(e);}else{if(d=="string"){g=Ext.getCmp(e);}else{g=e;}}}g=g||this.focusEl;g.focus.defer(10,g);},setAnimateTarget:function(b){b=Ext.get(b);this.animateTarget=b;},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var d=this.el.getAlignToXY(this.container,"c-c");var c=this.el.translatePoints(d[0],d[1]);this.x=this.x===undefined?c.left:this.x;this.y=this.y===undefined?c.top:this.y;}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false);}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show();}},show:function(g,e,d){if(!this.rendered){this.render(Ext.getBody());}if(this.hidden===false){this.toFront();return;}if(this.fireEvent("beforeshow",this)===false){return;}if(e){this.on("show",e,d,{single:true});}this.hidden=false;if(g!==undefined){this.setAnimateTarget(g);}this.beforeShow();if(this.animateTarget){this.animShow();}else{this.afterShow();}},afterShow:function(){this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer();}if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll);}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this);}this.doConstrain();if(this.layout){this.doLayout();}if(this.keyMap){this.keyMap.enable();}this.toFront();this.updateHandles();this.fireEvent("show",this);},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var b=this.getBox(false);b.callback=this.afterShow;b.scope=this;b.duration=0.25;b.easing="easeNone";b.opacity=0.5;b.block=true;this.el.setStyle("display","none");this.proxy.shift(b);},hide:function(g,e,d){if(this.hidden||this.fireEvent("beforehide",this)===false){return;}if(e){this.on("hide",e,d,{single:true});}this.hidden=true;if(g!==undefined){this.setAnimateTarget(g);}if(this.animateTarget){this.animHide();}else{this.el.hide();this.afterHide();}},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this);}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked");}if(this.keyMap){this.keyMap.disable();}this.fireEvent("hide",this);},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var d=this.getBox(false);this.proxy.setBox(d);this.el.hide();var b=this.animateTarget.getBox();b.callback=this.afterHide;b.scope=this;b.duration=0.25;b.easing="easeNone";b.block=true;b.opacity=0;this.proxy.shift(b);},onWindowResize:function(){if(this.maximized){this.fitContainer();}if(this.modal){this.mask.setSize("100%","100%");var b=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));}this.doConstrain();},doConstrain:function(){if(this.constrain||this.constrainHeader){var d;if(this.constrain){d={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset};}else{var e=this.getSize();d={right:-(e.width-100),bottom:-(e.height-25)};}var g=this.el.getConstrainToXY(this.container,true,d);if(g){this.setPosition(g[0],g[1]);}}},ghost:function(e){var g=this.createGhost(e);var d=this.getBox(true);g.setLeftTop(d.x,d.y);g.setWidth(d.width);this.el.hide();this.activeGhost=g;return g;},unghost:function(c,d){if(c!==false){this.el.show();this.focus();if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll);}}if(d!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true));}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost;},minimize:function(){this.fireEvent("minimize",this);},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.hide(null,function(){this.fireEvent("close",this);this.destroy();},this);}},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show();}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock();}if(this.collapsible){this.tools.toggle.hide();}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this);}},restore:function(){if(this.maximized){this.el.removeClass("x-window-maximized");this.tools.restore.hide();this.tools.maximize.show();this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock();}if(this.collapsible){this.tools.toggle.show();}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this);}},toggleMaximize:function(){this[this.maximized?"restore":"maximize"]();},fitContainer:function(){var b=this.container.getViewSize();this.setSize(b.width,b.height);},setZIndex:function(b){if(this.modal){this.mask.setStyle("z-index",b);}this.el.setZIndex(++b);b+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++b);}this.lastZIndex=b;},alignTo:function(e,g,i){var h=this.el.getAlignToXY(e,g,i);this.setPagePosition(h[0],h[1]);return this;},anchorTo:function(l,i,k,g){if(this.doAnchor){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);}this.doAnchor=function(){this.alignTo(l,i,k);};Ext.EventManager.onWindowResize(this.doAnchor,this);var h=typeof g;if(h!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:h=="number"?g:50});}this.doAnchor();return this;},toFront:function(b){if(this.manager.bringToFront(this)){if(!b||!b.getTarget().focus){this.focus();}}return this;},setActive:function(b){if(b){if(!this.maximized){this.el.enableShadow(true);}this.fireEvent("activate",this);}else{this.el.disableShadow();this.fireEvent("deactivate",this);}},toBack:function(){this.manager.sendToBack(this);return this;},center:function(){var b=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(b[0],b[1]);return this;}});Ext.reg("window",Ext.Window);Ext.Window.DD=function(b){this.win=b;Ext.Window.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false;};Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:true,headerOffsets:[100,25],startDrag:function(){var e=this.win;this.proxy=e.ghost();if(e.constrain!==false){var g=e.el.shadowOffset;this.constrainTo(e.container,{right:g,left:g,bottom:g});}else{if(e.constrainHeader!==false){var d=this.proxy.getSize();this.constrainTo(e.container,{right:-(d.width-this.headerOffsets[0]),bottom:-(d.height-this.headerOffsets[1])});}}},b4Drag:Ext.emptyFn,onDrag:function(b){this.alignElWithMouse(this.proxy,b.getPageX(),b.getPageY());},endDrag:function(b){this.win.unghost();this.win.saveState();}});Ext.WindowGroup=function(){var m={};var o=[];var n=null;var p=function(a,b){return(!a._lastAccess||a._lastAccess<b._lastAccess)?-1:1;};var l=function(){var a=o,c=a.length;if(c>0){a.sort(p);var b=a[0].manager.zseed;for(var e=0;e<c;e++){var d=a[e];if(d&&!d.hidden){d.setZIndex(b+(e*10));}}}k();};var i=function(a){if(a!=n){if(n){n.setActive(false);}n=a;if(a){a.setActive(true);}}};var k=function(){for(var a=o.length-1;a>=0;--a){if(!o[a].hidden){i(o[a]);return;}}i(null);};return{zseed:9000,register:function(a){m[a.id]=a;o.push(a);a.on("hide",k);},unregister:function(a){delete m[a.id];a.un("hide",k);o.remove(a);},get:function(a){return typeof a=="object"?a:m[a];},bringToFront:function(a){a=this.get(a);if(a!=n){a._lastAccess=new Date().getTime();l();return true;}return false;},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date().getTime());l();return a;},hideAll:function(){for(var a in m){if(m[a]&&typeof m[a]!="function"&&m[a].isVisible()){m[a].hide();}}},getActive:function(){return n;},getBy:function(a,b){var e=[];for(var c=o.length-1;c>=0;--c){var d=o[c];if(a.call(b||d,d)!==false){e.push(d);}}return e;},each:function(b,c){for(var a in m){if(m[a]&&typeof m[a]!="function"){if(b.call(c||m[a],m[a])===false){return;}}}}};};Ext.WindowMgr=new Ext.WindowGroup();Ext.dd.PanelProxy=function(d,c){this.panel=d;this.id=this.panel.id+"-ddproxy";Ext.apply(this,c);};Ext.dd.PanelProxy.prototype={insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost;},getGhost:function(){return this.ghost;},getProxy:function(){return this.proxy;},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy;}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost;}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(undefined,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize());}this.panel.el.dom.style.display="none";}},repair:function(d,g,e){this.hide();if(typeof g=="function"){g.call(e||this);}},moveProxy:function(d,c){if(this.proxy){d.insertBefore(this.proxy.dom,c);}}};Ext.Panel.DD=function(d,e){this.panel=d;this.dragData={panel:d};this.proxy=new Ext.dd.PanelProxy(d,e);Ext.Panel.DD.superclass.constructor.call(this,d.el,e);var g=d.header;if(g){this.setHandleElId(g.id);}(g?g:this.panel.body).setStyle("cursor","move");this.scroll=false;};Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,c){this.proxy.show();},b4MouseDown:function(d){var e=d.getPageX();var g=d.getPageY();this.autoOffset(e,g);},onInitDrag:function(d,c){this.onStartDrag(d,c);return true;},createFrame:Ext.emptyFn,getDragEl:function(b){return this.proxy.ghost.dom;},endDrag:function(b){this.proxy.hide();this.panel.saveState();},autoOffset:function(d,c){d-=this.startPageX;c-=this.startPageY;this.setDelta(d,c);}});Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this);};Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(c,d){return typeof this.state[c]=="undefined"?d:this.state[c];},clear:function(b){delete this.state[b];this.fireEvent("statechange",this,b,null);},set:function(d,c){this.state[d]=c;this.fireEvent("statechange",this,d,c);},decodeValue:function(v){var i=/^(a|n|d|b|s|o)\:(.*)$/;var t=i.exec(unescape(v));if(!t||!t[1]){return;}var q=t[1];var o=t[2];switch(q){case"n":return parseFloat(o);case"d":return new Date(Date.parse(o));case"b":return(o=="1");case"a":var p=[];var n=o.split("^");for(var u=0,s=n.length;u<s;u++){p.push(this.decodeValue(n[u]));}return p;case"o":var p={};var n=o.split("^");for(var u=0,s=n.length;u<s;u++){var r=n[u].split("=");p[r[0]]=this.decodeValue(r[1]);}return p;default:return o;}},encodeValue:function(n){var h;if(typeof n=="number"){h="n:"+n;}else{if(typeof n=="boolean"){h="b:"+(n?"1":"0");}else{if(Ext.isDate(n)){h="d:"+n.toGMTString();}else{if(Ext.isArray(n)){var k="";for(var l=0,i=n.length;l<i;l++){k+=this.encodeValue(n[l]);if(l!=i-1){k+="^";}}h="a:"+k;}else{if(typeof n=="object"){var k="";for(var m in n){if(typeof n[m]!="function"&&n[m]!==undefined){k+=m+"="+this.encodeValue(n[m])+"^";}}h="o:"+k.substring(0,k.length-1);}else{h="s:"+n;}}}}}return escape(h);}});Ext.state.Manager=function(){var b=new Ext.state.Provider();return{setProvider:function(a){b=a;},get:function(d,a){return b.get(d,a);},set:function(a,d){b.set(a,d);},clear:function(a){b.clear(a);},getProvider:function(){return b;}};}();Ext.state.CookieProvider=function(b){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,b);this.state=this.readCookies();};Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(d,c){if(typeof c=="undefined"||c===null){this.clear(d);return;}this.setCookie(d,c);Ext.state.CookieProvider.superclass.set.call(this,d,c);},clear:function(b){this.clearCookie(b);Ext.state.CookieProvider.superclass.clear.call(this,b);},readCookies:function(){var n={};var k=document.cookie+";";var c=/\s?(.*?)=(.*?);/g;var l;while((l=c.exec(k))!=null){var i=l[1];var m=l[2];if(i&&i.substring(0,3)=="ys-"){n[i.substr(3)]=this.decodeValue(m);}}return n;},setCookie:function(d,c){document.cookie="ys-"+d+"="+this.encodeValue(c)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"");},clearCookie:function(b){document.cookie="ys-"+b+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"");}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(typeof this.tpl=="string"){this.tpl=new Ext.XTemplate(this.tpl);}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","selectionchange","beforeselect");this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite();},onRender:function(){if(!this.el){this.el=document.createElement("div");this.el.id=this.id;}Ext.DataView.superclass.onRender.apply(this,arguments);},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.getTemplateTarget().on({click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.getTemplateTarget().on({mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});}if(this.store){this.setStore(this.store,true);}},refresh:function(){this.clearSelections(false,true);var c=this.getTemplateTarget();c.update("");var d=this.store.getRange();if(d.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){c.update(this.emptyText);}this.hasSkippedEmptyText=true;this.all.clear();return;}this.tpl.overwrite(c,this.collectData(d,0));this.all.fill(Ext.query(this.itemSelector,c.dom));this.updateIndexes(0);},getTemplateTarget:function(){return this.el;},prepareData:function(b){return b;},collectData:function(g,i){var k=[];for(var l=0,h=g.length;l<h;l++){k[k.length]=this.prepareData(g[l].data,i+l,g[l]);}return k;},bufferRender:function(d){var c=document.createElement("div");this.tpl.overwrite(c,this.collectData(d));return Ext.query(this.itemSelector,c);},onUpdate:function(k,i){var h=this.store.indexOf(i);var l=this.isSelected(h);var n=this.all.elements[h];var m=this.bufferRender([i],h)[0];this.all.replaceElement(h,m,true);if(l){this.selected.replaceElement(n,m);this.all.item(h).addClass(this.selectedClass);}this.updateIndexes(h,h);},onAdd:function(k,m,l){if(this.all.getCount()==0){this.refresh();return;}var n=this.bufferRender(m,l),i,a=this.all.elements;if(l<this.all.getCount()){i=this.all.item(l).insertSibling(n,"before",true);a.splice.apply(a,[l,0].concat(n));}else{i=this.all.last().insertSibling(n,"after",true);a.push.apply(a,n);}this.updateIndexes(l);},onRemove:function(g,e,d){this.deselect(d);this.all.removeElement(d,true);this.updateIndexes(d);},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b));},updateIndexes:function(h,i){var e=this.all.elements;h=h||0;i=i||((i===0)?0:(e.length-1));for(var g=h;g<=i;g++){e[g].viewIndex=g;}},setStore:function(d,c){if(!c&&this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.refresh,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this);}if(d){d=Ext.StoreMgr.lookup(d);d.on("beforeload",this.onBeforeLoad,this);d.on("datachanged",this.refresh,this);d.on("add",this.onAdd,this);d.on("remove",this.onRemove,this);d.on("update",this.onUpdate,this);d.on("clear",this.refresh,this);}this.store=d;if(d){this.refresh();}},findItemFromChild:function(b){return Ext.fly(b).findParent(this.itemSelector,this.getTemplateTarget());},onClick:function(g){var d=g.getTarget(this.itemSelector,this.getTemplateTarget());if(d){var e=this.indexOf(d);if(this.onItemClick(d,e,g)!==false){this.fireEvent("click",this,e,d,g);}}else{if(this.fireEvent("containerclick",this,g)!==false){this.onContainerClick(g);}}},onContainerClick:function(b){this.clearSelections();},onContextMenu:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("contextmenu",this,this.indexOf(d),d,c);}},onDblClick:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d){this.fireEvent("dblclick",this,this.indexOf(d),d,c);}},onMouseOver:function(c){var d=c.getTarget(this.itemSelector,this.getTemplateTarget());if(d&&d!==this.lastItem){this.lastItem=d;Ext.fly(d).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(d),d,c);}},onMouseOut:function(b){if(this.lastItem){if(!b.within(this.lastItem,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,b);delete this.lastItem;}}},onItemClick:function(d,e,g){if(this.fireEvent("beforeclick",this,e,d,g)===false){return false;}if(this.multiSelect){this.doMultiSelection(d,e,g);g.preventDefault();}else{if(this.singleSelect){this.doSingleSelection(d,e,g);g.preventDefault();}}return true;},doSingleSelection:function(d,e,g){if(g.ctrlKey&&this.isSelected(e)){this.deselect(e);}else{this.select(e,false);}},doMultiSelection:function(i,g,h){if(h.shiftKey&&this.last!==false){var e=this.last;this.selectRange(e,g,h.ctrlKey);this.last=e;}else{if((h.ctrlKey||this.simpleSelect)&&this.isSelected(g)){this.deselect(g);}else{this.select(g,h.ctrlKey||h.shiftKey||this.simpleSelect);}}},getSelectionCount:function(){return this.selected.getCount();},getSelectedNodes:function(){return this.selected.elements;},getSelectedIndexes:function(){var e=[],h=this.selected.elements;for(var i=0,g=h.length;i<g;i++){e.push(h[i].viewIndex);}return e;},getSelectedRecords:function(){var h=[],i=this.selected.elements;for(var e=0,g=i.length;e<g;e++){h[h.length]=this.store.getAt(i[e].viewIndex);}return h;},getRecords:function(g){var i=[],k=g;for(var l=0,h=k.length;l<h;l++){i[i.length]=this.store.getAt(k[l].viewIndex);}return i;},getRecord:function(b){return this.store.getAt(b.viewIndex);},clearSelections:function(d,c){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!c){this.selected.removeClass(this.selectedClass);}this.selected.clear();this.last=false;if(!d){this.fireEvent("selectionchange",this,this.selected.elements);}}},isSelected:function(b){return this.selected.contains(this.getNode(b));},deselect:function(b){if(this.isSelected(b)){b=this.getNode(b);this.selected.removeElement(b);if(this.last==b.viewIndex){this.last=false;}Ext.fly(b).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements);}},select:function(m,k,h){if(Ext.isArray(m)){if(!k){this.clearSelections(true);}for(var n=0,i=m.length;n<i;n++){this.select(m[n],true,true);}if(!h){this.fireEvent("selectionchange",this,this.selected.elements);}}else{var l=this.getNode(m);if(!k){this.clearSelections(true);}if(l&&!this.isSelected(l)){if(this.fireEvent("beforeselect",this,l,this.selected.elements)!==false){Ext.fly(l).addClass(this.selectedClass);this.selected.add(l);this.last=l.viewIndex;if(!h){this.fireEvent("selectionchange",this,this.selected.elements);}}}}},selectRange:function(g,e,d){if(!d){this.clearSelections(true);}this.select(this.getNodes(g,e),true);},getNode:function(b){if(typeof b=="string"){return document.getElementById(b);}else{if(typeof b=="number"){return this.all.elements[b];}}return b;},getNodes:function(i,h){var k=this.all.elements;i=i||0;h=typeof h=="undefined"?Math.max(k.length-1,0):h;var g=[],l;if(i<=h){for(l=i;l<=h&&k[l];l++){g.push(k[l]);}}else{for(l=i;l>=h&&k[l];l--){g.push(k[l]);}}return g;},indexOf:function(b){b=this.getNode(b);if(typeof b.viewIndex=="number"){return b.viewIndex;}return this.all.indexOf(b);},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear();}},onDestroy:function(){Ext.DataView.superclass.onDestroy.call(this);this.setStore(null);}});Ext.reg("dataview",Ext.DataView);Ext.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:19,columnResize:true,columnSort:true,hideHeaders:false,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.ListView.ColumnResizer(this.colResizer);this.colResizer.init(this);}if(this.columnSort){this.colSorter=new Ext.ListView.Sorter(this.columnSort);this.colSorter.init(this);}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{width}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>");}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{width}%;text-align:{align};"><em unselectable="on">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>");}var n=this.columns,p=0,o=0,i=n.length;for(var q=0;q<i;q++){var c=n[q];if(!c.tpl){c.tpl=new Ext.XTemplate("{"+c.dataIndex+"}");}else{if(typeof c.tpl=="string"){c.tpl=new Ext.XTemplate(c.tpl);}}c.align=c.align||"left";if(typeof c.width=="number"){c.width*=100;p+=c.width;o++;}}if(o<i){var s=i-o;if(p<100){var t=((100-p)/s);for(var r=0;r<i;r++){var c=n[r];if(typeof c.width!="number"){c.width=t;}}}}Ext.ListView.superclass.initComponent.call(this);},onRender:function(){if(!this.el){this.el=document.createElement("div");this.el.id=this.id;this.internalTpl.overwrite(this.el,{columns:this.columns});}Ext.DataView.superclass.onRender.apply(this,arguments);this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none";}},getTemplateTarget:function(){return this.innerBody;},collectData:function(){var b=Ext.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:b};},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height);}},onResize:function(h,m){var l=this.innerBody.dom;var k=this.innerHd.dom;if(!l){return;}var n=l.parentNode;if(typeof h=="number"){var i=h-this.scrollOffset;if(this.reserveScrollOffset||((n.offsetWidth-n.clientWidth)>10)){l.style.width=i+"px";k.style.width=i+"px";}else{l.style.width=h+"px";k.style.width=h+"px";setTimeout(function(){if((n.offsetWidth-n.clientWidth)>10){l.style.width=i+"px";k.style.width=i+"px";}},10);}}if(typeof m=="number"){n.style.height=(m-k.parentNode.offsetHeight)+"px";}},updateIndexes:function(){Ext.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize();},findHeaderIndex:function(k){k=k.dom||k;var h=k.parentNode,l=h.parentNode.childNodes;for(var c=0,i;i=l[c];c++){if(i==h){return c;}}return -1;},setHdWidths:function(){var i=this.innerHd.dom.getElementsByTagName("div");for(var e=0,h=this.columns,g=h.length;e<g;e++){i[e].style.width=h[e].width+"%";}}});Ext.reg("listview",Ext.ListView);Ext.ListView.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(b){Ext.apply(this,b);Ext.ListView.ColumnResizer.superclass.constructor.call(this);},init:function(b){this.view=b;b.on("render",this.initEvents,this);},initEvents:function(b){b.mon(b.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(b.innerHd);b.on("beforedestroy",this.tracker.destroy,this.tracker);},handleHdMove:function(m,p){var e=5;var l=m.getPageX();var n=m.getTarget("em",3,true);if(n){var o=n.getRegion();var q=n.dom.style;var r=n.dom.parentNode;if(l-o.left<=e&&r!=r.parentNode.firstChild){this.activeHd=Ext.get(r.previousSibling.firstChild);if(Ext.isSafari){q.cursor="e-resize";}else{q.cursor="col-resize";}}else{if(o.right-l<=e&&r!=r.parentNode.lastChild.previousSibling){this.activeHd=n;if(Ext.isSafari){q.cursor="w-resize";}else{q.cursor="col-resize";}}else{delete this.activeHd;q.cursor="";}}}},onBeforeStart:function(b){this.dragHd=this.activeHd;return !!this.dragHd;},onStart:function(g){this.view.disableHeaders=true;this.proxy=this.view.el.createChild({cls:"x-list-resizer"});this.proxy.setHeight(this.view.el.getHeight());var e=this.tracker.getXY()[0];var d=this.view.innerHd.getWidth();this.hdX=this.dragHd.getX();this.hdIndex=this.view.findHeaderIndex(this.dragHd);this.proxy.setX(this.hdX);this.proxy.setWidth(e-this.hdX);this.minWidth=d*this.minPct;this.maxWidth=d-(this.minWidth*(this.view.columns.length-1-this.hdIndex));},onDrag:function(c){var d=this.tracker.getXY()[0];this.proxy.setWidth((d-this.hdX).constrain(this.minWidth,this.maxWidth));},onEnd:function(w){var y=this.proxy.getWidth();this.proxy.remove();var z=this.hdIndex;var t=this.view,A=t.columns,x=A.length;var e=this.view.innerHd.getWidth(),B=this.minPct*100;var F=Math.ceil((y*100)/e);var i=A[z].width-F;var u=Math.floor(i/(x-1-z));var v=i-(u*(x-1-z));for(var C=z+1;C<x;C++){var D=A[C].width+u;var E=Math.max(B,D);if(D!=E){v+=D-E;}A[C].width=E;}A[z].width=F;A[z+1].width+=v;delete this.dragHd;this.view.setHdWidths();this.view.refresh();setTimeout(function(){t.disableHeaders=false;},100);}});Ext.ListView.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(b){Ext.apply(this,b);Ext.ListView.Sorter.superclass.constructor.call(this);},init:function(b){this.view=b;b.on("render",this.initEvents,this);},initEvents:function(b){b.mon(b.innerHd,"click",this.onHdClick,this);b.innerHd.setStyle("cursor","pointer");b.mon(b.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[b.store]);},updateSortState:function(p){var m=p.getSortState();if(!m){return;}this.sortState=m;var n=this.view.columns,l=-1;for(var o=0,k=n.length;o<k;o++){if(n[o].dataIndex==m.field){l=o;break;}}if(l!=-1){var i=m.direction;this.updateSortIcon(l,i);}},updateSortIcon:function(e,g){var h=this.sortClasses;var i=this.view.innerHd.select("em").removeClass(h);i.item(e).addClass(h[g=="DESC"?1:0]);},onHdClick:function(g){var d=g.getTarget("em",3);if(d&&!this.view.disableHeaders){var e=this.view.findHeaderIndex(d);this.view.store.sort(this.view.columns[e].dataIndex);}}});Ext.ColorPalette=function(b){Ext.ColorPalette.superclass.constructor.call(this,b);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true);}};Ext.extend(Ext.ColorPalette,Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],onRender:function(e,g){var i=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');var h=document.createElement("div");h.id=this.getId();h.className=this.itemCls;i.overwrite(h,this.colors);e.dom.insertBefore(h,g);this.el=Ext.get(h);this.el.on(this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.el.on("click",Ext.emptyFn,this,{delegate:"a",preventDefault:true});}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var b=this.value;this.value=null;this.select(b);}},handleClick:function(c,e){c.preventDefault();if(!this.disabled){var g=e.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(g.toUpperCase());}},select:function(d){d=d.replace("#","");if(d!=this.value||this.allowReselect){var c=this.el;if(this.value){c.child("a.color-"+this.value).removeClass("x-color-palette-sel");}c.child("a.color-"+d).addClass("x-color-palette-sel");this.value=d;this.fireEvent("select",this,d);}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.Component,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",constrainToViewport:true,monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime():new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this);}this.initDisabledDays();},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var e=this.disabledDates;var g="(?:";for(var d=0;d<e.length;d++){g+=e[d];if(d!=e.length-1){g+="|";}}this.disabledDatesRE=new RegExp(g+")");}},setDisabledDates:function(b){if(Ext.isArray(b)){this.disabledDates=b;this.disabledDatesRE=null;}else{this.disabledDatesRE=b;}this.initDisabledDays();this.update(this.value,true);},setDisabledDays:function(b){this.disabledDays=b;this.update(this.value,true);},setMinDate:function(b){this.minDate=b;this.update(this.value,true);},setMaxDate:function(b){this.maxDate=b;this.update(this.value,true);},setValue:function(c){var d=this.value;this.value=c.clearTime(true);if(this.el){this.update(this.value);}},getValue:function(){return this.value;},focus:function(){if(this.el){this.update(this.activeDate);}},onRender:function(t,o){var r=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'];var p=this.dayNames;for(var q=0;q<7;q++){var m=this.startDay+q;if(m>6){m=m-7;}r.push("<th><span>",p[m].substr(0,1),"</span></th>");}r[r.length]="</tr></thead><tbody><tr>";for(var q=0;q<42;q++){if(q%7==0&&q!=0){r[r.length]="</tr><tr>";}r[r.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';}r.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var s=document.createElement("div");s.className="x-date-picker";s.innerHTML=r.join("");t.dom.insertBefore(s,o);this.el=Ext.get(s);this.eventEl=Ext.get(s.firstChild);new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.eventEl.on("mousewheel",this.handleMouseWheel,this);this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");var d=new Ext.KeyNav(this.eventEl,{left:function(a){a.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1));},right:function(a){a.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1));},up:function(a){a.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7));},down:function(a){a.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7));},pageUp:function(a){this.showNextMonth();},pageDown:function(a){this.showPrevMonth();},enter:function(a){a.stopPropagation();return true;},scope:this});this.eventEl.on("click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.on("click",this.showMonthPicker,this);this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var i=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,i),tooltip:String.format(this.todayTip,i),handler:this.selectToday,scope:this});}if(Ext.isIE){this.el.repaint();}this.update(this.value);},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var d=['<table border="0" cellspacing="0">'];for(var c=0;c<6;c++){d.push('<tr><td class="x-date-mp-month"><a href="#">',this.monthNames[c].substr(0,3),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',this.monthNames[c+6].substr(0,3),"</a></td>",c==0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>');}d.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(d.join(""));this.monthPicker.on("click",this.onMonthClick,this);this.monthPicker.on("dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(g,b,a){a+=1;if((a%2)==0){g.dom.xmonth=5+Math.round(a*0.5);}else{g.dom.xmonth=Math.round((a-1)*0.5);}});}},showMonthPicker:function(){this.createMonthPicker();var b=this.el.getSize();this.monthPicker.setSize(b);this.monthPicker.child("table").setSize(b);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2});},updateMPYear:function(i){this.mpyear=i;var l=this.mpYears.elements;for(var g=1;g<=10;g++){var k=l[g-1],h;if((g%2)==0){h=i+Math.round(g*0.5);k.firstChild.innerHTML=h;k.xyear=h;}else{h=i-(5-Math.round(g*0.5));k.firstChild.innerHTML=h;k.xyear=h;}this.mpYears.item(g-1)[h==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel");}},updateMPMonth:function(b){this.mpMonths.each(function(a,g,e){a[a.dom.xmonth==b?"addClass":"removeClass"]("x-date-mp-sel");});},selectMPMonth:function(b){},onMonthClick:function(k,d){k.stopEvent();var l=new Ext.Element(d),e;if(l.is("button.x-date-mp-cancel")){this.hideMonthPicker();}else{if(l.is("button.x-date-mp-ok")){var i=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(i.getMonth()!=this.mpSelMonth){i=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth();}this.update(i);this.hideMonthPicker();}else{if(e=l.up("td.x-date-mp-month",2)){this.mpMonths.removeClass("x-date-mp-sel");e.addClass("x-date-mp-sel");this.mpSelMonth=e.dom.xmonth;}else{if(e=l.up("td.x-date-mp-year",2)){this.mpYears.removeClass("x-date-mp-sel");e.addClass("x-date-mp-sel");this.mpSelYear=e.dom.xyear;}else{if(l.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10);}else{if(l.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10);}}}}}}},onMonthDblClick:function(h,e){h.stopEvent();var i=new Ext.Element(e),g;if(g=i.up("td.x-date-mp-month",2)){this.update(new Date(this.mpSelYear,g.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker();}else{if(g=i.up("td.x-date-mp-year",2)){this.update(new Date(g.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker();}}},hideMonthPicker:function(b){if(this.monthPicker){if(b===true){this.monthPicker.hide();}else{this.monthPicker.slideOut("t",{duration:0.2});}}},showPrevMonth:function(b){this.update(this.activeDate.add("mo",-1));},showNextMonth:function(b){this.update(this.activeDate.add("mo",1));},showPrevYear:function(){this.update(this.activeDate.add("y",-1));},showNextYear:function(){this.update(this.activeDate.add("y",1));},handleMouseWheel:function(d){var c=d.getWheelDelta();if(c>0){this.showPrevMonth();d.stopEvent();}else{if(c<0){this.showNextMonth();d.stopEvent();}}},handleDateClick:function(c,d){c.stopEvent();if(d.dateValue&&!Ext.fly(d.parentNode).hasClass("x-date-disabled")){this.setValue(new Date(d.dateValue));this.fireEvent("select",this,this.value);}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value);}},update:function(L,V){var aj=this.activeDate;this.activeDate=L;if(!V&&aj&&this.el){var Y=L.getTime();if(aj.getMonth()==L.getMonth()&&aj.getFullYear()==L.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(a){if(a.dom.firstChild.dateValue==Y){a.addClass("x-date-selected");setTimeout(function(){try{a.dom.firstChild.focus();}catch(b){}},50);return false;}});return;}}var ac=L.getDaysInMonth();var W=L.getFirstDateOfMonth();var af=W.getDay()-this.startDay;if(af<=this.startDay){af+=7;}var T=L.add("mo",-1);var ae=T.getDaysInMonth()-af;var ag=this.cells.elements;var U=this.textNodes;ac+=af;var t=86400000;var Q=(new Date(T.getFullYear(),T.getMonth(),ae)).clearTime();var S=new Date().clearTime().getTime();var N=L.clearTime().getTime();var P=this.minDate?this.minDate.clearTime():Number.NEGATIVE_INFINITY;var d=this.maxDate?this.maxDate.clearTime():Number.POSITIVE_INFINITY;var M=this.disabledDatesRE;var R=this.disabledDatesText;var i=this.disabledDays?this.disabledDays.join(""):false;var O=this.disabledDaysText;var X=this.format;if(this.showToday){var aa=new Date().clearTime();var ah=(aa<P||aa>d||(M&&X&&M.test(aa.dateFormat(X)))||(i&&i.indexOf(aa.getDay())!=-1));this.todayBtn.setDisabled(ah);this.todayKeyListener[ah?"disable":"enable"]();}var ab=function(b,e){e.title="";var c=Q.getTime();e.firstChild.dateValue=c;if(c==S){e.className+=" x-date-today";e.title=b.todayText;}if(c==N){e.className+=" x-date-selected";setTimeout(function(){try{e.firstChild.focus();}catch(g){}},50);}if(c<P){e.className=" x-date-disabled";e.title=b.minText;return;}if(c>d){e.className=" x-date-disabled";e.title=b.maxText;return;}if(i){if(i.indexOf(Q.getDay())!=-1){e.title=O;e.className=" x-date-disabled";}}if(M&&X){var a=Q.dateFormat(X);if(M.test(a)){e.title=R.replace("%0",a);e.className=" x-date-disabled";}}};var K=0;for(;K<af;K++){U[K].innerHTML=(++ae);Q.setDate(Q.getDate()+1);ag[K].className="x-date-prevday";ab(this,ag[K]);}for(;K<ac;K++){var ai=K-af+1;U[K].innerHTML=(ai);Q.setDate(Q.getDate()+1);ag[K].className="x-date-active";ab(this,ag[K]);}var w=0;for(;K<42;K++){U[K].innerHTML=(++w);Q.setDate(Q.getDate()+1);ag[K].className="x-date-nextday";ab(this,ag[K]);}this.mbtn.setText(this.monthNames[L.getMonth()]+" "+L.getFullYear());if(!this.internalRender){var ad=this.el.dom.firstChild;var Z=ad.offsetWidth;this.el.setWidth(Z+this.el.getBorderWidth("lr"));Ext.fly(ad).setWidth(Z);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){ad.rows[0].cells[1].style.width=(Z-(ad.rows[0].cells[0].offsetWidth+ad.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[L]);}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.leftClickRpt,this.rightClickRpt,this.monthPicker,this.eventEl,this.mbtn,this.todayBtn);}}});Ext.reg("datepicker",Ext.DatePicker);Ext.TabPanel=Ext.extend(Ext.Panel,{monitorResize:true,deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:null,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout({deferredRender:this.deferredRender}));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header";}else{this.elements+=",footer";this.stripTarget="footer";}if(!this.stack){this.stack=Ext.TabPanel.AccessStack();}this.initItems();if(this.activeTab!==undefined&&typeof this.activeTab!="object"){this.activeTab=this.items.get(this.activeTab);}},render:function(){Ext.TabPanel.superclass.render.apply(this,arguments);if(this.activeTab!==undefined){var b=this.activeTab;delete this.activeTab;this.setActiveTab(b);}},onRender:function(n,i){Ext.TabPanel.superclass.onRender.call(this,n,i);if(this.plain){var k=this.tabPosition=="top"?"header":"footer";this[k].addClass("x-tab-panel-"+k+"-plain");}var h=this[this.stripTarget];this.stripWrap=h.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var l=(this.tabPosition=="bottom"?this.stripWrap:null);this.stripSpacer=h.createChild({cls:"x-tab-strip-spacer"},l);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge"});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var m=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close" onclick="return false;"></a>','<a class="x-tab-right" href="#" onclick="return false;"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");m.disableFormats=true;m.compile();Ext.TabPanel.prototype.itemTpl=m;}this.items.each(this.initTab,this);},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false);}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.on("add",this.onAdd,this,{target:this});this.on("remove",this.onRemove,this,{target:this});this.strip.on("mousedown",this.onStripMouseDown,this);this.strip.on("contextmenu",this.onStripContextMenu,this);if(this.enableTabScroll){this.strip.on("mousewheel",this.onWheel,this);}},findTargets:function(g){var d=null;var e=g.getTarget("li",this.strip);if(e){d=this.getComponent(e.id.split(this.idDelimiter)[1]);if(d.disabled){return{close:null,item:null,el:null};}}return{close:g.getTarget(".x-tab-strip-close",this.strip),item:d,el:e};},onStripMouseDown:function(c){if(c.button!=0){return;}c.preventDefault();var d=this.findTargets(c);if(d.close){if(d.item.fireEvent("close",d.item)!==false){this.remove(d.item);}return;}if(d.item&&d.item!=this.activeTab){this.setActiveTab(d.item);}},onStripContextMenu:function(c){c.preventDefault();var d=this.findTargets(c);if(d.item){this.fireEvent("contextmenu",this,d.item,c);}},readTabs:function(m){if(m===true){this.items.each(function(a){this.remove(a);},this);}var n=this.el.query(this.autoTabSelector);for(var h=0,i=n.length;h<i;h++){var l=n[h];var k=l.getAttribute("title");l.removeAttribute("title");this.add({title:k,el:l});}},initTab:function(m,h){var l=this.strip.dom.childNodes[h];var i=m.closable?"x-tab-strip-closable":"";if(m.disabled){i+=" x-item-disabled";}if(m.iconCls){i+=" x-tab-with-icon";}if(m.tabCls){i+=" "+m.tabCls;}var k={id:this.id+this.idDelimiter+m.getItemId(),text:m.title,cls:i,iconCls:m.iconCls||""};var n=l?this.itemTpl.insertBefore(l,k):this.itemTpl.append(this.strip,k);Ext.fly(n).addClassOnOver("x-tab-strip-over");if(m.tabTip){Ext.fly(n).child("span.x-tab-strip-text",true).qtip=m.tabTip;}m.tabEl=n;m.on("disable",this.onItemDisabled,this);m.on("enable",this.onItemEnabled,this);m.on("titlechange",this.onItemTitleChanged,this);m.on("beforeshow",this.onBeforeShowItem,this);},onAdd:function(g,d,e){this.initTab(d,e);if(this.items.getCount()==1){this.syncSize();}this.delegateUpdates();},onBeforeAdd:function(d){var e=d.events?(this.items.containsKey(d.getItemId())?d:null):this.items.get(d);if(e){this.setActiveTab(d);return false;}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var g=d.elements;d.elements=g?g.replace(",header",""):g;d.border=(d.border===true);},onRemove:function(g,d){Ext.destroy(Ext.get(this.getTabEl(d)));this.stack.remove(d);d.un("disable",this.onItemDisabled,this);d.un("enable",this.onItemEnabled,this);d.un("titlechange",this.onItemTitleChanged,this);d.un("beforeshow",this.onBeforeShowItem,this);if(d==this.activeTab){var e=this.stack.next();if(e){this.setActiveTab(e);}else{this.setActiveTab(0);}}this.delegateUpdates();},onBeforeShowItem:function(b){if(b!=this.activeTab){this.setActiveTab(b);return false;}},onItemDisabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).addClass("x-item-disabled");}this.stack.remove(c);},onItemEnabled:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).removeClass("x-item-disabled");}},onItemTitleChanged:function(c){var d=this.getTabEl(c);if(d){Ext.fly(d).child("span.x-tab-strip-text",true).innerHTML=c.title;}},getTabEl:function(d){var c=(typeof d==="number")?this.items.items[d].getItemId():d.getItemId();return document.getElementById(this.id+this.idDelimiter+c);},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates();},beginUpdate:function(){this.suspendUpdates=true;},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates();},hideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="none";this.delegateUpdates();}this.stack.remove(c);},unhideTabStripItem:function(c){c=this.getComponent(c);var d=this.getTabEl(c);if(d){d.style.display="";this.delegateUpdates();}},delegateUpdates:function(){if(this.suspendUpdates){return;}if(this.resizeTabs&&this.rendered){this.autoSizeTabs();}if(this.enableTabScroll&&this.rendered){this.autoScrollTabs();}},autoSizeTabs:function(){var t=this.items.length;var y=this.tabPosition!="bottom"?"header":"footer";var x=this[y].dom.offsetWidth;var z=this[y].dom.clientWidth;if(!this.resizeTabs||t<1||!z){return;}var r=Math.max(Math.min(Math.floor((z-4)/t)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=r;var p=this.stripWrap.dom.getElementsByTagName("li");for(var v=0,s=p.length-1;v<s;v++){var q=p[v];var i=q.childNodes[1].firstChild.firstChild;var u=q.offsetWidth;var w=i.offsetWidth;i.style.width=(r-(u-w))+"px";}},adjustBodyWidth:function(b){if(this.header){this.header.setWidth(b);}if(this.footer){this.footer.setWidth(b);}return b;},setActiveTab:function(g){g=this.getComponent(g);if(!g||this.fireEvent("beforetabchange",this,g,this.activeTab)===false){return;}if(!this.rendered){this.activeTab=g;return;}if(this.activeTab!=g){if(this.activeTab){var e=this.getTabEl(this.activeTab);if(e){Ext.fly(e).removeClass("x-tab-strip-active");}this.activeTab.fireEvent("deactivate",this.activeTab);}var d=this.getTabEl(g);Ext.fly(d).addClass("x-tab-strip-active");this.activeTab=g;this.stack.add(g);this.layout.setActiveItem(g);if(this.layoutOnTabChange&&g.doLayout){g.doLayout();}if(this.scrolling){this.scrollToTab(g,this.animScroll);}g.fireEvent("activate",g);this.fireEvent("tabchange",this,g);}},getActiveTab:function(){return this.activeTab||null;},getItem:function(b){return this.getComponent(b);},autoScrollTabs:function(){var n=this.items.length;var q=this.header.dom.offsetWidth;var r=this.header.dom.clientWidth;var o=this.stripWrap;var p=o.dom;var k=p.offsetWidth;var m=this.getScrollPos();var l=this.edge.getOffsetsTo(this.stripWrap)[0]+m;if(!this.enableTabScroll||n<1||k<20){return;}if(l<=r){p.scrollLeft=0;o.setWidth(r);if(this.scrolling){this.scrolling=false;this.header.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir){p.style.marginLeft="";p.style.marginRight="";}}}else{if(!this.scrolling){this.header.addClass("x-tab-scrolling");if(Ext.isAir){p.style.marginLeft="18px";p.style.marginRight="18px";}}r-=o.getMargins("lr");o.setWidth(r>20?r:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers();}else{this.scrollLeft.show();this.scrollRight.show();}}this.scrolling=true;if(m>(l-r)){p.scrollLeft=l-r;}else{this.scrollToTab(this.activeTab,false);}this.updateScrollButtons();}},createScrollers:function(){var g=this.stripWrap.dom.offsetHeight;var e=this.header.insertFirst({cls:"x-tab-scroller-left"});e.setHeight(g);e.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=e;var d=this.header.insertFirst({cls:"x-tab-scroller-right"});d.setHeight(g);d.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(d,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=d;},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos();},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0;},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0;},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this};},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100);},scrollToTab:function(n,k){if(!n){return;}var p=this.getTabEl(n);var l=this.getScrollPos(),o=this.getScrollArea();var m=Ext.fly(p).getOffsetsTo(this.stripWrap)[0]+l;var i=m+p.offsetWidth;if(m<l){this.scrollTo(m,k);}else{if(i>(l+o)){this.scrollTo(i-o,k);}}},scrollTo:function(c,d){this.stripWrap.scrollTo("left",c,d?this.getScrollAnim():false);if(!d){this.updateScrollButtons();}},onWheel:function(m){var l=m.getWheelDelta()*this.wheelIncrement*-1;m.stopEvent();var k=this.getScrollPos();var n=k+l;var e=this.getScrollWidth()-this.getScrollArea();var d=Math.max(0,Math.min(e,n));if(d!=k){this.scrollTo(d,false);}},onScrollRight:function(){var e=this.getScrollWidth()-this.getScrollArea();var g=this.getScrollPos();var d=Math.min(e,g+this.getScrollIncrement());if(d!=g){this.scrollTo(d,this.animScroll);}},onScrollLeft:function(){var c=this.getScrollPos();var d=Math.max(0,c-this.getScrollIncrement());if(d!=c){this.scrollTo(d,this.animScroll);}},updateScrollButtons:function(){var b=this.getScrollPos();this.scrollLeft[b==0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[b>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled");},beforeDestroy:function(){if(this.items){this.items.each(function(b){if(b&&b.tabEl){Ext.get(b.tabEl).removeAllListeners();b.tabEl=null;}},this);}if(this.strip){this.strip.removeAllListeners();}Ext.TabPanel.superclass.beforeDestroy.apply(this);}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var b=[];return{add:function(a){b.push(a);if(b.length>10){b.shift();}},remove:function(g){var h=[];for(var i=0,a=b.length;i<a;i++){if(b[i]!=g){h.push(b[i]);}}b=h;},next:function(){return b.pop();}};};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);}if(typeof this.toggleGroup==="string"){this.enableToggle=true;}},getTemplateArgs:function(){var b=(this.cls||"");b+=this.iconCls?(this.text?" x-btn-text-icon":" x-btn-icon"):" x-btn-noicon";if(this.pressed){b+=" x-btn-pressed";}return[this.text||"&#160;",this.type,this.iconCls||"",b,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass()];},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):"";},onRender:function(l,h){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table cellspacing="0" class="x-btn {3}"><tbody class="{4}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{5}" unselectable="on"><button class="x-btn-text {2}" type="{1}">{0}</button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile();}this.template=Ext.Button.buttonTemplate;}var g,i=this.getTemplateArgs();if(h){g=this.template.insertBefore(h,i,true);}else{g=this.template.append(l,i,true);}var k=g.child(this.buttonSelector);k.on("focus",this.onFocus,this);k.on("blur",this.onBlur,this);this.initButtonEl(g,k);Ext.ButtonToggleMgr.register(this);},initButtonEl:function(d,g){this.el=d;if(this.id){this.el.dom.id=this.el.id=this.id;}if(this.icon){g.setStyle("background-image","url("+this.icon+")");}if(this.tabIndex!==undefined){g.dom.tabIndex=this.tabIndex;}if(this.tooltip){if(typeof this.tooltip=="object"){Ext.QuickTips.register(Ext.apply({target:g.id},this.tooltip));}else{g.dom[this.tooltipType]=this.tooltip;}}if(this.handleMouseEvents){d.on("mouseover",this.onMouseOver,this);d.on("mousedown",this.onMouseDown,this);}if(this.menu){this.menu.on("show",this.onMenuShow,this);this.menu.on("hide",this.onMenuHide,this);}if(this.repeat){var e=new Ext.util.ClickRepeater(d,typeof this.repeat=="object"?this.repeat:{});e.on("click",this.onClick,this);}d.on(this.clickEvent,this.onClick,this);},afterRender:function(){Ext.Button.superclass.afterRender.call(this);if(Ext.isIE6){this.doAutoWidth.defer(1,this);}else{this.doAutoWidth();}},setIconClass:function(b){if(this.el){this.el.child(this.buttonSelector).replaceClass(this.iconCls,b);}this.iconCls=b;},beforeDestroy:function(){if(this.rendered){var b=this.el.child(this.buttonSelector);if(b){if(this.tooltip){Ext.QuickTips.unregister(b);}b.removeAllListeners();}}if(this.menu){Ext.destroy(this.menu);}},onDestroy:function(){if(this.rendered){Ext.ButtonToggleMgr.unregister(this);}},doAutoWidth:function(){if(this.el&&this.text&&typeof this.width=="undefined"){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var b=this.el.child(this.buttonSelector);if(b&&b.getWidth()>20){b.clip();b.setWidth(Ext.util.TextMetrics.measure(b,this.text).width+b.getFrameWidth("lr"));}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth);}}}},setHandler:function(c,d){this.handler=c;this.scope=d;},setText:function(b){this.text=b;if(this.el){this.el.child("td.x-btn-mc "+this.buttonSelector).update(b);}this.doAutoWidth();},getText:function(){return this.text;},toggle:function(b){b=b===undefined?!this.pressed:b;if(b!=this.pressed){if(b){this.el.addClass("x-btn-pressed");this.pressed=true;this.fireEvent("toggle",this,true);}else{this.el.removeClass("x-btn-pressed");this.pressed=false;this.fireEvent("toggle",this,false);}if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,b);}}},focus:function(){this.el.child(this.buttonSelector).focus();},onDisable:function(){if(this.el){if(!Ext.isIE6||!this.text){this.el.addClass(this.disabledClass);}this.el.dom.disabled=true;}this.disabled=true;},onEnable:function(){if(this.el){if(!Ext.isIE6||!this.text){this.el.removeClass(this.disabledClass);}this.el.dom.disabled=false;}this.disabled=false;},showMenu:function(){if(this.menu){this.menu.show(this.el,this.menuAlign);}return this;},hideMenu:function(){if(this.menu){this.menu.hide();}return this;},hasVisibleMenu:function(){return this.menu&&this.menu.isVisible();},onClick:function(b){if(b){b.preventDefault();}if(b.button!=0){return;}if(!this.disabled){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle();}if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu();}this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b);}}},isMenuTriggerOver:function(c,d){return this.menu&&!d;},isMenuTriggerOut:function(c,d){return this.menu&&!d;},onMouseOver:function(c){if(!this.disabled){var d=c.within(this.el,true);if(!d){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){Ext.getDoc().on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true;}this.fireEvent("mouseover",this,c);}if(this.isMenuTriggerOver(c,d)){this.fireEvent("menutriggerover",this,this.menu,c);}}},monitorMouseOver:function(b){if(b.target!=this.el.dom&&!b.within(this.el)){if(this.monitoringMouseOver){Ext.getDoc().un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false;}this.onMouseOut(b);}},onMouseOut:function(c){var d=c.within(this.el)&&c.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,c);if(this.isMenuTriggerOut(c,d)){this.fireEvent("menutriggerout",this,this.menu,c);}},onFocus:function(b){if(!this.disabled){this.el.addClass("x-btn-focus");}},onBlur:function(b){this.el.removeClass("x-btn-focus");},getClickEl:function(c,d){return this.el;},onMouseDown:function(b){if(!this.disabled&&b.button==0){this.getClickEl(b).addClass("x-btn-click");Ext.getDoc().on("mouseup",this.onMouseUp,this);}},onMouseUp:function(b){if(b.button==0){this.getClickEl(b,true).removeClass("x-btn-click");Ext.getDoc().un("mouseup",this.onMouseUp,this);}},onMenuShow:function(b){this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu);},onMenuHide:function(b){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);},restoreClick:function(){this.ignoreNextClick=0;}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var d={};function c(g,a){if(a){var b=d[g.toggleGroup];for(var i=0,l=b.length;i<l;i++){if(b[i]!=g){b[i].toggle(false);}}}}return{register:function(b){if(!b.toggleGroup){return;}var a=d[b.toggleGroup];if(!a){a=d[b.toggleGroup]=[];}a.push(b);b.on("toggle",c);},unregister:function(b){if(!b.toggleGroup){return;}var a=d[b.toggleGroup];if(a){a.remove(b);b.un("toggle",c);}},getPressed:function(a){var b=d[a];if(b){for(var g=0,i=b.length;g<i;g++){if(b[g].pressed===true){return b[g];}}}return null;}};}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick");},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){btn.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip;}},setArrowHandler:function(c,d){this.arrowHandler=c;this.scope=d;},getMenuClass:function(){return this.menu&&this.arrowAlign!="bottom"?"x-btn-split":"x-btn-split-bottom";},isClickOnArrow:function(b){return this.arrowAlign!="bottom"?b.getPageX()>this.el.child(this.buttonSelector).getRegion().right:b.getPageY()>this.el.child(this.buttonSelector).getRegion().bottom;},onClick:function(c,d){c.preventDefault();if(!this.disabled){if(this.isClickOnArrow(c)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu();}this.fireEvent("arrowclick",this,c);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,c);}}else{if(this.enableToggle){this.toggle();}this.fireEvent("click",this,c);if(this.handler){this.handler.call(this.scope||this,this,c);}}}},isMenuTriggerOver:function(b){return this.menu&&b.target.tagName=="em";},isMenuTriggerOut:function(c,d){return this.menu&&c.target.tagName!="em";}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(d){if(d&&this.showText===true){var c="";if(this.prependText){c+=this.prependText;}c+=d.text;return c;}return undefined;},setActiveItem:function(g,e){if(typeof g!="object"){g=this.menu.items.get(g);}if(g){if(!this.rendered){this.text=this.getItemText(g);this.iconCls=g.iconCls;}else{var d=this.getItemText(g);if(d){this.setText(d);}this.setIconClass(g.iconCls);}this.activeItem=g;if(!g.checked){g.setChecked(true,true);}if(this.forceIcon){this.setIconClass(this.forceIcon);}if(!e){this.fireEvent("change",this,g);}}},getActiveItem:function(){return this.activeItem;},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler;}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var h;for(var e=0,g=this.itemCount;e<g;e++){var i=this.items[e];i.group=i.group||this.id;i.itemIndex=e;i.checkHandler=this.checkHandler;i.scope=this;i.checked=i.checked||false;this.menu.items.push(i);if(i.checked){h=i;}}this.setActiveItem(h,true);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);},checkHandler:function(d,c){if(c){this.setActiveItem(d);}},toggleSelected:function(){this.menu.render();var g,e;for(var d=1;d<this.itemCount;d++){g=(this.activeItem.itemIndex+d)%this.itemCount;e=this.menu.items.itemAt(g);if(!e.disabled){e.setChecked(true);break;}}}});Ext.reg("cycle",Ext.CycleButton);Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,triggerWidth:16,lastOverflow:false,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',onLayout:function(r,p){if(!this.leftTr){p.addClass("x-toolbar-layout-ct");p.insertHtml("beforeEnd",'<table cellspacing="0" class="x-toolbar-ct"><tbody><tr><td class="x-toolbar-left" align="left"><table cellspacing="0"><tbody><tr class="x-toolbar-left-row"></tr></tbody></table></td><td class="x-toolbar-right" align="right"><table cellspacing="0" class="x-toolbar-right-ct"><tbody><tr><td><table cellspacing="0"><tbody><tr class="x-toolbar-right-row"></tr></tbody></table></td><td><table cellspacing="0"><tbody><tr class="x-toolbar-extras-row"></tr></tbody></table></td></tr></tbody></td></tr></tbody></table>');this.leftTr=p.child("tr.x-toolbar-left-row",true);this.rightTr=p.child("tr.x-toolbar-right-row",true);this.extrasTr=p.child("tr.x-toolbar-extras-row",true);}var o=this.leftTr;var c=0;var n=r.items.items;for(var s=0,q=n.length,i;s<q;s++,c++){i=n[s];if(i.isFill){o=this.rightTr;c=0;}else{if(!i.rendered){i.render(this.insertCell(i,o,c));}else{if(!i.xtbHidden&&!this.isValidParent(i,o.childNodes[c])){var t=this.insertCell(i,o,c);t.appendChild(i.getDomPositionEl().dom);i.container=Ext.get(t);}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(p);},cleanup:function(c){var h=c.childNodes;for(var g=h.length-1,i;g>=0&&(i=h[g]);g--){if(!i.firstChild){c.removeChild(i);}}},insertCell:function(h,g,i){var c=document.createElement("td");c.className="x-toolbar-cell";g.insertBefore(c,g.childNodes[i]||null);return c;},hideItem:function(c){var d=(this.hiddens=this.hiddens||[]);d.push(c);c.xtbHidden=true;c.xtbWidth=c.getDomPositionEl().dom.parentNode.offsetWidth;c.hide();},unhideItem:function(b){b.show();b.xtbHidden=false;this.hiddens.remove(b);if(this.hiddens.length<1){delete this.hiddens;}},getItemWidth:function(b){return b.hidden?(b.xtbWidth||0):b.getDomPositionEl().dom.parentNode.offsetWidth;},fitToSize:function(c){if(this.container.enableOverflow===false){return;}var i=c.dom.clientWidth;var w=this.lastWidth||0;this.lastWidth=i;var v=c.dom.firstChild.offsetWidth;var p=i-this.triggerWidth;var q=-1;if(v>i||(this.hiddens&&i>w)){var u,s=this.container.items.items,t=s.length,r;var x=0;for(u=0;u<t;u++){r=s[u];if(!r.isFill){x+=this.getItemWidth(r);if(x>p){if(!r.xtbHidden){this.hideItem(r);}}else{if(r.xtbHidden){this.unhideItem(r);}}}}}if(this.hiddens){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true;}}else{if(this.more){this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false;}}}},createMenuConfig:function(g,c){var e=Ext.apply({},g.initialConfig);e.hideOnClick=c;delete e.xtype;return e;},addComponentToMenu:function(d,c){if(c instanceof Ext.Toolbar.Separator){d.add("-");}else{if(typeof c.isXType=="function"){if(c.isXType("splitbutton")){d.add(this.createMenuConfig(c,true));}else{if(c.isXType("button")){d.add(this.createMenuConfig(c,!c.menu));}else{if(c.isXType("buttongroup")){d.add("-");c.items.each(function(a){this.addComponentToMenu(d,a);},this);d.add("-");}}}}}},beforeMoreShow:function(c){c.removeAll();for(var l=0,k=this.container.items.items,h=k.length,i;l<h;l++){i=k[l];if(i.xtbHidden){this.addComponentToMenu(c,i);}}if(c.items.length<1){c.add(this.noItemsMenuText);}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu});var b=this.insertCell(this.more,this.extrasTr,100);this.more.render(b);}}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.Toolbar=function(b){if(Ext.isArray(b)){b={items:b,layout:"toolbar"};}else{b=Ext.apply({layout:"toolbar"},b);if(b.buttons){b.items=b.buttons;}}Ext.Toolbar.superclass.constructor.call(this,b);};(function(){var b=Ext.Toolbar;Ext.extend(b,Ext.Container,{defaultType:"button",trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){b.superclass.initComponent.call(this);this.addEvents("overflowchange");},onRender:function(d,a){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"};}this.el=d.createChild(Ext.apply({id:this.id},this.autoCreate),a);}},add:function(){var i=arguments,a=i.length;for(var h=0;h<a;h++){var g=i[h];if(g.isFormField){this.addField(g);}else{if(g.render){this.addItem(g);}else{if(typeof g=="string"){if(g=="separator"||g=="-"){this.addSeparator();}else{if(g==" "){this.addSpacer();}else{if(g=="->"){this.addFill();}else{this.addText(g);}}}}else{if(g.tag){this.addDom(g);}else{if(g.tagName){this.addElement(g);}else{if(typeof g=="object"){if(g.xtype){this.addItem(Ext.create(g,"button"));}else{this.addButton(g);}}}}}}}}},addSeparator:function(){return this.addItem(new b.Separator());},addSpacer:function(){return this.addItem(new b.Spacer());},addFill:function(){this.addItem(new b.Fill());},addElement:function(a){var d=new b.Item({el:a});this.addItem(d);return d;},addItem:function(a){Ext.Toolbar.superclass.add.apply(this,arguments);return a;},addButton:function(k){if(Ext.isArray(k)){var a=[];for(var i=0,l=k.length;i<l;i++){a.push(this.addButton(k[i]));}return a;}var m=k;if(!m.events){m=k.split?new b.SplitButton(k):new b.Button(k);}this.initMenuTracking(m);this.addItem(m);return m;},initMenuTracking:function(a){if(this.trackMenus&&a.menu){a.on({menutriggerover:this.onButtonTriggerOver,menushow:this.onButtonMenuShow,menuhide:this.onButtonMenuHide,scope:this});}},addText:function(d){var a=new b.TextItem(d);this.addItem(a);return a;},insertButton:function(l,h){if(Ext.isArray(h)){var i=[];for(var k=0,a=h.length;k<a;k++){i.push(this.insertButton(l+k,h[k]));}return i;}if(!(h instanceof b.Button)){h=new b.Button(h);}Ext.Toolbar.superclass.insert.call(this,l,h);return h;},addDom:function(a){var d=new b.Item({autoEl:a});this.addItem(d);return d;},addField:function(a){this.addItem(a);return a;},applyDefaults:function(c){c=Ext.Toolbar.superclass.applyDefaults.call(this,c);var a=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,a);Ext.apply(c,a);}else{Ext.applyIf(c,a);}return c;},onDisable:function(){this.items.each(function(a){if(a.disable){a.disable();}});},onEnable:function(){this.items.each(function(a){if(a.enable){a.enable();}});},onButtonTriggerOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a;}},onButtonMenuShow:function(a){this.activeMenuBtn=a;},onButtonMenuHide:function(a){delete this.activeMenuBtn;}});Ext.reg("toolbar",Ext.Toolbar);b.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",b.Item);b.Separator=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"span",cls:"xtb-sep"},a);}});Ext.reg("tbseparator",b.Separator);b.Spacer=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},a);}});Ext.reg("tbspacer",b.Spacer);b.Fill=Ext.extend(b.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",b.Fill);b.TextItem=Ext.extend(b.Item,{constructor:function(a){if(typeof a=="string"){a={autoEl:{cls:"xtb-text",html:a}};}else{a.autoEl={cls:"xtb-text",html:a.text||""};}b.TextItem.superclass.constructor.call(this,a);},setText:function(a){if(this.rendered){this.el.dom.innerHTML=a;}else{this.autoEl.html=a;}}});Ext.reg("tbtext",b.TextItem);b.Button=Ext.extend(Ext.Button,{});b.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",b.Button);Ext.reg("tbsplit",b.SplitButton);})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle");}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this);},applyDefaults:function(c){c=Ext.ButtonGroup.superclass.applyDefaults.call(this,c);var d=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,d);Ext.apply(c,d);}else{Ext.applyIf(c,d);}return c;},onAfterLayout:function(){var b=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(b);this.el.setWidth(b+this.getFrameWidth());}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var b=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",paramNames:{start:"start",limit:"limit"},constructor:function(a){var e=[this.first=new b.Button({tooltip:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.onClick,scope:this}),this.prev=new b.Button({tooltip:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.onClick,scope:this}),"-",this.beforePageText,this.inputItem=new b.Item({height:18,autoEl:{tag:"input",type:"text",size:"3",value:"1",cls:"x-tbar-page-number"}}),this.afterTextItem=new b.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new b.Button({tooltip:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.onClick,scope:this}),this.last=new b.Button({tooltip:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.onClick,scope:this}),"-",this.refresh=new b.Button({tooltip:this.refreshText,iconCls:"x-tbar-loading",handler:this.onClick,scope:this})];var g=a.items||a.buttons||[];if(a.prependButtons){a.items=g.concat(e);}else{a.items=e.concat(g);}delete a.buttons;if(a.displayInfo){a.items.push("->");a.items.push(this.displayItem=new b.TextItem({}));}Ext.PagingToolbar.superclass.constructor.apply(this,arguments);this.addEvents("change","beforechange");this.cursor=0;this.bind(this.store);this.on("afterlayout",this.onFirstLayout,this,{single:true});},onFirstLayout:function(a){this.inputItem.el.on({keydown:{fn:this.onPagingKeydown,scope:this},focus:function(){this.select();}});this.field=this.inputItem.el.dom;if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded);}},updateInfo:function(){if(this.displayItem){var a=this.store.getCount();var d=a==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.store.getTotalCount());this.displayItem.setText(d);}},onLoad:function(a,m,d){if(!this.rendered){this.dsLoaded=[a,m,d];return;}this.cursor=(d.params&&d.params[this.paramNames.start])?d.params[this.paramNames.start]:0;var k=this.getPageData(),n=k.activePage,l=k.pages;this.afterTextItem.setText(String.format(this.afterPageText,k.pages));this.field.value=n;this.first.setDisabled(n==1);this.prev.setDisabled(n==1);this.next.setDisabled(n==l);this.last.setDisabled(n==l);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,k);},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)};},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()));},onLoadError:function(){if(!this.rendered){return;}this.refresh.enable();},readPage:function(d){var a=this.field.value,g;if(!a||isNaN(g=parseInt(a,10))){this.field.value=d.activePage;return false;}return g;},onPagingKeydown:function(e){var l=e.getKey(),d=this.getPageData(),k;if(l==e.RETURN){e.stopEvent();k=this.readPage(d);if(k!==false){k=Math.min(Math.max(1,k),d.pages)-1;this.doLoad(k*this.pageSize);}}else{if(l==e.HOME||l==e.END){e.stopEvent();k=l==e.HOME?1:d.pages;this.field.value=k;}else{if(l==e.UP||l==e.PAGEUP||l==e.DOWN||l==e.PAGEDOWN){e.stopEvent();if(k=this.readPage(d)){var a=e.shiftKey?10:1;if(l==e.DOWN||l==e.PAGEDOWN){a*=-1;}k+=a;if(k>=1&k<=d.pages){this.field.value=k;}}}}}},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable();}},doLoad:function(e){var g={},a=this.paramNames;g[a.start]=e;g[a.limit]=this.pageSize;if(this.fireEvent("beforechange",this,g)!==false){this.store.load({params:g});}},onClick:function(k){var l=this.store;switch(k){case this.first:this.doLoad(0);break;case this.prev:this.doLoad(Math.max(0,this.cursor-this.pageSize));break;case this.next:this.doLoad(this.cursor+this.pageSize);break;case this.last:var h=l.getTotalCount();var a=h%this.pageSize;var i=a?(h-a):h-this.pageSize;this.doLoad(i);break;case this.refresh:this.doLoad(this.cursor);break;}},unbind:function(a){a=Ext.StoreMgr.lookup(a);a.un("beforeload",this.beforeLoad,this);a.un("load",this.onLoad,this);a.un("loadexception",this.onLoadError,this);this.store=undefined;},bind:function(a){a=Ext.StoreMgr.lookup(a);a.on("beforeload",this.beforeLoad,this);a.on("load",this.onLoad,this);a.on("loadexception",this.onLoadError,this);this.store=a;this.paramNames.start=a.paramNames.start;this.paramNames.limit=a.paramNames.limit;},onDestroy:function(){if(this.store){this.unbind(this.store);}Ext.PagingToolbar.superclass.onDestroy.call(this);}});})();Ext.reg("paging",Ext.PagingToolbar);Ext.Resizable=function(y,x){this.el=Ext.get(y);if(x&&x.wrap){x.resizeChild=this.el;this.el=this.el.wrap(typeof x.wrap=="object"?x.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=x.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(x.resizeChild.getPositioning());x.resizeChild.clearPositioning();if(!x.width||!x.height){var w=x.resizeChild.getSize();this.el.setSize(w.width,w.height);}if(x.pinned&&!x.adjustments){x.adjustments="auto";}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,x);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned");}var t=this.el.getStyle("position");if(t!="absolute"&&t!="fixed"){this.el.setStyle("position","relative");}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w";}}if(this.handles=="all"){this.handles="n s e w ne nw se sw";}var i=this.handles.split(/\s*?[,;]\s*?| /);var z=Ext.Resizable.positions;for(var u=0,s=i.length;u<s;u++){if(i[u]&&z[i[u]]){var q=z[i[u]];this[q]=new Ext.Resizable.Handle(this,q,this.disableTrackOver,this.transparent);}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true;}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true);}else{this.resizeChild=Ext.get(this.resizeChild,true);}}if(this.adjustments=="auto"){var A=this.resizeChild;var r=this.west,v=this.east,B=this.north,i=this.south;if(A&&(r||B)){A.position("relative");A.setLeft(r?r.el.getWidth():0);A.setTop(B?B.el.getHeight():0);}this.adjustments=[(v?-v.el.getWidth():0)+(r?-r.el.getWidth():0),(B?-B.el.getHeight():0)+(i?-i.el.getHeight():0)-1];}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height);}else{this.updateChildSize();}if(Ext.isIE){this.el.dom.style.zoom=1;}Ext.Resizable.superclass.constructor.call(this);};Ext.extend(Ext.Resizable,Ext.util.Observable,{resizeChild:false,adjustments:[0,0],minWidth:5,minHeight:5,maxWidth:10000,maxHeight:10000,enabled:true,animate:false,duration:0.35,dynamic:false,handles:false,multiDirectional:false,disableTrackOver:false,easing:"easeOutStrong",widthIncrement:0,heightIncrement:0,pinned:false,width:null,height:null,preserveRatio:false,transparent:false,minX:0,minY:0,draggable:false,resizeTo:function(c,d){this.el.setSize(c,d);this.updateChildSize();this.fireEvent("resize",this,c,d,null);},startSizing:function(g,d){this.fireEvent("beforeresize",this,g);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on("mousemove",this.onMouseMove,this);this.overlay.on("mouseup",this.onMouseUp,this);}this.overlay.setStyle("cursor",d.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=g.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var e=Ext.get(this.constrainTo);this.resizeRegion=e.getRegion().adjust(e.getFrameWidth("t"),e.getFrameWidth("l"),-e.getFrameWidth("b"),-e.getFrameWidth("r"));}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible");}}},onMouseDown:function(d,c){if(this.enabled){c.stopEvent();this.activeHandle=d;this.startSizing(c,d);}},onMouseUp:function(c){var d=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,d.width,d.height,c);},updateChildSize:function(){if(this.resizeChild){var h=this.el;var g=this.resizeChild;var i=this.adjustments;if(h.dom.offsetWidth){var b=h.getSize(true);g.setSize(b.width+i[0],b.height+i[1]);}if(Ext.isIE){setTimeout(function(){if(h.dom.offsetWidth){var a=h.getSize(true);g.setSize(a.width+i[0],a.height+i[1]);}},10);}}},snap:function(l,i,g){if(!i||!l){return l;}var k=l;var h=l%i;if(h>0){if(h>(i/2)){k=l+(i-h);}else{k=l-h;}}return Math.max(g,k);},resizeElement:function(){var b=this.proxy.getBox();if(this.updateBox){this.el.setBox(b,false,this.animate,this.duration,null,this.easing);}else{this.el.setSize(b.width,b.height,this.animate,this.duration,null,this.easing);}this.updateChildSize();if(!this.dynamic){this.proxy.hide();}return b;},constrain:function(e,i,g,h){if(e-i<g){i=e-g;}else{if(e-i>h){i=h-e;}}return i;},onMouseMove:function(e){if(this.enabled){try{if(this.resizeRegion&&!this.resizeRegion.contains(e.getPoint())){return;}var w=this.curSize||this.startBox;var P=this.startBox.x,Q=this.startBox.y;var V=P,W=Q;var O=w.width,h=w.height;var U=O,M=h;var N=this.minWidth,L=this.minHeight;var y=this.maxWidth,G=this.maxHeight;var S=this.widthIncrement;var X=this.heightIncrement;var K=e.getXY();var F=-(this.startPoint[0]-Math.max(this.minX,K[0]));var J=-(this.startPoint[1]-Math.max(this.minY,K[1]));var R=this.activeHandle.position;switch(R){case"east":O+=F;O=Math.min(Math.max(N,O),y);break;case"south":h+=J;h=Math.min(Math.max(L,h),G);break;case"southeast":O+=F;h+=J;O=Math.min(Math.max(N,O),y);h=Math.min(Math.max(L,h),G);break;case"north":J=this.constrain(h,J,L,G);Q+=J;h-=J;break;case"west":F=this.constrain(O,F,N,y);P+=F;O-=F;break;case"northeast":O+=F;O=Math.min(Math.max(N,O),y);J=this.constrain(h,J,L,G);Q+=J;h-=J;break;case"northwest":F=this.constrain(O,F,N,y);J=this.constrain(h,J,L,G);Q+=J;h-=J;P+=F;O-=F;break;case"southwest":F=this.constrain(O,F,N,y);h+=J;h=Math.min(Math.max(L,h),G);P+=F;O-=F;break;}var I=this.snap(O,S,N);var H=this.snap(h,X,L);if(I!=O||H!=h){switch(R){case"northeast":Q-=H-h;break;case"north":Q-=H-h;break;case"southwest":P-=I-O;break;case"west":P-=I-O;break;case"northwest":P-=I-O;Q-=H-h;break;}O=I;h=H;}if(this.preserveRatio){switch(R){case"southeast":case"east":h=M*(O/U);h=Math.min(Math.max(L,h),G);O=U*(h/M);break;case"south":O=U*(h/M);O=Math.min(Math.max(N,O),y);h=M*(O/U);break;case"northeast":O=U*(h/M);O=Math.min(Math.max(N,O),y);h=M*(O/U);break;case"north":var x=O;O=U*(h/M);O=Math.min(Math.max(N,O),y);h=M*(O/U);P+=(x-O)/2;break;case"southwest":h=M*(O/U);h=Math.min(Math.max(L,h),G);var x=O;O=U*(h/M);P+=x-O;break;case"west":var T=h;h=M*(O/U);h=Math.min(Math.max(L,h),G);Q+=(T-h)/2;var x=O;O=U*(h/M);P+=x-O;break;case"northwest":var x=O;var T=h;h=M*(O/U);h=Math.min(Math.max(L,h),G);O=U*(h/M);Q+=T-h;P+=x-O;break;}}this.proxy.setBounds(P,Q,O,h);if(this.dynamic){this.resizeElement();}}catch(e){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over");}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over");}},getEl:function(){return this.el;},getResizeChild:function(){return this.resizeChild;},destroy:function(d){if(this.dd){this.dd.destroy();}if(this.overlay){Ext.destroy(this.overlay);this.overlay=null;}Ext.destroy(this.proxy);this.proxy=null;var g=Ext.Resizable.positions;for(var e in g){if(typeof g[e]!="function"&&this[g[e]]){this[g[e]].destroy();}}if(d){this.el.update("");Ext.destroy(this.el);this.el=null;}},syncHandleHeight:function(){var b=this.el.getHeight(true);if(this.west){this.west.el.setHeight(b);}if(this.east){this.east.el.setHeight(b);}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=function(l,i,g,k){if(!this.tpl){var h=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});h.compile();Ext.Resizable.Handle.prototype.tpl=h;}this.position=i;this.rz=l;this.el=this.tpl.append(l.el.dom,[this.position],true);this.el.unselectable();if(k){this.el.setOpacity(0);}this.el.on("mousedown",this.onMouseDown,this);if(!g){this.el.on("mouseover",this.onMouseOver,this);this.el.on("mouseout",this.onMouseOut,this);}};Ext.Resizable.Handle.prototype={afterResize:function(b){},onMouseDown:function(b){this.rz.onMouseDown(this,b);},onMouseOver:function(b){this.rz.handleOver(this,b);},onMouseOut:function(b){this.rz.handleOut(this,b);},destroy:function(){Ext.destroy(this.el);this.el=null;}};Ext.Editor=function(c,d){if(c.field){this.field=Ext.create(c.field,"textfield");d=Ext.apply({},c);delete d.field;}else{this.field=c;}Ext.Editor.superclass.constructor.call(this,d);};Ext.extend(Ext.Editor,Ext.Component,{value:"",alignment:"c-c?",shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:false,cancelOnEsc:false,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey");},onRender:function(c,d){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:c,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex);}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip";}this.field.inEditor=true;this.field.render(this.el);if(Ext.isGecko){this.field.el.dom.setAttribute("autocomplete","off");}this.field.on("specialkey",this.onSpecialKey,this);if(this.swallowKeys){this.field.el.swallowEvent(["keydown","keypress"]);}this.field.show();this.field.on("blur",this.onBlur,this);if(this.field.grow){this.field.on("autosize",this.el.sync,this.el,{delay:1});}},onSpecialKey:function(g,d){var e=d.getKey();if(this.completeOnEnter&&e==d.ENTER){d.stopEvent();this.completeEdit();}else{if(this.cancelOnEsc&&e==d.ESC){this.cancelEdit();}else{this.fireEvent("specialkey",g,d);}}if(this.field.triggerBlur&&(e==d.ENTER||e==d.ESC||e==d.TAB)){this.field.triggerBlur();}},startEdit:function(d,g){if(this.editing){this.completeEdit();}this.boundEl=Ext.get(d);var e=g!==undefined?g:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body);}if(this.fireEvent("beforestartedit",this,this.boundEl,e)===false){return;}this.startValue=e;this.field.setValue(e);this.doAutoSize();this.el.alignTo(this.boundEl,this.alignment);this.editing=true;this.show();},doAutoSize:function(){if(this.autoSize){var b=this.boundEl.getSize();switch(this.autoSize){case"width":this.setSize(b.width,"");break;case"height":this.setSize("",b.height);break;default:this.setSize(b.width,b.height);}}},setSize:function(d,c){delete this.field.lastSize;this.field.setSize(d,c);if(this.el){if(Ext.isGecko2||Ext.isOpera){this.el.setSize(d,c);}this.el.sync();}},realign:function(){this.el.alignTo(this.boundEl,this.alignment);},completeEdit:function(d){if(!this.editing){return;}var c=this.getValue();if(this.revertInvalid!==false&&!this.field.isValid()){c=this.startValue;this.cancelEdit(true);}if(String(c)===String(this.startValue)&&this.ignoreNoChange){this.editing=false;this.hide();return;}if(this.fireEvent("beforecomplete",this,c,this.startValue)!==false){this.editing=false;if(this.updateEl&&this.boundEl){this.boundEl.update(c);}if(d!==true){this.hide();}this.fireEvent("complete",this,c,this.startValue);}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide();}this.field.show();if(Ext.isIE&&!this.fixIEFocus){this.fixIEFocus=true;this.deferredFocus.defer(50,this);}else{this.field.focus();}this.fireEvent("startedit",this.boundEl,this.startValue);},deferredFocus:function(){if(this.editing){this.field.focus();}},cancelEdit:function(d){if(this.editing){var c=this.getValue();this.setValue(this.startValue);if(d!==true){this.hide();}this.fireEvent("canceledit",this,c,this.startValue);}},onBlur:function(){if(this.allowBlur!==true&&this.editing){this.completeEdit();}},onHide:function(){if(this.editing){this.completeEdit();return;}this.field.blur();if(this.field.collapse){this.field.collapse();}this.el.hide();if(this.hideEl!==false){this.boundEl.show();}},setValue:function(b){this.field.setValue(b);},getValue:function(){return this.field.getValue();},beforeDestroy:function(){Ext.destroy(this.field);this.field=null;}});Ext.reg("editor",Ext.Editor);Ext.MessageBox=function(){var y,O,C,z;var J,G,A,P,F,D,I,K;var B,x,E,N="";var M=function(a){if(y.isVisible()){y.hide();Ext.callback(O.fn,O.scope||window,[a,x.dom.value,O],1);}};var w=function(){if(O&&O.cls){y.el.removeClass(O.cls);}F.reset();};var L=function(c,b,a){if(O&&O.closable!==false){y.hide();}if(a){a.stopEvent();}};var H=function(b){var c=0;if(!b){B.ok.hide();B.cancel.hide();B.yes.hide();B.no.hide();return c;}y.footer.dom.style.display="";for(var a in B){if(typeof B[a]!="function"){if(b[a]){B[a].show();B[a].setText(typeof b[a]=="string"?b[a]:Ext.MessageBox.buttonText[a]);c+=B[a].el.getWidth()+15;}else{B[a].hide();}}}return c;};return{getDialog:function(b){if(!y){y=new Ext.Window({autoCreate:true,title:b,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(O&&O.buttons&&O.buttons.no&&!O.buttons.cancel){M("no");}else{M("cancel");}}});B={};var a=this.buttonText;B.ok=y.addButton(a.ok,M.createCallback("ok"));B.yes=y.addButton(a.yes,M.createCallback("yes"));B.no=y.addButton(a.no,M.createCallback("no"));B.cancel=y.addButton(a.cancel,M.createCallback("cancel"));B.ok.hideMode=B.yes.hideMode=B.no.hideMode=B.cancel.hideMode="offsets";y.render(document.body);y.getEl().addClass("x-window-dlg");C=y.mask;J=y.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});I=Ext.get(J.dom.firstChild);var c=J.dom.childNodes[1];G=Ext.get(c.firstChild);A=Ext.get(c.childNodes[2].firstChild);A.enableDisplayMode();A.addKeyListener([10,13],function(){if(y.isVisible()&&O&&O.buttons){if(O.buttons.ok){M("ok");}else{if(O.buttons.yes){M("yes");}}}});P=Ext.get(c.childNodes[2].childNodes[1]);P.enableDisplayMode();F=new Ext.ProgressBar({renderTo:J});J.createChild({cls:"x-clear"});}return y;},updateText:function(b){if(!y.isVisible()&&!O.width){y.setSize(this.maxWidth,100);}G.update(b||"&#160;");var g=N!=""?(I.getWidth()+I.getMargins("lr")):0;var d=G.getWidth()+G.getMargins("lr");var c=y.getFrameWidth("lr");var e=y.body.getFrameWidth("lr");if(Ext.isIE&&g>0){g+=3;}var a=Math.max(Math.min(O.width||g+d+c+e,this.maxWidth),Math.max(O.minWidth||this.minWidth,E||0));if(O.prompt===true){x.setWidth(a-g-c-e);}if(O.progress===true||O.wait===true){F.setSize(a-g-c-e);}y.setSize(a,"auto").center();return this;},updateProgress:function(a,b,c){F.updateProgress(a,b);if(c){this.updateText(c);}return this;},isVisible:function(){return y&&y.isVisible();},hide:function(){if(this.isVisible()){y.hide();w();}return this;},show:function(d){if(this.isVisible()){this.hide();}O=d;var b=this.getDialog(O.title||"&#160;");b.setTitle(O.title||"&#160;");var c=(O.closable!==false&&O.progress!==true&&O.wait!==true);b.tools.close.setDisplayed(c);x=A;O.prompt=O.prompt||(O.multiline?true:false);if(O.prompt){if(O.multiline){A.hide();P.show();P.setHeight(typeof O.multiline=="number"?O.multiline:this.defaultTextHeight);x=P;}else{A.show();P.hide();}}else{A.hide();P.hide();}x.dom.value=O.value||"";if(O.prompt){b.focusEl=x;}else{var e=O.buttons;var a=null;if(e&&e.ok){a=B.ok;}else{if(e&&e.yes){a=B.yes;}}if(a){b.focusEl=a;}}if(O.iconCls){b.setIconClass(O.iconCls);}this.setIcon(O.icon);E=H(O.buttons);F.setVisible(O.progress===true||O.wait===true);this.updateProgress(0,O.progressText);this.updateText(O.msg);if(O.cls){b.el.addClass(O.cls);}b.proxyDrag=O.proxyDrag===true;b.modal=O.modal!==false;b.mask=O.modal!==false?C:false;if(!b.isVisible()){document.body.appendChild(y.el.dom);b.setAnimateTarget(O.animEl);b.show(O.animEl);}b.on("show",function(){if(c===true){b.keyMap.enable();}else{b.keyMap.disable();}},this,{single:true});if(O.wait===true){F.wait(O.waitConfig);}return this;},setIcon:function(a){if(a&&a!=""){I.removeClass("x-hidden");I.replaceClass(N,a);N=a;}else{I.replaceClass(N,"x-hidden");N="";}return this;},progress:function(c,a,b){this.show({title:c,msg:a,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:b});return this;},wait:function(c,a,b){this.show({title:a,msg:c,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:b});return this;},alert:function(c,d,a,b){this.show({title:c,msg:d,buttons:this.OK,fn:a,scope:b});return this;},confirm:function(c,d,a,b){this.show({title:c,msg:d,buttons:this.YESNO,fn:a,scope:b,icon:this.QUESTION});return this;},prompt:function(g,b,e,a,c,d){this.show({title:g,msg:b,buttons:this.OKCANCEL,fn:e,minWidth:250,scope:a,prompt:true,multiline:c,value:d});return this;},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}};}();Ext.Msg=Ext.MessageBox;Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header";}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this});}},showAt:function(b){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth();}if(this.constrainPosition){b=this.el.adjustForConstraints(b);}this.setPagePosition(b[0],b[1]);},doAutoWidth:function(){var b=this.body.getTextWidth();if(this.title){b=Math.max(b,this.header.child("span").getTextWidth(this.title));}b+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr");this.setWidth(b.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true;}},showBy:function(d,c){if(!this.rendered){this.render(Ext.getBody());}this.showAt(this.el.getAlignToXY(d,c||this.defaultAlign));},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable");}});Ext.Tip.DD=function(c,d){Ext.apply(this,d);this.tip=c;Ext.Tip.DD.superclass.constructor.call(this,c.el.id,"WindowDD-"+c.id);this.setHandleElId(c.header.id);this.scroll=false;};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow();},endDrag:function(b){this.tip.el.enableShadow(true);}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,mouseOffset:[15,18],trackMouse:false,constrainPosition:true,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget();},initTarget:function(){if(this.target){this.target=Ext.get(this.target);this.target.on("mouseover",this.onTargetOver,this);this.target.on("mouseout",this.onTargetOut,this);this.target.on("mousemove",this.onMouseMove,this);}},onMouseMove:function(b){this.targetXY=b.getXY();if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY());}},getTargetXY:function(){return[this.targetXY[0]+this.mouseOffset[0],this.targetXY[1]+this.mouseOffset[1]];},onTargetOver:function(b){if(this.disabled||b.within(this.target.dom,true)){return;}this.clearTimer("hide");this.targetXY=b.getXY();this.delayShow();},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show();}else{this.showTimer=this.show.defer(this.showDelay,this);}}else{if(!this.hidden&&this.autoHide!==false){this.show();}}},onTargetOut:function(b){if(this.disabled||b.within(this.target.dom,true)){return;}this.clearTimer("show");if(this.autoHide!==false){this.delayHide();}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this);}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();Ext.ToolTip.superclass.hide.call(this);},show:function(){this.showAt(this.getTargetXY());},showAt:function(b){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,b);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this);}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b];},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide");},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this);},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this);},onDocMouseDown:function(b){if(this.autoHide!==false&&!b.within(this.el.dom)){this.disable();this.enable.defer(100,this);}},onDisable:function(){this.clearTimers();this.hide();},adjustPosition:function(g,h){var i=this.targetXY[1],e=this.getSize().height;if(this.constrainPosition&&h<=i&&(h+e)>=i){h=i-e-5;}return{x:g,y:h};},onDestroy:function(){Ext.ToolTip.superclass.onDestroy.call(this);if(this.target){this.target.un("mouseover",this.onTargetOver,this);this.target.un("mouseout",this.onTargetOut,this);this.target.un("mousemove",this.onMouseMove,this);}}});Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this);},register:function(q){var o=Ext.isArray(q)?q:arguments;for(var p=0,m=o.length;p<m;p++){var i=o[p];var n=i.target;if(n){if(Ext.isArray(n)){for(var r=0,c=n.length;r<c;r++){this.targets[Ext.id(n[r])]=i;}}else{this.targets[Ext.id(n)]=i;}}}},unregister:function(b){delete this.targets[Ext.id(b)];},onTargetOver:function(l){if(this.disabled){return;}this.targetXY=l.getXY();var p=l.getTarget();if(!p||p.nodeType!==1||p==document||p==document.body){return;}if(this.activeTarget&&p==this.activeTarget.el){this.clearTimer("hide");this.show();return;}if(p&&this.targets[p.id]){this.activeTarget=this.targets[p.id];this.activeTarget.el=p;this.delayShow();return;}var n,m=Ext.fly(p),e=this.tagConfig;var o=e.namespace;if(this.interceptTitles&&p.title){n=p.title;p.qtip=n;p.removeAttribute("title");l.preventDefault();}else{n=p.qtip||m.getAttributeNS(o,e.attribute);}if(n){var k=m.getAttributeNS(o,e.hide);this.activeTarget={el:p,text:n,width:m.getAttributeNS(o,e.width),autoHide:k!="user"&&k!=="false",title:m.getAttributeNS(o,e.title),cls:m.getAttributeNS(o,e.cls),align:m.getAttributeNS(o,e.align)};this.delayShow();}},onTargetOut:function(b){this.clearTimer("show");if(this.autoHide!==false){this.delayHide();}},showAt:function(c){var d=this.activeTarget;if(d){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=d;}if(d.width){this.setWidth(d.width);this.body.setWidth(this.adjustBodyWidth(d.width-this.getFrameWidth()));this.measureWidth=false;}else{this.measureWidth=true;}this.setTitle(d.title||"");this.body.update(d.text);this.autoHide=d.autoHide;this.dismissDelay=d.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls;}if(d.cls){this.el.addClass(d.cls);this.lastCls=d.cls;}if(d.align){c=this.el.getAlignToXY(d.el,d.align);this.constrainPosition=false;}else{this.constrainPosition=true;}}Ext.QuickTip.superclass.showAt.call(this,c);},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this);}});Ext.QuickTips=function(){var c,d=[];return{init:function(a){if(!c){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(a);});return;}c=new Ext.QuickTip({elements:"header,body"});if(a!==false){c.render(Ext.getBody());}}},enable:function(){if(c){d.pop();if(d.length<1){c.enable();}}},disable:function(){if(c){c.disable();}d.push(1);},isEnabled:function(){return c!==undefined&&!c.disabled;},getQuickTip:function(){return c;},register:function(){c.register.apply(c,arguments);},unregister:function(){c.unregister.apply(c,arguments);},tips:function(){c.register.apply(c,arguments);}};}();Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this);}var b=this.loader;if(!b){b=new Ext.tree.TreeLoader({dataUrl:this.dataUrl});}else{if(typeof b=="object"&&!b.load){b=new Ext.tree.TreeLoader(b);}}this.loader=b;this.nodeHash={};if(this.root){this.setRootNode(this.root);}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","checkchange","dblclick","contextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this);}},proxyNodeEvent:function(p,i,k,l,m,n,o){if(p=="collapse"||p=="expand"||p=="beforecollapse"||p=="beforeexpand"||p=="move"||p=="beforemove"){p=p+"node";}return this.fireEvent(p,i,k,l,m,n,o);},getRootNode:function(){return this.root;},setRootNode:function(c){if(!c.render){c=this.loader.createNode(c);}this.root=c;c.ownerTree=this;c.isRoot=true;this.registerNode(c);if(!this.rootVisible){var d=c.attributes.uiProvider;c.ui=d?new d(c):new Ext.tree.RootTreeNodeUI(c);}return c;},getNodeById:function(b){return this.nodeHash[b];},registerNode:function(b){this.nodeHash[b.id]=b;},unregisterNode:function(b){delete this.nodeHash[b.id];},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]";},restrictExpand:function(d){var c=d.parentNode;if(c){if(c.expandedChild&&c.expandedChild.parentNode==c){c.expandedChild.collapse();}c.expandedChild=d;}},getChecked:function(a,i){i=i||this.root;var h=[];var g=function(){if(this.attributes.checked){h.push(!a?this:(a=="id"?this.id:this.attributes[a]));}};i.cascade(g);return h;},getEl:function(){return this.el;},getLoader:function(){return this.loader;},expandAll:function(){this.root.expand(true);},collapseAll:function(){this.root.collapse(true);},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel();}return this.selModel;},expandPath:function(m,k,l){k=k||"id";var o=m.split(this.pathSeparator);var p=this.root;if(p.attributes[k]!=o[1]){if(l){l(false,null);}return;}var i=1;var n=function(){if(++i==o.length){if(l){l(true,p);}return;}var a=p.findChild(k,o[i]);if(!a){if(l){l(false,p);}return;}p=a;a.expand(false,false,n);};p.expand(false,false,n);},selectPath:function(l,i,k){i=i||"id";var n=l.split(this.pathSeparator);var h=n.pop();if(n.length>0){var m=function(b,c){if(b&&c){var a=c.findChild(i,h);if(a){a.select();if(k){k(true,a);}}else{if(k){k(false,a);}}}else{if(k){k(false,a);}}};this.expandPath(n.join(this.pathSeparator),i,m);}else{this.root.select();if(k){k(true,this.root);}}},getTreeEl:function(){return this.body;},onRender:function(c,d){Ext.tree.TreePanel.superclass.onRender.call(this,c,d);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")});},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body);}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true});}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll});}this.getSelectionModel().init(this);},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.root.render();if(!this.rootVisible){this.root.renderChildren();}},onDestroy:function(){if(this.rendered){this.body.removeAllListeners();Ext.dd.ScrollManager.unregister(this.body);if(this.dropZone){this.dropZone.unreg();}if(this.dragZone){this.dragZone.unreg();}}this.root.destroy();this.nodeHash=null;Ext.tree.TreePanel.superclass.onDestroy.call(this);}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(b){this.tree=b;this.tree.on("render",this.initEvents,this);};Ext.tree.TreeEventModel.prototype={initEvents:function(){var b=this.tree.getTreeEl();b.on("click",this.delegateClick,this);if(this.tree.trackMouseOver!==false){b.on("mouseover",this.delegateOver,this);b.on("mouseout",this.delegateOut,this);}b.on("dblclick",this.delegateDblClick,this);b.on("contextmenu",this.delegateContextMenu,this);},getNode:function(d){var e;if(e=d.getTarget(".x-tree-node-el",10)){var g=Ext.fly(e,"_treeEvents").getAttributeNS("ext","tree-node-id");if(g){return this.tree.getNodeById(g);}}return null;},getNodeTarget:function(c){var d=c.getTarget(".x-tree-node-icon",1);if(!d){d=c.getTarget(".x-tree-node-el",6);}return d;},delegateOut:function(d,e){if(!this.beforeEvent(d)){return;}if(d.getTarget(".x-tree-ec-icon",1)){var g=this.getNode(d);this.onIconOut(d,g);if(g==this.lastEcOver){delete this.lastEcOver;}}if((e=this.getNodeTarget(d))&&!d.within(e,true)){this.onNodeOut(d,this.getNode(d));}},delegateOver:function(c,d){if(!this.beforeEvent(c)){return;}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true;}if(this.lastEcOver){this.onIconOut(c,this.lastEcOver);delete this.lastEcOver;}if(c.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(c);this.onIconOver(c,this.lastEcOver);}if(d=this.getNodeTarget(c)){this.onNodeOver(c,this.getNode(c));}},trackExit:function(b){if(this.lastOverNode&&!b.within(this.lastOverNode.ui.getEl())){this.onNodeOut(b,this.lastOverNode);delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false;}},delegateClick:function(c,d){if(!this.beforeEvent(c)){return;}if(c.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(c,this.getNode(c));}else{if(c.getTarget(".x-tree-ec-icon",1)){this.onIconClick(c,this.getNode(c));}else{if(this.getNodeTarget(c)){this.onNodeClick(c,this.getNode(c));}}}},delegateDblClick:function(c,d){if(this.beforeEvent(c)&&this.getNodeTarget(c)){this.onNodeDblClick(c,this.getNode(c));}},delegateContextMenu:function(c,d){if(this.beforeEvent(c)&&this.getNodeTarget(c)){this.onNodeContextMenu(c,this.getNode(c));}},onNodeClick:function(c,d){d.ui.onClick(c);},onNodeOver:function(c,d){this.lastOverNode=d;d.ui.onOver(c);},onNodeOut:function(c,d){d.ui.onOut(c);},onIconOver:function(c,d){d.ui.addClass("x-tree-ec-over");},onIconOut:function(c,d){d.ui.removeClass("x-tree-ec-over");},onIconClick:function(c,d){d.ui.ecClick(c);},onCheckboxClick:function(c,d){d.ui.onCheckChange(c);},onNodeDblClick:function(c,d){d.ui.onDblClick(c);},onNodeContextMenu:function(c,d){d.ui.onContextMenu(c);},beforeEvent:function(b){if(this.disabled){b.stopEvent();return false;}return true;},disable:function(){this.disabled=true;},enable:function(){this.disabled=false;}};Ext.tree.DefaultSelectionModel=function(b){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,b);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.tree.DefaultSelectionModel,Ext.util.Observable,{init:function(b){this.tree=b;b.getTreeEl().on("keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this);},onNodeClick:function(d,c){this.select(d);},select:function(c){var d=this.selNode;if(d!=c&&this.fireEvent("beforeselect",this,c,d)!==false){if(d){d.ui.onSelectedChange(false);}this.selNode=c;c.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,c,d);}return c;},unselect:function(b){if(this.selNode==b){this.clearSelections();}},clearSelections:function(){var b=this.selNode;if(b){b.ui.onSelectedChange(false);this.selNode=null;this.fireEvent("selectionchange",this,null);}return b;},getSelectedNode:function(){return this.selNode;},isSelected:function(b){return this.selNode==b;},selectPrevious:function(){var e=this.selNode||this.lastSelNode;if(!e){return null;}var g=e.previousSibling;if(g){if(!g.isExpanded()||g.childNodes.length<1){return this.select(g);}else{var d=g.lastChild;while(d&&d.isExpanded()&&d.childNodes.length>0){d=d.lastChild;}return this.select(d);}}else{if(e.parentNode&&(this.tree.rootVisible||!e.parentNode.isRoot)){return this.select(e.parentNode);}}return null;},selectNext:function(){var c=this.selNode||this.lastSelNode;if(!c){return null;}if(c.firstChild&&c.isExpanded()){return this.select(c.firstChild);}else{if(c.nextSibling){return this.select(c.nextSibling);}else{if(c.parentNode){var d=null;c.parentNode.bubble(function(){if(this.nextSibling){d=this.getOwnerTree().selModel.select(this.nextSibling);return false;}});return d;}}}return null;},onKeyDown:function(i){var e=this.selNode||this.lastSelNode;var h=this;if(!e){return;}var g=i.getKey();switch(g){case i.DOWN:i.stopEvent();this.selectNext();break;case i.UP:i.stopEvent();this.selectPrevious();break;case i.RIGHT:i.preventDefault();if(e.hasChildNodes()){if(!e.isExpanded()){e.expand();}else{if(e.firstChild){this.select(e.firstChild,i);}}}break;case i.LEFT:i.preventDefault();if(e.hasChildNodes()&&e.isExpanded()){e.collapse();}else{if(e.parentNode&&(this.tree.rootVisible||e.parentNode!=this.tree.getRootNode())){this.select(e.parentNode,i);}}break;}}});Ext.tree.MultiSelectionModel=function(b){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,b);Ext.tree.MultiSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.tree.MultiSelectionModel,Ext.util.Observable,{init:function(b){this.tree=b;b.getTreeEl().on("keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this);},onNodeClick:function(d,c){this.select(d,c,c.ctrlKey);},select:function(e,g,d){if(d!==true){this.clearSelections(true);}if(this.isSelected(e)){this.lastSelNode=e;return e;}this.selNodes.push(e);this.selMap[e.id]=e;this.lastSelNode=e;e.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return e;},unselect:function(d){if(this.selMap[d.id]){d.ui.onSelectedChange(false);var g=this.selNodes;var e=g.indexOf(d);if(e!=-1){this.selNodes.splice(e,1);}delete this.selMap[d.id];this.fireEvent("selectionchange",this,this.selNodes);}},clearSelections:function(e){var h=this.selNodes;if(h.length>0){for(var i=0,g=h.length;i<g;i++){h[i].ui.onSelectedChange(false);}this.selNodes=[];this.selMap={};if(e!==true){this.fireEvent("selectionchange",this,this.selNodes);}}},isSelected:function(b){return this.selMap[b.id]?true:false;},getSelectedNodes:function(){return this.selNodes;},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.tree.TreeNode=function(d){d=d||{};if(typeof d=="string"){d={text:d};}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,d);this.expanded=d.expanded===true;this.isTarget=d.isTarget!==false;this.draggable=d.draggable!==false&&d.allowDrag!==false;this.allowChildren=d.allowChildren!==false&&d.allowDrop!==false;this.text=d.text;this.disabled=d.disabled===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","dblclick","contextmenu","beforechildrenrendered");var c=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new c(this);};Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:true,isExpanded:function(){return this.expanded;},getUI:function(){return this.ui;},getLoader:function(){var b;return this.loader||((b=this.getOwnerTree())&&b.loader?b.loader:new Ext.tree.TreeLoader());},setFirstChild:function(d){var c=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,d);if(this.childrenRendered&&c&&d!=c){c.renderIndent(true,true);}if(this.rendered){this.renderIndent(true,true);}},setLastChild:function(c){var d=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,c);if(this.childrenRendered&&d&&c!=d){d.renderIndent(true,true);}if(this.rendered){this.renderIndent(true,true);}},appendChild:function(c){if(!c.render&&!Ext.isArray(c)){c=this.getLoader().createNode(c);}var d=Ext.tree.TreeNode.superclass.appendChild.call(this,c);if(d&&this.childrenRendered){d.render();}this.ui.updateExpandIcon();return d;},removeChild:function(b){this.ownerTree.getSelectionModel().unselect(b);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(this.childrenRendered){b.ui.remove();}if(this.childNodes.length<1){this.collapse(false,false);}else{this.ui.updateExpandIcon();}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false;}return b;},insertBefore:function(g,e){if(!g.render){g=this.getLoader().createNode(g);}var d=Ext.tree.TreeNode.superclass.insertBefore.call(this,g,e);if(d&&e&&this.childrenRendered){g.render();}this.ui.updateExpandIcon();return d;},setText:function(c){var d=this.text;this.text=c;this.attributes.text=c;if(this.rendered){this.ui.onTextChange(this,c,d);}this.fireEvent("textchange",this,c,d);},select:function(){this.getOwnerTree().getSelectionModel().select(this);},unselect:function(){this.getOwnerTree().getSelectionModel().unselect(this);},isSelected:function(){return this.getOwnerTree().getSelectionModel().isSelected(this);},expand:function(e,d,g){if(!this.expanded){if(this.fireEvent("beforeexpand",this,e,d)===false){return;}if(!this.childrenRendered){this.renderChildren();}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&d!==false)||d){this.ui.animExpand(function(){this.fireEvent("expand",this);if(typeof g=="function"){g(this);}if(e===true){this.expandChildNodes(true);}}.createDelegate(this));return;}else{this.ui.expand();this.fireEvent("expand",this);if(typeof g=="function"){g(this);}}}else{if(typeof g=="function"){g(this);}}if(e===true){this.expandChildNodes(true);}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible;},collapse:function(g,i){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,g,i)===false){return;}this.expanded=false;if((this.getOwnerTree().animate&&i!==false)||i){this.ui.animCollapse(function(){this.fireEvent("collapse",this);if(g===true){this.collapseChildNodes(true);}}.createDelegate(this));return;}else{this.ui.collapse();this.fireEvent("collapse",this);}}if(g===true){var k=this.childNodes;for(var l=0,h=k.length;l<h;l++){k[l].collapse(true,false);}}},delayedExpand:function(b){if(!this.expandProcId){this.expandProcId=this.expand.defer(b,this);}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);}this.expandProcId=false;},toggle:function(){if(this.expanded){this.collapse();}else{this.expand();}},ensureVisible:function(c){var d=this.getOwnerTree();d.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var a=d.getNodeById(this.id);d.getTreeEl().scrollChildIntoView(a.ui.anchor);Ext.callback(c);}.createDelegate(this));},expandChildNodes:function(e){var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].expand(e);}},collapseChildNodes:function(e){var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].collapse(e);}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true);}this.fireEvent("disabledchange",this,true);},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false);}this.fireEvent("disabledchange",this,false);},renderChildren:function(e){if(e!==false){this.fireEvent("beforechildrenrendered",this);}var h=this.childNodes;for(var i=0,g=h.length;i<g;i++){h[i].render(true);}this.childrenRendered=true;},sort:function(i,k){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var l=this.childNodes;for(var g=0,h=l.length;g<h;g++){l[g].render(true);}}},render:function(b){this.ui.render(b);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false);}}},renderIndent:function(g,i){if(i){this.ui.childIndent=null;}this.ui.renderIndent();if(g===true&&this.childrenRendered){var k=this.childNodes;for(var l=0,h=k.length;l<h;l++){k[l].renderIndent(true,i);}}},beginUpdate:function(){this.childrenRendered=false;},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren();}},destroy:function(){if(this.childNodes){for(var c=0,d=this.childNodes.length;c<d;c++){this.childNodes[c].destroy();}this.childNodes=null;}if(this.ui.destroy){this.ui.destroy();}}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(b){this.loaded=b&&b.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load");};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(h,m,k){if(this.loading){var l;var n=function(){if(!this.loading){clearInterval(l);this.expand(h,m,k);}}.createDelegate(this);l=setInterval(n,200);return;}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return;}this.loading=true;this.ui.beforeLoad(this);var i=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(i){i.load(this,this.loadComplete.createDelegate(this,[h,m,k]));return;}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,h,m,k);},isLoading:function(){return this.loading;},loadComplete:function(e,d,g){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(e,d,g);},isLoaded:function(){return this.loaded;},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true;}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this);}},reload:function(b){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild);}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false;}this.expand(false,false,b);}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=function(b){this.node=b;this.rendered=false;this.animating=false;this.wasLeaf=true;this.ecc="x-tree-ec-icon x-tree-elbow";this.emptyIcon=Ext.BLANK_IMAGE_URL;};Ext.tree.TreeNodeUI.prototype={removeChild:function(b){if(this.rendered){this.ctNode.removeChild(b.ui.getEl());}},beforeLoad:function(){this.addClass("x-tree-node-loading");},afterLoad:function(){this.removeClass("x-tree-node-loading");},onTextChange:function(d,g,e){if(this.rendered){this.textNode.innerHTML=g;}},onDisableChange:function(d,c){this.disabled=c;if(this.checkbox){this.checkbox.disabled=c;}if(c){this.addClass("x-tree-node-disabled");}else{this.removeClass("x-tree-node-disabled");}},onSelectedChange:function(b){if(b){this.focus();this.addClass("x-tree-selected");}else{this.removeClass("x-tree-selected");}},onMove:function(l,n,p,o,q,k){this.childIndent=null;if(this.rendered){var m=o.ui.getContainer();if(!m){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return;}var r=k?k.ui.getEl():null;if(r){m.insertBefore(this.wrap,r);}else{m.appendChild(this.wrap);}this.node.renderIndent(true);}},addClass:function(b){if(this.elNode){Ext.fly(this.elNode).addClass(b);}},removeClass:function(b){if(this.elNode){Ext.fly(this.elNode).removeClass(b);}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments);},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.addClass("x-tree-node-disabled");if(this.checkbox){this.checkbox.disabled=true;}}if(this.node.hidden){this.hide();}var c=this.node.getOwnerTree();var d=c.enableDD||c.enableDrag||c.enableDrop;if(d&&(!this.node.isRoot||c.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false});}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode];},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none";}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display="";}},onContextMenu:function(b){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){b.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,b);}},onClick:function(d){if(this.dropping){d.stopEvent();return;}if(this.fireEvent("beforeclick",this.node,d)!==false){var a=d.getTarget("a");if(!this.disabled&&this.node.attributes.href&&a){this.fireEvent("click",this.node,d);return;}else{if(a&&d.ctrlKey){d.stopEvent();}}d.preventDefault();if(this.disabled){return;}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle();}this.fireEvent("click",this.node,d);}else{d.stopEvent();}},onDblClick:function(b){b.preventDefault();if(this.disabled){return;}if(this.checkbox){this.toggleCheck();}if(!this.animating&&this.node.isExpandable()){this.node.toggle();}this.fireEvent("dblclick",this.node,b);},onOver:function(b){this.addClass("x-tree-node-over");},onOut:function(b){this.removeClass("x-tree-node-over");},onCheckChange:function(){var b=this.checkbox.checked;this.checkbox.defaultChecked=b;this.node.attributes.checked=b;this.fireEvent("checkchange",this.node,b);},ecClick:function(b){if(!this.animating&&this.node.isExpandable()){this.node.toggle();}},startDrop:function(){this.dropping=true;},endDrop:function(){setTimeout(function(){this.dropping=false;}.createDelegate(this),50);},expand:function(){this.updateExpandIcon();this.ctNode.style.display="";},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus();}catch(g){}}else{if(!Ext.isIE){try{var d=this.node.getOwnerTree().getTreeEl().dom;var e=d.scrollLeft;this.anchor.focus();d.scrollLeft=e;}catch(g){}}}},toggleCheck:function(c){var d=this.checkbox;if(d){d.checked=(c===undefined?!d.checked:c);this.onCheckChange();}},blur:function(){try{this.anchor.blur();}catch(b){}},animExpand:function(c){var d=Ext.get(this.ctNode);d.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(c);return;}this.animating=true;this.updateExpandIcon();d.slideIn("t",{callback:function(){this.animating=false;Ext.callback(c);},scope:this,duration:this.node.ownerTree.duration||0.25});},highlight:function(){var b=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(b.hlColor||"C3DAF9",{endColor:b.hlBaseColor});},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none";},animCollapse:function(c){var d=Ext.get(this.ctNode);d.enableDisplayMode("block");d.stopFx();this.animating=true;this.updateExpandIcon();d.slideOut("t",{callback:function(){this.animating=false;Ext.callback(c);},scope:this,duration:this.node.ownerTree.duration||0.25});},getContainer:function(){return this.ctNode;},getEl:function(){return this.wrap;},appendDDGhost:function(b){b.appendChild(this.elNode.cloneNode(true));},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode);},onRender:function(){this.render();},render:function(i){var g=this.node,a=g.attributes;var h=g.parentNode?g.parentNode.ui.getContainer():g.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(g,a,h,i);if(a.qtip){if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",a.qtip);if(a.qtipTitle){this.textNode.setAttributeNS("ext","qtitle",a.qtipTitle);}}else{this.textNode.setAttribute("ext:qtip",a.qtip);if(a.qtipTitle){this.textNode.setAttribute("ext:qtitle",a.qtipTitle);}}}else{if(a.qtipCfg){a.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(a.qtipCfg);}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true);}}else{if(i===true){h.appendChild(this.wrap);}}},renderElements:function(s,n,o,a){this.indentMarkup=s.parentNode?s.parentNode.ui.getChildIndent():"";var r=typeof n.checked=="boolean";var u=n.href?n.href:Ext.isGecko?"":"#";var t=['<li class="x-tree-node"><div ext:tree-node-id="',s.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',n.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img src="',n.icon||this.emptyIcon,'" class="x-tree-node-icon',(n.icon?" x-tree-node-inline-icon":""),(n.iconCls?" "+n.iconCls:""),'" unselectable="on" />',r?('<input class="x-tree-node-cb" type="checkbox" '+(n.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',u,'" tabIndex="1" ',n.hrefTarget?' target="'+n.hrefTarget+'"':"",'><span unselectable="on">',s.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");var v;if(a!==true&&s.nextSibling&&(v=s.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",v,t);}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",o,t);}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var p=this.elNode.childNodes;this.indentNode=p[0];this.ecNode=p[1];this.iconNode=p[2];var q=3;if(r){this.checkbox=p[3];this.checkbox.defaultChecked=this.checkbox.checked;q++;}this.anchor=p[q];this.textNode=p[q].firstChild;},getAnchor:function(){return this.anchor;},getTextEl:function(){return this.textNode;},getIconEl:function(){return this.iconNode;},isChecked:function(){return this.checkbox?this.checkbox.checked:false;},updateExpandIcon:function(){if(this.rendered){var k=this.node,m,n;var i=k.isLast()?"x-tree-elbow-end":"x-tree-elbow";var l=k.hasChildNodes();if(l||k.attributes.expandable){if(k.expanded){i+="-minus";m="x-tree-node-collapsed";n="x-tree-node-expanded";}else{i+="-plus";m="x-tree-node-expanded";n="x-tree-node-collapsed";}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false;}if(this.c1!=m||this.c2!=n){Ext.fly(this.elNode).replaceClass(m,n);this.c1=m;this.c2=n;}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-leaf");delete this.c1;delete this.c2;this.wasLeaf=true;}}var h="x-tree-ec-icon "+i;if(this.ecc!=h){this.ecNode.className=h;this.ecc=h;}}},getChildIndent:function(){if(!this.childIndent){var d=[];var c=this.node;while(c){if(!c.isRoot||(c.isRoot&&c.ownerTree.rootVisible)){if(!c.isLast()){d.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />');}else{d.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />');}}c=c.parentNode;}this.childIndent=d.join("");}return this.childIndent;},renderIndent:function(){if(this.rendered){var d="";var c=this.node.parentNode;if(c){d=c.ui.getChildIndent();}if(this.indentMarkup!=d){this.indentNode.innerHTML=d;this.indentMarkup=d;}this.updateExpandIcon();}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id);}delete this.elNode;delete this.ctNode;delete this.indentNode;delete this.ecNode;delete this.iconNode;delete this.checkbox;delete this.anchor;delete this.textNode;Ext.removeNode(this.ctNode);}};Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var b=this.node.ownerTree.innerCt.dom;this.node.expanded=true;b.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=b.firstChild;}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(b){this.baseParams={};Ext.apply(this,b);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,load:function(d,c){if(this.clearOnLoad){while(d.firstChild){d.removeChild(d.firstChild);}}if(this.doPreload(d)){if(typeof c=="function"){c();}}else{if(this.dataUrl||this.url){this.requestData(d,c);}}},doPreload:function(k){if(k.attributes.children){if(k.childNodes.length<1){var l=k.attributes.children;k.beginUpdate();for(var g=0,h=l.length;g<h;g++){var i=k.appendChild(this.createNode(l[g]));if(this.preloadChildren){this.doPreload(i);}}k.endUpdate();}return true;}else{return false;}},getParams:function(h){var g=[],i=this.baseParams;for(var e in i){if(typeof i[e]!="function"){g.push(encodeURIComponent(e),"=",encodeURIComponent(i[e]),"&");}}g.push("node=",encodeURIComponent(h.id));return g.join("");},requestData:function(d,c){if(this.fireEvent("beforeload",this,d,c)!==false){this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:c,node:d},params:this.getParams(d)});}else{if(typeof c=="function"){c();}}},isLoading:function(){return !!this.transId;},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId);}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs);}if(this.applyLoader!==false){attr.loader=this;}if(typeof attr.uiProvider=="string"){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider);}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr);}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr);}},processResponse:function(response,node,callback){var json=response.responseText;try{var o=eval("("+json+")");node.beginUpdate();for(var i=0,len=o.length;i<len;i++){var n=this.createNode(o[i]);if(n){node.appendChild(n);}}node.endUpdate();if(typeof callback=="function"){callback(this,node);}}catch(e){this.handleFailure(response);}},handleResponse:function(d){this.transId=false;var a=d.argument;this.processResponse(d,a.node,a.callback);this.fireEvent("load",this,a.node,d);},handleFailure:function(d){this.transId=false;var a=d.argument;this.fireEvent("loadexception",this,a.node,d);if(typeof a.callback=="function"){a.callback(this,a.node);}}});Ext.tree.TreeFilter=function(d,c){this.tree=d;this.filtered={};Ext.apply(this,c);};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(k,h,g){h=h||"text";var l;if(typeof k=="string"){var i=k.length;if(i==0&&this.clearBlank){this.clear();return;}k=k.toLowerCase();l=function(a){return a.attributes[h].substr(0,i).toLowerCase()==k;};}else{if(k.exec){l=function(a){return k.test(a.attributes[h]);};}else{throw"Illegal filter type, must be string or regex";}}this.filterBy(l,null,g);},filterBy:function(q,r,k){k=k||this.tree.root;if(this.autoClear){this.clear();}var l=this.filtered,m=this.reverse;var p=function(a){if(a==k){return true;}if(l[a.id]){return false;}var b=q.call(r||a,a);if(!b||m){l[a.id]=a;a.ui.hide();return false;}return true;};k.cascade(p);if(this.remove){for(var n in l){if(typeof n!="function"){var o=l[n];if(o&&o.parentNode){o.parentNode.removeChild(o);}}}}},clear:function(){var e=this.tree;var g=this.filtered;for(var h in g){if(typeof h!="function"){var i=g[h];if(i){i.ui.show();}}}this.filtered={};}};Ext.tree.TreeSorter=function(k,r){Ext.apply(this,r);k.on("beforechildrenrendered",this.doSort,this);k.on("append",this.updateSort,this);k.on("insert",this.updateSort,this);k.on("textchange",this.updateSortParent,this);var p=this.dir&&this.dir.toLowerCase()=="desc";var o=this.property||"text";var n=this.sortType;var l=this.folderSort;var q=this.caseSensitive===true;var m=this.leafAttr||"leaf";this.sortFn=function(b,c){if(l){if(b.attributes[m]&&!c.attributes[m]){return 1;}if(!b.attributes[m]&&c.attributes[m]){return -1;}}var d=n?n(b):(q?b.attributes[o]:b.attributes[o].toUpperCase());var a=n?n(c):(q?c.attributes[o]:c.attributes[o].toUpperCase());if(d<a){return p?+1:-1;}else{if(d>a){return p?-1:+1;}else{return 0;}}};};Ext.tree.TreeSorter.prototype={doSort:function(b){b.sort(this.sortFn);},compareNodes:function(c,d){return(c.text.toUpperCase()>d.text.toUpperCase()?1:-1);},updateSort:function(d,c){if(c.childrenRendered){this.doSort.defer(1,this,[c]);}},updateSortParent:function(d){var c=d.parentNode;if(c&&c.childrenRendered){this.doSort.defer(1,this,[c]);}}};if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(d,c){this.allowParentInsert=false;this.allowContainerDrop=false;this.appendOnly=false;Ext.tree.TreeDropZone.superclass.constructor.call(this,d.innerCt,c);this.tree=d;this.dragOverData={};this.lastInsertClass="x-tree-no-status";};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(b){if(b.hasChildNodes()&&!b.isExpanded()){b.expand(false,null,this.triggerCacheRefresh.createDelegate(this));}},queueExpand:function(b){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[b]);},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false;}},isValidDropPoint:function(t,e,n,q,r){if(!t||!r){return false;}var p=t.node;var o=r.node;if(!(p&&p.isTarget&&e)){return false;}if(e=="append"&&p.allowChildren===false){return false;}if((e=="above"||e=="below")&&(p.parentNode&&p.parentNode.allowChildren===false)){return false;}if(o&&(p==o||o.contains(p))){return false;}var s=this.dragOverData;s.tree=this.tree;s.target=p;s.data=r;s.point=e;s.source=n;s.rawEvent=q;s.dropNode=o;s.cancel=false;var m=this.tree.fireEvent("nodedragover",s);return s.cancel===false&&m!==false;},getDropPoint:function(t,u,n){var e=u.node;if(e.isRoot){return e.allowChildren!==false?"append":false;}var w=u.ddel;var b=Ext.lib.Dom.getY(w),r=b+w.offsetHeight;var s=Ext.lib.Event.getPageY(t);var q=e.allowChildren===false||e.isLeaf();if(this.appendOnly||e.parentNode.allowChildren===false){return q?false:"append";}var v=false;if(!this.allowParentInsert){v=e.hasChildNodes()&&e.isExpanded();}var x=(r-b)/(q?2:3);if(s>=b&&s<(b+x)){return"above";}else{if(!v&&(q||s>=r-x&&s<=r)){return"below";}else{return"append";}}},onNodeEnter:function(h,g,i,e){this.cancelExpand();},onNodeOver:function(s,n,o,p){var e=this.getDropPoint(o,s,n);var r=s.node;if(!this.expandProcId&&e=="append"&&r.hasChildNodes()&&!s.node.isExpanded()){this.queueExpand(r);}else{if(e!="append"){this.cancelExpand();}}var q=this.dropNotAllowed;if(this.isValidDropPoint(s,e,n,o,p)){if(e){var t=s.ddel;var m;if(e=="above"){q=s.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";m="x-tree-drag-insert-above";}else{if(e=="below"){q=s.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";m="x-tree-drag-insert-below";}else{q="x-tree-drop-ok-append";m="x-tree-drag-append";}}if(this.lastInsertClass!=m){Ext.fly(t).replaceClass(this.lastInsertClass,m);this.lastInsertClass=m;}}}return q;},onNodeOut:function(h,g,i,e){this.cancelExpand();this.removeDropIndicators(h);},onNodeDrop:function(r,e,p,q){var m=this.getDropPoint(p,r,e);var o=r.node;o.ui.startDrop();if(!this.isValidDropPoint(r,m,e,p,q)){o.ui.endDrop();return false;}var n=q.node||(e.getTreeNode?e.getTreeNode(q,o,m,p):null);var s={tree:this.tree,target:o,data:q,point:m,source:e,rawEvent:p,dropNode:n,cancel:!n,dropStatus:false};var t=this.tree.fireEvent("beforenodedrop",s);if(t===false||s.cancel===true||!s.dropNode){o.ui.endDrop();return s.dropStatus;}o=s.target;if(m=="append"&&!o.isExpanded()){o.expand(false,null,function(){this.completeDrop(s);}.createDelegate(this));}else{this.completeDrop(s);}return true;},completeDrop:function(l){var o=l.dropNode,n=l.point,p=l.target;if(!Ext.isArray(o)){o=[o];}var m;for(var i=0,k=o.length;i<k;i++){m=o[i];if(n=="above"){p.parentNode.insertBefore(m,p);}else{if(n=="below"){p.parentNode.insertBefore(m,p.nextSibling);}else{p.appendChild(m);}}}m.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){m.ui.highlight();}p.ui.endDrop();this.tree.fireEvent("nodedrop",l);},afterNodeMoved:function(h,l,i,k,e){if(Ext.enableFx&&this.tree.hlDrop){e.ui.focus();e.ui.highlight();}this.tree.fireEvent("nodedrop",this.tree,k,l,h,i);},getTree:function(){return this.tree;},removeDropIndicators:function(c){if(c&&c.ddel){var d=c.ddel;Ext.fly(d).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass";}},beforeDragDrop:function(d,e,g){this.cancelExpand();return true;},afterRepair:function(b){if(b&&Ext.enableFx){b.node.ui.highlight();}this.hideProxy();}});}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(d,c){Ext.tree.TreeDragZone.superclass.constructor.call(this,d.getTreeEl(),c);this.tree=d;};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(e,d){var g=e.node;return g&&g.draggable&&!g.disabled;},onInitDrag:function(c){var d=this.dragData;this.tree.getSelectionModel().select(d.node);this.tree.eventModel.disable();this.proxy.update("");d.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,d.node,c);},getRepairXY:function(c,d){return d.node.ui.getDDRepairXY();},onEndDrag:function(d,c){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,d.node,c);},onValidDrop:function(e,d,g){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,e,d);this.hideProxy();},beforeInvalidDrop:function(e,g){var d=this.tree.getSelectionModel();d.clearSelections();d.select(this.dragData.node);},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");}this.dragging=false;}});}Ext.tree.TreeEditor=function(g,i,e){i=i||{};var h=i.events?i:new Ext.form.TextField(i);Ext.tree.TreeEditor.superclass.constructor.call(this,h,e);this.tree=g;if(!g.rendered){g.on("render",this.initEditor,this);}else{this.initEditor(g);}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(b){b.on("beforeclick",this.beforeNodeClick,this);b.on("dblclick",this.onNodeDblClick,this);this.on("complete",this.updateNode,this);this.on("beforestartedit",this.fitToTree,this);this.on("startedit",this.bindScroll,this,{delay:10});this.on("specialkey",this.onSpecialKey,this);},fitToTree:function(g,l){var i=this.tree.getTreeEl().dom,k=l.dom;if(i.scrollLeft>k.offsetLeft){i.scrollLeft=k.offsetLeft;}var h=Math.min(this.maxWidth,(i.clientWidth>20?i.clientWidth:i.offsetWidth)-Math.max(0,k.offsetLeft-i.scrollLeft)-5);this.setSize(h,"");},triggerEdit:function(d,c){this.completeEdit();if(d.attributes.editable!==false){this.editNode=d;if(this.tree.autoScroll){d.ui.getEl().scrollIntoView(this.tree.body);}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[d.ui.textNode,d.text]);return false;}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this);},beforeNodeClick:function(d,c){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(d)){c.stopEvent();return this.triggerEdit(d);}},onNodeDblClick:function(d,c){clearTimeout(this.autoEditTimer);},updateNode:function(d,c){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(c);},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui);}},onSpecialKey:function(g,d){var e=d.getKey();if(e==d.ESC){d.stopEvent();this.cancelEdit();}else{if(e==d.ENTER&&!d.hasModifier()){d.stopEvent();this.completeEdit();}}}});Ext.menu.Menu=function(d){if(Ext.isArray(d)){d={items:d};}Ext.apply(this,d);this.id=this.id||Ext.id();this.addEvents("beforeshow","beforehide","show","hide","click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);Ext.menu.Menu.superclass.constructor.call(this);var c=this.items;this.items=new Ext.util.MixedCollection(false,Ext.Container.prototype.getComponentId);if(c){this.add.apply(this,c);}};Ext.extend(Ext.menu.Menu,Ext.util.Observable,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,hidden:true,createEl:function(){return new Ext.Layer({cls:"x-menu",shadow:this.shadow,constrain:false,parentEl:this.parentEl||document.body,zindex:this.zIndex||15000});},render:function(){if(this.el){return;}var c=this.el=this.createEl();if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this);}if(this.plain){c.addClass("x-menu-plain");}if(this.cls){c.addClass(this.cls);}this.focusEl=c.createChild({tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"});var d=c.createChild({tag:"ul",cls:"x-menu-list"});d.on("click",this.onClick,this);d.on("mouseover",this.onMouseOver,this);d.on("mouseout",this.onMouseOut,this);this.items.each(function(a){var b=document.createElement("li");b.className="x-menu-list-item";d.dom.appendChild(b);a.render(b,this);},this);this.ul=d;this.doAutoSize();},doAutoSize:function(){var h=this.el,i=this.ul;if(!h){return;}var g=this.width;if(g){h.setWidth(g);}else{if(Ext.isIE){h.setWidth(this.minWidth);var e=h.dom.offsetWidth;h.setWidth(i.getWidth()+h.getFrameWidth("lr"));}}},delayAutoWidth:function(){if(this.el){if(!this.awTask){this.awTask=new Ext.util.DelayedTask(this.doAutoSize,this);}this.awTask.delay(20);}},findTargetItem:function(c){var d=c.getTarget(".x-menu-list-item",this.ul,true);if(d&&d.menuItemId){return this.items.get(d.menuItemId);}},onClick:function(c){var d;if(d=this.findTargetItem(c)){if(d.menu&&this.ignoreParentClicks){d.expandMenu();}else{d.onClick(c);this.fireEvent("click",this,d,c);}}},setActiveItem:function(d,c){if(d!=this.activeItem){if(this.activeItem){this.activeItem.deactivate();}this.activeItem=d;d.activate(c);}else{if(c){d.expandMenu();}}},tryActivate:function(k,l){var h=this.items;for(var n=k,i=h.length;n>=0&&n<i;n+=l){var m=h.get(n);if(!m.disabled&&m.canActivate){this.setActiveItem(m,false);return m;}}return false;},onMouseOver:function(c){var d;if(d=this.findTargetItem(c)){if(d.canActivate&&!d.disabled){this.setActiveItem(d,true);}}this.over=true;this.fireEvent("mouseover",this,c,d);},onMouseOut:function(c){var d;if(d=this.findTargetItem(c)){if(d==this.activeItem&&d.shouldDeactivate(c)){this.activeItem.deactivate();delete this.activeItem;}}this.over=false;this.fireEvent("mouseout",this,c,d);},isVisible:function(){return this.el&&!this.hidden;},show:function(d,g,e){this.parentMenu=e;if(!this.el){this.render();}this.fireEvent("beforeshow",this);this.showAt(this.el.getAlignToXY(d,g||this.defaultAlign),e,false);},showAt:function(g,d,e){this.parentMenu=d;if(!this.el){this.render();}if(e!==false){this.fireEvent("beforeshow",this);g=this.el.adjustForConstraints(g);}this.el.setXY(g);this.el.show();this.hidden=false;this.focus();this.fireEvent("show",this);},focus:function(){if(!this.hidden){this.doFocus.defer(50,this);}},doFocus:function(){if(!this.hidden){this.focusEl.focus();}},hide:function(b){if(this.el&&this.isVisible()){if(this.fireEvent("beforehide",this)!==false){if(this.activeItem){this.activeItem.deactivate();this.activeItem=null;}this.el.hide();this.hidden=true;this.fireEvent("hide",this);}}if(b===true&&this.parentMenu){this.parentMenu.hide(true);}},add:function(){var l=arguments,a=l.length,h;for(var k=0;k<a;k++){var i=l[k];if(i.render){h=this.addItem(i);}else{if(typeof i=="string"){if(i=="separator"||i=="-"){h=this.addSeparator();}else{h=this.addText(i);}}else{if(i.tagName||i.el){h=this.addElement(i);}else{if(typeof i=="object"){Ext.applyIf(i,this.defaults);h=this.addMenuItem(i);}}}}}return h;},getEl:function(){if(!this.el){this.render();}return this.el;},addSeparator:function(){return this.addItem(new Ext.menu.Separator());},addElement:function(b){return this.addItem(new Ext.menu.BaseItem(b));},addItem:function(c){this.items.add(c);if(this.ul){var d=document.createElement("li");d.className="x-menu-list-item";this.ul.dom.appendChild(d);c.render(d,this);this.delayAutoWidth();}return c;},addMenuItem:function(b){if(!(b instanceof Ext.menu.Item)){if(typeof b.checked=="boolean"){b=new Ext.menu.CheckItem(b);}else{b=new Ext.menu.Item(b);}}return this.addItem(b);},addText:function(b){return this.addItem(new Ext.menu.TextItem(b));},insert:function(d,g){this.items.insert(d,g);if(this.ul){var e=document.createElement("li");e.className="x-menu-list-item";this.ul.dom.insertBefore(e,this.ul.dom.childNodes[d]);g.render(e,this);this.delayAutoWidth();}return g;},remove:function(b){this.items.remove(b);b.destroy();},removeAll:function(){if(this.items){var b;while(b=this.items.first()){this.remove(b);}}},destroy:function(){this.beforeDestroy();Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable();}this.removeAll();if(this.ul){this.ul.removeAllListeners();}if(this.el){this.el.destroy();}},beforeDestroy:Ext.emptyFn});Ext.menu.MenuNav=function(b){Ext.menu.MenuNav.superclass.constructor.call(this,b.el);this.scope=this.menu=b;};Ext.extend(Ext.menu.MenuNav,Ext.KeyNav,{doRelay:function(g,d){var e=g.getKey();if(!this.menu.activeItem&&g.isNavKeyPress()&&e!=g.SPACE&&e!=g.RETURN){this.menu.tryActivate(0,1);return false;}return d.call(this.scope||this,g,this.menu);},up:function(c,d){if(!d.tryActivate(d.items.indexOf(d.activeItem)-1,-1)){d.tryActivate(d.items.length-1,-1);}},down:function(c,d){if(!d.tryActivate(d.items.indexOf(d.activeItem)+1,1)){d.tryActivate(0,1);}},right:function(c,d){if(d.activeItem){d.activeItem.expandMenu(true);}},left:function(c,d){d.hide();if(d.parentMenu&&d.parentMenu.activeItem){d.parentMenu.activeItem.activate();}},enter:function(c,d){if(d.activeItem){c.stopPropagation();d.activeItem.onClick(c);d.fireEvent("click",this,d.activeItem);return true;}}});Ext.menu.MenuMgr=function(){var w,y,z={},B=false,r=new Date();function p(){w={};y=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(y.length>0){u();}});}function u(){if(y&&y.length>0){var a=y.clone();a.each(function(b){b.hide();});}}function x(a){y.remove(a);if(y.length<1){Ext.getDoc().un("mousedown",q);B=false;}}function s(b){var a=y.last();r=new Date();y.add(b);if(!B){Ext.getDoc().on("mousedown",q);B=true;}if(b.parentMenu){b.getEl().setZIndex(parseInt(b.parentMenu.getEl().getStyle("z-index"),10)+3);b.parentMenu.activeChild=b;}else{if(a&&a.isVisible()){b.getEl().setZIndex(parseInt(a.getEl().getStyle("z-index"),10)+3);}}}function A(a){if(a.activeChild){a.activeChild.hide();}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer;}}function v(b){var a=b.parentMenu;if(!a&&!b.allowOtherMenus){u();}else{if(a&&a.activeChild){a.activeChild.hide();}}}function q(a){if(r.getElapsed()>50&&y.length>0&&!a.getTarget(".x-menu")){u();}}function t(d,a){if(a){var b=z[d.group];for(var c=0,e=b.length;c<e;c++){if(b[c]!=d){b[c].setChecked(false);}}}}return{hideAll:function(){u();},register:function(a){if(!w){p();}w[a.id]=a;a.on("beforehide",A);a.on("hide",x);a.on("beforeshow",v);a.on("show",s);var b=a.group;if(b&&a.events.checkchange){if(!z[b]){z[b]=[];}z[b].push(a);a.on("checkchange",onCheck);}},get:function(a){if(typeof a=="string"){if(!w){return null;}return w[a];}else{if(a.events){return a;}else{if(typeof a.length=="number"){return new Ext.menu.Menu({items:a});}else{return new Ext.menu.Menu(a);}}}},unregister:function(a){delete w[a.id];a.un("beforehide",A);a.un("hide",x);a.un("beforeshow",v);a.un("show",s);var b=a.group;if(b&&a.events.checkchange){z[b].remove(a);a.un("checkchange",onCheck);}},registerCheckable:function(b){var a=b.group;if(a){if(!z[a]){z[a]=[];}z[a].push(b);b.on("beforecheckchange",t);}},unregisterCheckable:function(b){var a=b.group;if(a){z[a].remove(b);b.un("beforecheckchange",t);}},getCheckedItem:function(b){var a=z[b];if(a){for(var c=0,d=a.length;c<d;c++){if(a[c].checked){return a[c];}}}return null;},setCheckedItem:function(c,a){var b=z[c];if(b){for(var d=0,e=b.length;d<e;d++){if(b[d].id==a){b[d].setChecked(true);}}}return null;}};}();Ext.menu.BaseItem=function(b){Ext.menu.BaseItem.superclass.constructor.call(this,b);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope);}};Ext.extend(Ext.menu.BaseItem,Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",render:function(d,c){this.parentMenu=c;Ext.menu.BaseItem.superclass.render.call(this,d);this.container.menuItemId=this.itemId||this.id;},onRender:function(c,d){this.el=Ext.get(this.el);c.dom.appendChild(this.el.dom);},setHandler:function(c,d){if(this.handler){this.un("click",this.handler,this.scope);}this.on("click",this.handler=c,this.scope=d);},onClick:function(b){if(!this.disabled&&this.fireEvent("click",this,b)!==false&&this.parentMenu.fireEvent("itemclick",this,b)!==false){this.handleClick(b);}else{b.stopEvent();}},activate:function(){if(this.disabled){return false;}var b=this.container;b.addClass(this.activeClass);this.region=b.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true;},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this);},shouldDeactivate:function(b){return !this.region||!this.region.contains(b.getPoint());},handleClick:function(b){if(this.hideOnClick){this.parentMenu.hide.defer(this.clickHideDelay,this.parentMenu,[true]);}},expandMenu:function(b){},hideMenu:function(){}});Ext.menu.TextItem=function(b){if(typeof b=="string"){b={text:b};}Ext.menu.TextItem.superclass.constructor.call(this,b);};Ext.extend(Ext.menu.TextItem,Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",onRender:function(){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML=this.text;this.el=b;Ext.menu.TextItem.superclass.onRender.apply(this,arguments);}});Ext.menu.Separator=function(b){Ext.menu.Separator.superclass.constructor.call(this,b);};Ext.extend(Ext.menu.Separator,Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,onRender:function(d){var c=document.createElement("span");c.className=this.itemCls;c.innerHTML="&#160;";this.el=c;d.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments);}});Ext.menu.Item=function(b){Ext.menu.Item.superclass.constructor.call(this,b);if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);}};Ext.extend(Ext.menu.Item,Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",onRender:function(d,e){var g=document.createElement("a");g.hideFocus=true;g.unselectable="on";g.href=this.href||"#";if(this.hrefTarget){g.target=this.hrefTarget;}g.className=this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:"");g.innerHTML=String.format('<img src="{0}" class="x-menu-item-icon {2}" />{1}',this.icon||Ext.BLANK_IMAGE_URL,this.itemText||this.text,this.iconCls||"");this.el=g;Ext.menu.Item.superclass.onRender.call(this,d,e);},setText:function(b){this.text=b;if(this.rendered){this.el.update(String.format('<img src="{0}" class="x-menu-item-icon {2}">{1}',this.icon||Ext.BLANK_IMAGE_URL,this.text,this.iconCls||""));this.parentMenu.doAutoSize();}},setIconClass:function(d){var c=this.iconCls;this.iconCls=d;if(this.rendered){this.el.child("img.x-menu-item-icon").replaceClass(c,this.iconCls);}},handleClick:function(b){if(!this.href){b.stopEvent();}Ext.menu.Item.superclass.handleClick.apply(this,arguments);},activate:function(b){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(b){this.expandMenu();}}return true;},shouldDeactivate:function(b){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,b)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(b.getPoint());}return true;}return false;},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu();},expandMenu:function(b){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[b]);}else{if(this.menu.isVisible()&&b){this.menu.tryActivate(0,1);}}}},deferExpand:function(b){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(b){this.menu.tryActivate(0,1);}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this);}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false);}else{this.menu.hide();}}});Ext.menu.CheckItem=function(b){Ext.menu.CheckItem.superclass.constructor.call(this,b);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope);}Ext.menu.MenuMgr.registerCheckable(this);};Ext.extend(Ext.menu.CheckItem,Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",onRender:function(b){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass);}if(this.checked){this.checked=false;this.setChecked(true,true);}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments);},setChecked:function(c,d){if(this.checked!=c&&this.fireEvent("beforecheckchange",this,c)!==false){if(this.container){this.container[c?"addClass":"removeClass"]("x-menu-item-checked");}this.checked=c;if(d!==true){this.fireEvent("checkchange",this,c);}}},handleClick:function(b){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked);}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments);}});Ext.menu.Adapter=function(c,d){Ext.menu.Adapter.superclass.constructor.call(this,d);this.component=c;};Ext.extend(Ext.menu.Adapter,Ext.menu.BaseItem,{canActivate:true,onRender:function(c,d){this.component.render(c);this.el=this.component.getEl();},activate:function(){if(this.disabled){return false;}this.component.focus();this.fireEvent("activate",this);return true;},deactivate:function(){this.fireEvent("deactivate",this);},disable:function(){this.component.disable();Ext.menu.Adapter.superclass.disable.call(this);},enable:function(){this.component.enable();Ext.menu.Adapter.superclass.enable.call(this);}});Ext.menu.DateItem=function(b){Ext.menu.DateItem.superclass.constructor.call(this,new Ext.DatePicker(b),b);this.picker=this.component;this.addEvents("select");this.picker.on("render",function(a){a.getEl().swallowEvent("click");a.container.addClass("x-menu-date-item");});this.picker.on("select",this.onSelect,this);};Ext.extend(Ext.menu.DateItem,Ext.menu.Adapter,{onSelect:function(c,d){this.fireEvent("select",this,d,c);Ext.menu.DateItem.superclass.handleClick.call(this);}});Ext.menu.ColorItem=function(b){Ext.menu.ColorItem.superclass.constructor.call(this,new Ext.ColorPalette(b),b);this.palette=this.component;this.relayEvents(this.palette,["select"]);if(this.selectHandler){this.on("select",this.selectHandler,this.scope);}};Ext.extend(Ext.menu.ColorItem,Ext.menu.Adapter);Ext.menu.DateMenu=function(d){Ext.menu.DateMenu.superclass.constructor.call(this,d);this.plain=true;var c=new Ext.menu.DateItem(d);this.add(c);this.picker=c.picker;this.relayEvents(c,["select"]);this.on("beforeshow",function(){if(this.picker){this.picker.hideMonthPicker(true);}},this);};Ext.extend(Ext.menu.DateMenu,Ext.menu.Menu,{cls:"x-date-menu",beforeDestroy:function(){this.picker.destroy();}});Ext.menu.ColorMenu=function(d){Ext.menu.ColorMenu.superclass.constructor.call(this,d);this.plain=true;var c=new Ext.menu.ColorItem(d);this.add(c);this.palette=c.palette;this.relayEvents(c,["select"]);};Ext.extend(Ext.menu.ColorMenu,Ext.menu.Menu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,isFormField:true,hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid");},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:(this.hiddenName||"");},onRender:function(i,g){Ext.form.Field.superclass.onRender.call(this,i,g);if(!this.el){var e=this.getAutoCreate();if(!e.name){e.name=this.name||this.id;}if(this.inputType){e.type=this.inputType;}this.el=i.createChild(e,g);}var h=this.el.dom.type;if(h){if(h=="password"){h="text";}this.el.addClass("x-form-"+h);}if(this.readOnly){this.el.dom.readOnly=true;}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex);}this.el.addClass([this.fieldClass,this.cls]);},getItemCt:function(){return this.el.up(".x-form-item",4);},initValue:function(){if(this.value!==undefined){this.setValue(this.value);}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value);}}this.originalValue=this.getValue();},isDirty:function(){if(this.disabled){return false;}return String(this.getValue())!==String(this.originalValue);},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue();},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,b);}},reset:function(){this.setValue(this.originalValue);this.clearInvalid();},initEvents:function(){this.el.on(Ext.isIE||Ext.isSafari3?"keydown":"keypress",this.fireKey,this);this.el.on("focus",this.onFocus,this);var b=this.inEditor&&Ext.isWindows&&Ext.isGecko?{buffer:10}:null;this.el.on("blur",this.onBlur,this,b);},onFocus:function(){if(!Ext.isOpera&&this.focusClass){this.el.addClass(this.focusClass);}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this);}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(!Ext.isOpera&&this.focusClass){this.el.removeClass(this.focusClass);}this.hasFocus=false;if(this.validationEvent!==false&&this.validateOnBlur&&this.validationEvent!="blur"){this.validate();}var b=this.getValue();if(String(b)!==String(this.startValue)){this.fireEvent("change",this,b,this.startValue);}this.fireEvent("blur",this);},isValid:function(e){if(this.disabled){return true;}var g=this.preventMark;this.preventMark=e===true;var d=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=g;return d;},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true;}return false;},processValue:function(b){return b;},validateValue:function(b){return true;},markInvalid:function(g){if(!this.rendered||this.preventMark){return;}g=g||this.invalidText;var e=this.getMessageHandler();if(e){e.mark(this,g);}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var d=Ext.getDom(this.msgTarget);if(d){d.innerHTML=g;d.style.display=this.msgDisplay;}}}this.fireEvent("invalid",this,g);},clearInvalid:function(){if(!this.rendered||this.preventMark){return;}this.el.removeClass(this.invalidClass);var d=this.getMessageHandler();if(d){d.clear(this);}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var c=Ext.getDom(this.msgTarget);if(c){c.innerHTML="";c.style.display="none";}}}this.fireEvent("valid",this);},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget];},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true);},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0]);},getRawValue:function(){var b=this.rendered?this.el.getValue():Ext.value(this.value,"");if(b===this.emptyText){b="";}return b;},getValue:function(){if(!this.rendered){return this.value;}var b=this.el.getValue();if(b===this.emptyText||b===undefined){b="";}return b;},setRawValue:function(b){return this.el.dom.value=(b===null||b===undefined?"":b);},setValue:function(b){this.value=b;if(this.rendered){this.el.dom.value=(b===null||b===undefined?"":b);this.validate();}},append:function(b){this.setValue([this.getValue(),b].join(""));},adjustSize:function(g,h){var i=Ext.form.Field.superclass.adjustSize.call(this,g,h);i.width=this.adjustWidth(this.el.dom.tagName,i.width);if(this.offsetCt){var e=this.getItemCt();i.width-=e.getFrameWidth("lr");i.height-=e.getFrameWidth("tb");}return i;},adjustWidth:function(d,c){d=d.toLowerCase();if(typeof c=="number"&&!Ext.isSafari&&!this.normalWidth){if(Ext.isIE&&(d=="input"||d=="textarea")){if(d=="input"&&!Ext.isStrict){return this.inEditor?c:c-3;}if(d=="input"&&Ext.isStrict){return c-(Ext.isIE6?4:1);}if(d=="textarea"&&Ext.isStrict){return c-2;}}else{if(Ext.isOpera&&Ext.isStrict){if(d=="input"){return c+2;}if(d=="textarea"){return c-2;}}}}return c;}});Ext.form.MessageTargets={qtip:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.qtip=c;d.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable();}},clear:function(b){b.el.removeClass(b.invalidClass);b.el.dom.qtip="";}},title:{mark:function(d,c){d.el.addClass(d.invalidClass);d.el.dom.title=c;},clear:function(b){b.el.dom.title="";}},under:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorEl){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return;}d.errorEl=e.createChild({cls:"x-form-invalid-msg"});d.errorEl.setWidth(e.getWidth(true)-20);}d.errorEl.update(g);Ext.form.Field.msgFx[d.msgFx].show(d.errorEl,d);},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorEl){Ext.form.Field.msgFx[b.msgFx].hide(b.errorEl,b);}else{b.el.dom.title="";}}},side:{mark:function(d,g){d.el.addClass(d.invalidClass);if(!d.errorIcon){var e=d.getErrorCt();if(!e){d.el.dom.title=g;return;}d.errorIcon=e.createChild({cls:"x-form-invalid-icon"});}d.alignErrorIcon();d.errorIcon.dom.qtip=g;d.errorIcon.dom.qclass="x-form-invalid-tip";d.errorIcon.show();d.on("resize",d.alignErrorIcon,d);},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorIcon){b.errorIcon.dom.qtip="";b.errorIcon.hide();b.un("resize",b.alignErrorIcon,b);}else{b.el.dom.title="";}}}};Ext.form.Field.msgFx={normal:{show:function(d,c){d.setDisplayed("block");},hide:function(d,c){d.setDisplayed(false).update("");}},slide:{show:function(d,c){d.slideIn("t",{stopFx:true});},hide:function(d,c){d.slideOut("t",{stopFx:true,useDisplay:true});}},slideRight:{show:function(d,c){d.fixDisplay();d.alignTo(c.el,"tl-tr");d.slideIn("l",{stopFx:true});},hide:function(d,c){d.slideOut("l",{stopFx:true,useDisplay:true});}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress");},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.el.on("keyup",this.filterValidation,this);}else{if(this.validationEvent!==false){this.el.on(this.validationEvent,this.validate,this,{buffer:this.validationDelay});}}if(this.selectOnFocus||this.emptyText){this.on("focus",this.preFocus,this);this.el.on("mousedown",function(){if(!this.hasFocus){this.el.on("mouseup",function(b){b.preventDefault();},this,{single:true});}},this);if(this.emptyText){this.on("blur",this.postBlur,this);this.applyEmptyText();}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.el.on("keypress",this.filterKeys,this);}if(this.grow){this.el.on("keyup",this.onKeyUpBuffered,this,{buffer:50});this.el.on("click",this.autoSize,this);}if(this.enableKeyEvents){this.el.on("keyup",this.onKeyUp,this);this.el.on("keydown",this.onKeyDown,this);this.el.on("keypress",this.onKeyPress,this);}},processValue:function(d){if(this.stripCharsRe){var c=d.replace(this.stripCharsRe,"");if(c!==d){this.setRawValue(c);return c;}}return d;},filterValidation:function(b){if(!b.isNavKeyPress()){this.validationTask.delay(this.validationDelay);}},onKeyUpBuffered:function(b){if(!b.isNavKeyPress()){this.autoSize();}},onKeyUp:function(b){this.fireEvent("keyup",this,b);},onKeyDown:function(b){this.fireEvent("keydown",this,b);},onKeyPress:function(b){this.fireEvent("keypress",this,b);},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText();},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass);}},preFocus:function(){if(this.emptyText){if(this.el.dom.value==this.emptyText){this.setRawValue("");}this.el.removeClass(this.emptyClass);}if(this.selectOnFocus){this.el.dom.select();}},postBlur:function(){this.applyEmptyText();},filterKeys:function(c){if(c.ctrlKey){return;}var e=c.getKey();if(Ext.isGecko&&(c.isNavKeyPress()||e==c.BACKSPACE||(e==c.DELETE&&c.button==-1))){return;}var h=c.getCharCode(),i=String.fromCharCode(h);if(!Ext.isGecko&&c.isSpecialKey()&&!i){return;}if(!this.maskRe.test(i)){c.stopEvent();}},setValue:function(b){if(this.emptyText&&this.el&&b!==undefined&&b!==null&&b!==""){this.el.removeClass(this.emptyClass);}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();},validateValue:function(e){if(e.length<1||e===this.emptyText){if(this.allowBlank){this.clearInvalid();return true;}else{this.markInvalid(this.blankText);return false;}}if(e.length<this.minLength){this.markInvalid(String.format(this.minLengthText,this.minLength));return false;}if(e.length>this.maxLength){this.markInvalid(String.format(this.maxLengthText,this.maxLength));return false;}if(this.vtype){var g=Ext.form.VTypes;if(!g[this.vtype](e,this)){this.markInvalid(this.vtypeText||g[this.vtype+"Text"]);return false;}}if(typeof this.validator=="function"){var d=this.validator(e);if(d!==true){this.markInvalid(d);return false;}}if(this.regex&&!this.regex.test(e)){this.markInvalid(this.regexText);return false;}return true;},selectText:function(i,h){var l=this.getRawValue();if(l.length>0){i=i===undefined?0:i;h=h===undefined?l.length:h;var k=this.el.dom;if(k.setSelectionRange){k.setSelectionRange(i,h);}else{if(k.createTextRange){var d=k.createTextRange();d.moveStart("character",i);d.moveEnd("character",h-l.length);d.select();}}}},autoSize:function(){if(!this.grow||!this.rendered){return;}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el);}var i=this.el;var d=i.dom.value;var h=document.createElement("div");h.appendChild(document.createTextNode(d));d=h.innerHTML;h=null;d+="&#160;";var g=Math.min(this.growMax,Math.max(this.metrics.getWidth(d)+10,this.growMin));this.el.setWidth(g);this.fireEvent("autosize",this,g);}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,onResize:function(d,c){Ext.form.TriggerField.superclass.onResize.call(this,d,c);if(typeof d=="number"){this.el.setWidth(this.adjustWidth("input",d-this.trigger.getWidth()));}this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth());},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap;},getPositionEl:function(){return this.wrap;},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0]);}},onRender:function(c,d){Ext.form.TriggerField.superclass.onRender.call(this,c,d);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass});if(this.hideTrigger){this.trigger.setDisplayed(false);}this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth());}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);var b;if(Ext.isIE&&!this.hideTrigger&&this.el.getY()!=(b=this.trigger.getY())){this.el.position();this.el.setY(b);}},initTrigger:function(){this.trigger.on("click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click");},onDestroy:function(){if(this.trigger){this.trigger.removeAllListeners();this.trigger.remove();}if(this.wrap){this.wrap.remove();}Ext.form.TriggerField.superclass.onDestroy.call(this);},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass("x-trigger-wrap-focus");this.mimicing=true;Ext.get(Ext.isIE?document.body:document).on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.el.on("keydown",this.checkTab,this);}}},checkTab:function(b){if(b.getKey()==b.TAB){this.triggerBlur();}},onBlur:function(){},mimicBlur:function(b){if(!this.wrap.contains(b.target)&&this.validateBlur(b)){this.triggerBlur();}},triggerBlur:function(){this.mimicing=false;Ext.get(Ext.isIE?document.body:document).un("mousedown",this.mimicBlur,this);if(this.monitorTab){this.el.un("keydown",this.checkTab,this);}this.beforeBlur();this.wrap.removeClass("x-trigger-wrap-focus");Ext.form.TriggerField.superclass.onBlur.call(this);},beforeBlur:Ext.emptyFn,validateBlur:function(b){return true;},onDisable:function(){Ext.form.TriggerField.superclass.onDisable.call(this);if(this.wrap){this.wrap.addClass(this.disabledClass);this.el.removeClass(this.disabledClass);}},onEnable:function(){Ext.form.TriggerField.superclass.onEnable.call(this);if(this.wrap){this.wrap.removeClass(this.disabledClass);}},onShow:function(){if(this.wrap){this.wrap.dom.style.display="";this.wrap.dom.style.visibility="visible";}},onHide:function(){this.wrap.dom.style.display="none";},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]};},getTrigger:function(b){return this.triggers[b];},initTrigger:function(){var d=this.trigger.select(".x-form-trigger",true);this.wrap.setStyle("overflow","hidden");var c=this;d.each(function(h,a,i){h.hide=function(){var e=c.wrap.getWidth();this.dom.style.display="none";c.el.setWidth(e-c.trigger.getWidth());};h.show=function(){var e=c.wrap.getWidth();this.dom.style.display="";c.el.setWidth(e-c.trigger.getWidth());};var b="Trigger"+(i+1);if(this["hide"+b]){h.dom.style.display="none";}h.on("click",this["on"+b+"Click"],this,{preventDefault:true});h.addClassOnOver("x-form-trigger-over");h.addClassOnClick("x-form-trigger-click");},this);this.triggers=d.elements;},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",growPad:0,enterIsSpecial:false,preventScrollbars:false,onRender:function(c,d){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"};}Ext.form.TextArea.superclass.onRender.call(this,c,d);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden");}this.el.setHeight(this.growMin);}},onDestroy:function(){if(this.textSizeEl){Ext.removeNode(this.textSizeEl);}Ext.form.TextArea.superclass.onDestroy.call(this);},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!=b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b);}},onKeyUp:function(b){if(!b.isNavKeyPress()||b.getKey()==b.ENTER){this.autoSize();}Ext.form.TextArea.superclass.onKeyUp.call(this,b);},autoSize:function(){if(!this.grow||!this.textSizeEl){return;}var i=this.el;var g=i.dom.value;var h=this.textSizeEl;h.innerHTML="";h.appendChild(document.createTextNode(g));g=h.innerHTML;Ext.fly(h).setWidth(this.el.getWidth());if(g.length<1){g="&#160;&#160;";}else{if(Ext.isIE){g=g.replace(/\n/g,"<p>&#160;</p>");}g+=this.growAppend;}h.innerHTML=g;var e=Math.min(this.growMax,Math.max(h.offsetHeight,this.growMin)+this.growPad);if(e!=this.lastHeight){this.lastHeight=e;this.el.setHeight(e);this.fireEvent("autosize",this,e);}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){Ext.form.NumberField.superclass.initEvents.call(this);var c=this.baseChars+"";if(this.allowDecimals){c+=this.decimalSeparator;}if(this.allowNegative){c+="-";}this.stripCharsRe=new RegExp("[^"+c+"]","gi");var d=function(b){var e=b.getKey();if(!Ext.isIE&&(b.isSpecialKey()||e==b.BACKSPACE||e==b.DELETE)){return;}var a=b.getCharCode();if(c.indexOf(String.fromCharCode(a))===-1){b.stopEvent();}};this.el.on("keypress",d,this);},validateValue:function(c){if(!Ext.form.NumberField.superclass.validateValue.call(this,c)){return false;}if(c.length<1){return true;}c=String(c).replace(this.decimalSeparator,".");if(isNaN(c)){this.markInvalid(String.format(this.nanText,c));return false;}var d=this.parseValue(c);if(d<this.minValue){this.markInvalid(String.format(this.minText,this.minValue));return false;}if(d>this.maxValue){this.markInvalid(String.format(this.maxText,this.maxValue));return false;}return true;},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)));},setValue:function(b){b=typeof b=="number"?b:parseFloat(String(b).replace(this.decimalSeparator,"."));b=isNaN(b)?"":String(b).replace(".",this.decimalSeparator);Ext.form.NumberField.superclass.setValue.call(this,b);},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?"":b;},fixPrecision:function(c){var d=isNaN(c);if(!this.allowDecimals||this.decimalPrecision==-1||d||!c){return d?"":c;}return parseFloat(parseFloat(c).toFixed(this.decimalPrecision));},beforeBlur:function(){var b=this.parseValue(this.getRawValue());if(b){this.setValue(this.fixPrecision(b));}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);if(typeof this.minValue=="string"){this.minValue=this.parseDate(this.minValue);}if(typeof this.maxValue=="string"){this.maxValue=this.parseDate(this.maxValue);}this.disabledDatesRE=null;this.initDisabledDays();},initDisabledDays:function(){if(this.disabledDates){var e=this.disabledDates;var g="(?:";for(var d=0;d<e.length;d++){g+=e[d];if(d!=e.length-1){g+="|";}}this.disabledDatesRE=new RegExp(g+")");}},setDisabledDates:function(b){this.disabledDates=b;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE);}},setDisabledDays:function(b){this.disabledDays=b;if(this.menu){this.menu.picker.setDisabledDays(b);}},setMinValue:function(b){this.minValue=(typeof b=="string"?this.parseDate(b):b);if(this.menu){this.menu.picker.setMinDate(this.minValue);}},setMaxValue:function(b){this.maxValue=(typeof b=="string"?this.parseDate(b):b);if(this.menu){this.menu.picker.setMaxDate(this.maxValue);}},validateValue:function(l){l=this.formatDate(l);if(!Ext.form.DateField.superclass.validateValue.call(this,l)){return false;}if(l.length<1){return true;}var n=l;l=this.parseDate(l);if(!l){this.markInvalid(String.format(this.invalidText,n,this.format));return false;}var k=l.getTime();if(this.minValue&&k<this.minValue.getTime()){this.markInvalid(String.format(this.minText,this.formatDate(this.minValue)));return false;}if(this.maxValue&&k>this.maxValue.getTime()){this.markInvalid(String.format(this.maxText,this.formatDate(this.maxValue)));return false;}if(this.disabledDays){var i=l.getDay();for(var h=0;h<this.disabledDays.length;h++){if(i===this.disabledDays[h]){this.markInvalid(this.disabledDaysText);return false;}}}var m=this.formatDate(l);if(this.disabledDatesRE&&this.disabledDatesRE.test(m)){this.markInvalid(String.format(this.disabledDatesText,m));return false;}return true;},validateBlur:function(){return !this.menu||!this.menu.isVisible();},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||"";},setValue:function(b){Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)));},parseDate:function(h){if(!h||Ext.isDate(h)){return h;}var e=Date.parseDate(h,this.format);if(!e&&this.altFormats){if(!this.altFormatsArray){this.altFormatsArray=this.altFormats.split("|");}for(var i=0,g=this.altFormatsArray.length;i<g&&!e;i++){e=Date.parseDate(h,this.altFormatsArray[i]);}}return e;},onDestroy:function(){if(this.menu){this.menu.destroy();}if(this.wrap){this.wrap.remove();}Ext.form.DateField.superclass.onDestroy.call(this);},formatDate:function(b){return Ext.isDate(b)?b.dateFormat(this.format):b;},menuListeners:{select:function(d,c){this.setValue(c);},show:function(){this.onFocus();},hide:function(){this.focus.defer(10,this);var b=this.menuListeners;this.menu.un("select",b.select,this);this.menu.un("show",b.show,this);this.menu.un("hide",b.hide,this);}},onTriggerClick:function(){if(this.disabled){return;}if(this.menu==null){this.menu=new Ext.menu.DateMenu();}Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.on(Ext.apply({},this.menuListeners,{scope:this}));this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");},beforeBlur:function(){var b=this.parseDate(this.getRawValue());if(b){this.setValue(b);}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:function(){},isValid:function(){return true;},validate:function(){return true;},getRawValue:function(){var b=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(b===this.emptyText){b="";}if(this.htmlEncode){b=Ext.util.Format.htmlDecode(b);}return b;},getValue:function(){return this.getRawValue();},setRawValue:function(b){if(this.htmlEncode){b=Ext.util.Format.htmlEncode(b);}return this.rendered?(this.el.dom.innerHTML=(b===null||b===undefined?"":b)):(this.value=b);},setValue:function(b){this.setRawValue(b);}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,editable:true,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){this.allowDomMove=false;var p=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=p.name;}if(!this.store){this.mode="local";var l=[],o=p.options;for(var d=0,i=o.length;d<i;d++){var m=o[d];var n=(Ext.isIE?m.getAttributeNode("value").specified:m.hasAttribute("value"))?m.value:m.text;if(m.selected){this.value=n;}l.push([n,m.text]);}this.store=new Ext.data.ArrayStore({id:0,fields:["value","text"],data:l});this.valueField="value";this.displayField="text";}p.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(p,this.autoCreate||this.defaultAutoCreate);Ext.removeNode(p);this.render(this.el.parentNode);}else{Ext.removeNode(p);}}else{if(Ext.isArray(this.store)){if(Ext.isArray(this.store[0])){this.store=new Ext.data.ArrayStore({fields:["value","text"],data:this.store});this.valueField="value";}else{this.store=new Ext.data.ArrayStore({fields:["text"],data:this.store,expandData:true});this.valueField="text";}this.displayField="text";this.mode="local";}}this.selectedIndex=-1;if(this.mode=="local"){if(this.initialConfig.queryDelay===undefined){this.queryDelay=10;}if(this.initialConfig.minChars===undefined){this.minChars=0;}}},onRender:function(c,d){Ext.form.ComboBox.superclass.onRender.call(this,c,d);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||this.hiddenName)},"before",true);this.el.dom.removeAttribute("name");}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off");}if(!this.lazyInit){this.initList();}else{this.on("focus",this.initList,this,{single:true});}if(!this.editable){this.editable=true;this.setEditable(false);}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=this.hiddenValue!==undefined?this.hiddenValue:this.value!==undefined?this.value:"";}},initList:function(){if(!this.list){var d="x-combo-list";this.list=new Ext.Layer({shadow:this.shadow,cls:[d,this.listClass].join(" "),constrain:false});var c=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setWidth(c);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.title){this.header=this.list.createChild({cls:d+"-hd",html:this.title});this.assetHeight+=this.header.getHeight();}this.innerList=this.list.createChild({cls:d+"-inner"});this.innerList.on("mouseover",this.onViewOver,this);this.innerList.on("mousemove",this.onViewMove,this);this.innerList.setWidth(c-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:d+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight();}if(!this.tpl){this.tpl='<tpl for="."><div class="'+d+'-item">{'+this.displayField+"}</div></tpl>";}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+d+"-item"});this.view.on("click",this.onViewClick,this);this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.resizer.on("resize",function(a,g,b){this.maxHeight=b-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=g;this.innerList.setWidth(g-this.list.getFrameWidth("lr"));this.restrictHeight();},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px");}}},bindStore:function(d,c){if(this.store&&!c){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("loadexception",this.collapse,this);if(!d){this.store=null;if(this.view){this.view.setStore(null);}}}if(d){this.store=Ext.StoreMgr.lookup(d);this.store.on("beforeload",this.onBeforeLoad,this);this.store.on("load",this.onLoad,this);this.store.on("loadexception",this.collapse,this);if(this.view){this.view.setStore(d);}}},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(b){this.inKeyMode=true;this.selectPrev();},down:function(b){if(!this.isExpanded()){this.onTriggerClick();}else{this.inKeyMode=true;this.selectNext();}},enter:function(b){this.onViewClick();this.delayedCheck=true;this.unsetDelayCheck.defer(10,this);},esc:function(b){this.collapse();},tab:function(b){this.onViewClick(false);return true;},scope:this,doRelay:function(g,d,e){if(e=="down"||this.scope.isExpanded()){return Ext.KeyNav.prototype.doRelay.apply(this,arguments);}return true;},forceKeyDown:true});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this);}if(this.editable!==false){this.el.on("keyup",this.onKeyUp,this);}if(this.forceSelection){this.on("blur",this.doForce,this);}},onDestroy:function(){if(this.view){Ext.destroy(this.view);}if(this.list){if(this.innerList){this.innerList.un("mouseover",this.onViewOver,this);this.innerList.un("mousemove",this.onViewMove,this);}this.list.destroy();}this.bindStore(null);Ext.form.ComboBox.superclass.onDestroy.call(this);},unsetDelayCheck:function(){delete this.delayedCheck;},fireKey:function(b){if(b.isNavKeyPress()&&!this.isExpanded()&&!this.delayedCheck){this.fireEvent("specialkey",this,b);}},onResize:function(e,d){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(this.list&&this.listWidth===undefined){var g=Math.max(e,this.minListWidth);this.list.setWidth(g);this.innerList.setWidth(g-this.list.getFrameWidth("lr"));}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false;}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true;}},setEditable:function(b){if(b==this.editable){return;}this.editable=b;if(!b){this.el.dom.setAttribute("readOnly",true);this.el.on("mousedown",this.onTriggerClick,this);this.el.addClass("x-combo-noedit");}else{this.el.dom.setAttribute("readOnly",false);this.el.un("mousedown",this.onTriggerClick,this);this.el.removeClass("x-combo-noedit");}},onBeforeLoad:function(){if(!this.hasFocus){return;}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1;},onLoad:function(){if(!this.hasFocus){return;}if(this.store.getCount()>0){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select();}if(!this.selectByValue(this.value,true)){this.select(0,true);}}else{this.selectNext();if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay);}}}else{this.onEmptyResults();}},onTypeAhead:function(){if(this.store.getCount()>0){var e=this.store.getAt(0);var i=e.data[this.displayField];var g=i.length;var h=this.getRawValue().length;if(h!=g){this.setRawValue(i);this.selectText(h,i.length);}}},onSelect:function(d,c){if(this.fireEvent("beforeselect",this,d,c)!==false){this.setValue(d.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,d,c);}},getValue:function(){if(this.valueField){return typeof this.value!="undefined"?this.value:"";}else{return Ext.form.ComboBox.superclass.getValue.call(this);}},clearValue:function(){if(this.hiddenField){this.hiddenField.value="";}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value="";},setValue:function(e){var g=e;if(this.valueField){var d=this.findRecord(this.valueField,e);if(d){g=d.data[this.displayField];}else{if(this.valueNotFoundText!==undefined){g=this.valueNotFoundText;}}}this.lastSelectionText=g;if(this.hiddenField){this.hiddenField.value=e;}Ext.form.ComboBox.superclass.setValue.call(this,g);this.value=e;},findRecord:function(g,d){var e;if(this.store.getCount()>0){this.store.each(function(a){if(a.data[g]==d){e=a;return false;}});}return e;},onViewMove:function(c,d){this.inKeyMode=false;},onViewOver:function(h,e){if(this.inKeyMode){return;}var i=this.view.findItemFromChild(e);if(i){var g=this.view.indexOf(i);this.select(g,false);}},onViewClick:function(d){var e=this.view.getSelectedIndexes()[0];var g=this.store.getAt(e);if(g){this.onSelect(g,e);}if(d!==false){this.el.focus();}},restrictHeight:function(){this.innerList.dom.style.height="";var h=this.innerList.dom;var l=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight;var n=Math.max(h.clientHeight,h.offsetHeight,h.scrollHeight);var i=this.getPosition()[1]-Ext.getBody().getScroll().top;var k=Ext.lib.Dom.getViewHeight()-i-this.getSize().height;var m=Math.max(i,k,this.minHeight||0)-this.list.shadowOffset-l-5;n=Math.min(n,m,this.maxHeight);this.innerList.setHeight(n);this.list.beginUpdate();this.list.setHeight(n+l);this.list.alignTo(this.wrap,this.listAlign);this.list.endUpdate();},onEmptyResults:function(){this.collapse();},isExpanded:function(){return this.list&&this.list.isVisible();},selectByValue:function(e,g){if(e!==undefined&&e!==null){var d=this.findRecord(this.valueField||this.displayField,e);if(d){this.select(this.store.indexOf(d),g);return true;}}return false;},select:function(e,g){this.selectedIndex=e;this.view.select(e);if(g!==false){var d=this.view.getNode(e);if(d){this.innerList.scrollChildIntoView(d,false);}}},selectNext:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0);}else{if(this.selectedIndex<b-1){this.select(this.selectedIndex+1);}}}},selectPrev:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0);}else{if(this.selectedIndex!=0){this.select(this.selectedIndex-1);}}}},onKeyUp:function(b){if(this.editable!==false&&!b.isSpecialKey()){this.lastKey=b.getKey();this.dqTask.delay(this.queryDelay);}},validateBlur:function(){return !this.list||!this.list.isVisible();},initQuery:function(){this.doQuery(this.getRawValue());},doForce:function(){if(this.el.dom.value.length>0){this.el.dom.value=this.lastSelectionText===undefined?"":this.lastSelectionText;this.applyEmptyText();}},doQuery:function(g,d){if(g===undefined||g===null){g="";}var e={query:g,forceAll:d,combo:this,cancel:false};if(this.fireEvent("beforequery",e)===false||e.cancel){return false;}g=e.query;d=e.forceAll;if(d===true||(g.length>=this.minChars)){if(this.lastQuery!==g){this.lastQuery=g;if(this.mode=="local"){this.selectedIndex=-1;if(d){this.store.clearFilter();}else{this.store.filter(this.displayField,g);}this.onLoad();}else{this.store.baseParams[this.queryParam]=g;this.store.load({params:this.getParams(g)});this.expand();}}else{this.selectedIndex=-1;this.onLoad();}}},getParams:function(d){var c={};if(this.pageSize){c.start=0;c.limit=this.pageSize;}return c;},collapse:function(){if(!this.isExpanded()){return;}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this);},collapseIf:function(b){if(!b.within(this.wrap)&&!b.within(this.list)){this.collapse();}},expand:function(){if(this.isExpanded()||!this.hasFocus){return;}this.list.alignTo(this.wrap,this.listAlign);this.list.show();this.innerList.setOverflow("auto");Ext.getDoc().on("mousewheel",this.collapseIf,this);Ext.getDoc().on("mousedown",this.collapseIf,this);this.fireEvent("expand",this);},onTriggerClick:function(){if(this.disabled){return;}if(this.isExpanded()){this.collapse();this.el.focus();}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true);}else{this.doQuery(this.getRawValue());}this.el.focus();}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check");},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel){this.el.alignTo(this.wrap,"c-c");}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.el.on("click",this.onClick,this);this.el.on("change",this.onClick,this);},getResizeEl:function(){return this.wrap;},getPositionEl:function(){return this.wrap;},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(c,d){Ext.form.Checkbox.superclass.onRender.call(this,c,d);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue;}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel});}if(this.checked){this.setValue(true);}else{this.checked=this.el.dom.checked;}},onDestroy:function(){if(this.wrap){this.wrap.remove();}Ext.form.Checkbox.superclass.onDestroy.call(this);},initValue:Ext.emptyFn,getValue:function(){if(this.rendered){return this.el.dom.checked;}return false;},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked);}},setValue:function(b){this.checked=(b===true||b==="true"||b=="1"||String(b).toLowerCase()=="on");if(this.el&&this.el.dom){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked;}this.fireEvent("check",this,this.checked);}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",onRender:function(x,z){if(!this.el){var l={cls:this.groupCls,layout:"column",border:false,renderTo:x};var E={defaultType:this.defaultType,layout:"form",border:false,defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(l,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var A=0,v=this.items.length;A<v;A++){Ext.applyIf(this.items[A],E);}}else{var B,u=[];if(typeof this.columns=="string"){this.columns=this.items.length;}if(!Ext.isArray(this.columns)){var w=[];for(var A=0;A<this.columns;A++){w.push((100/this.columns)*0.01);}this.columns=w;}B=this.columns.length;for(var A=0;A<B;A++){var D=Ext.apply({items:[]},E);D[this.columns[A]<=1?"columnWidth":"width"]=this.columns[A];if(this.defaults){D.defaults=Ext.apply(D.defaults||{},this.defaults);}u.push(D);}if(this.vertical){var F=Math.ceil(this.items.length/B),t=0;for(var A=0,v=this.items.length;A<v;A++){if(A>0&&A%F==0){t++;}if(this.items[A].fieldLabel){this.items[A].hideLabel=false;}u[t].items.push(this.items[A]);}}else{for(var A=0,v=this.items.length;A<v;A++){var i=A%B;if(this.items[A].fieldLabel){this.items[A].hideLabel=false;}u[i].items.push(this.items[A]);}}Ext.apply(l,{layoutConfig:{columns:B},items:u});}this.panel=new Ext.Panel(l);this.el=this.panel.getEl();if(this.forId&&this.itemCls){var C=this.el.up(this.itemCls).child("label",true);if(C){C.setAttribute("htmlFor",this.forId);}}var y=this.panel.findBy(function(a){return a.isFormField;},this);this.items=new Ext.util.MixedCollection();this.items.addAll(y);}Ext.form.CheckboxGroup.superclass.onRender.call(this,x,z);},validateValue:function(d){if(!this.allowBlank){var c=true;this.items.each(function(a){if(a.checked){return c=false;}},this);if(c){this.markInvalid(this.blankText);return false;}}return true;},onDisable:function(){this.items.each(function(b){b.disable();});},onEnable:function(){this.items.each(function(b){b.enable();});},onResize:function(d,c){this.panel.setSize(d,c);this.panel.doLayout();},reset:function(){Ext.form.CheckboxGroup.superclass.reset.call(this);this.items.each(function(b){if(b.reset){b.reset();}},this);},initValue:Ext.emptyFn,getValue:Ext.emptyFn,getRawValue:Ext.emptyFn,setValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var d=this.el.up("form")||Ext.getBody();var c=d.child("input[name="+this.el.dom.name+"]:checked",true);return c?c.value:null;},onClick:function(){if(this.el.dom.checked!=this.checked){var c=this.el.up("form")||Ext.getBody();var d=c.select("input[name="+this.el.dom.name+"]");d.each(function(a){if(a.dom.id==this.id){this.setValue(true);}else{Ext.getCmp(a.dom.id).setValue(false);}},this);}},setValue:function(d){if(typeof d=="boolean"){Ext.form.Radio.superclass.setValue.call(this,d);}else{var c=this.el.up("form").child("input[name="+this.el.dom.name+"][value="+d+"]",true);if(c){c.checked=true;}}}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group"});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments);},initEvents:function(){this.originalValue=this.getValue();},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=function(c,d){Ext.apply(this,d);this.items=new Ext.util.MixedCollection(false,function(a){return a.id||(a.id=Ext.id());});this.addEvents("beforeaction","actionfailed","actioncomplete");if(c){this.initEl(c);}Ext.form.BasicForm.superclass.constructor.call(this);};Ext.extend(Ext.form.BasicForm,Ext.util.Observable,{timeout:30,activeAction:null,trackResetOnLoad:false,initEl:function(b){this.el=Ext.get(b);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this);}this.el.addClass("x-form");},getEl:function(){return this.el;},onSubmit:function(b){b.stopEvent();},destroy:function(){this.items.each(function(b){Ext.destroy(b);});if(this.el){this.el.removeAllListeners();this.el.remove();}this.purgeListeners();},isValid:function(){var b=true;this.items.each(function(a){if(!a.validate()){b=false;}});return b;},isDirty:function(){var b=false;this.items.each(function(a){if(a.isDirty()){b=true;return false;}});return b;},doAction:function(c,d){if(typeof c=="string"){c=new Ext.form.Action.ACTION_TYPES[c](this,d);}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);c.run.defer(100,c);}return this;},submit:function(c){if(this.standardSubmit){var d=this.isValid();if(d){this.el.dom.submit();}return d;}this.doAction("submit",c);return this;},load:function(b){this.doAction("load",b);return this;},updateRecord:function(c){c.beginEdit();var d=c.fields;d.each(function(b){var a=this.findField(b.name);if(a){c.set(b.name,a.getValue());}},this);c.endEdit();return this;},loadRecord:function(b){this.setValues(b.data);return this;},beforeAction:function(d){var c=d.options;if(c.waitMsg){if(this.waitMsgTarget===true){this.el.mask(c.waitMsg,"x-mask-loading");}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(c.waitMsg,"x-mask-loading");}else{Ext.MessageBox.wait(c.waitMsg,c.waitTitle||this.waitTitle||"Please Wait...");}}}},afterAction:function(e,g){this.activeAction=null;var d=e.options;if(d.waitMsg){if(this.waitMsgTarget===true){this.el.unmask();}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask();}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide();}}}if(g){if(d.reset){this.reset();}Ext.callback(d.success,d.scope,[this,e]);this.fireEvent("actioncomplete",this,e);}else{Ext.callback(d.failure,d.scope,[this,e]);this.fireEvent("actionfailed",this,e);}},findField:function(c){var d=this.items.get(c);if(!d){this.items.each(function(a){if(a.isFormField&&(a.dataIndex==c||a.id==c||a.getName()==c)){d=a;return false;}});}return d||null;},markInvalid:function(l){if(Ext.isArray(l)){for(var p=0,k=l.length;p<k;p++){var i=l[p];var o=this.findField(i.id);if(o){o.markInvalid(i.msg);}}}else{var n,m;for(m in l){if(typeof l[m]!="function"&&(n=this.findField(m))){n.markInvalid(l[m]);}}}return this;},setValues:function(p){if(Ext.isArray(p)){for(var o=0,k=p.length;o<k;o++){var i=p[o];var n=this.findField(i.id);if(n){n.setValue(i.value);if(this.trackResetOnLoad){n.originalValue=n.getValue();}}}}else{var m,l;for(l in p){if(typeof p[l]!="function"&&(m=this.findField(l))){m.setValue(p[l]);if(this.trackResetOnLoad){m.originalValue=m.getValue();}}}}return this;},getValues:function(c){var d=Ext.lib.Ajax.serializeForm(this.el.dom);if(c===true){return d;}return Ext.urlDecode(d);},getFieldValues:function(){var b={};this.items.each(function(a){b[a.getName()]=a.getValue();});return b;},clearInvalid:function(){this.items.each(function(b){b.clearInvalid();});return this;},reset:function(){this.items.each(function(b){b.reset();});return this;},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this;},remove:function(b){this.items.remove(b);return this;},render:function(){this.items.each(function(b){if(b.isFormField&&!b.rendered&&document.getElementById(b.id)){b.applyToMarkup(b.id);}});return this;},applyToFields:function(b){this.items.each(function(a){Ext.apply(a,b);});return this;},applyIfToFields:function(b){this.items.each(function(a){Ext.applyIf(a,b);});return this;},callFieldMethod:function(c,d){d=d||[];this.items.each(function(a){if(typeof a[c]=="function"){a[c].apply(a,d);}});return this;}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{buttonAlign:"center",minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data";}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"]);},createForm:function(){delete this.initialConfig.listeners;return new Ext.form.BasicForm(null,this.initialConfig);},initFields:function(){var g=this.form;var e=this;var d=function(a){if(a.isFormField){g.add(a);}if(a.isFieldWrap){Ext.applyIf(a,{labelAlign:a.ownerCt.labelAlign,labelWidth:a.ownerCt.labelWidth,itemCls:a.ownerCt.itemCls});g.add(a.field);}else{if(a.doLayout&&a!=e){Ext.applyIf(a,{labelAlign:a.ownerCt.labelAlign,labelWidth:a.ownerCt.labelWidth,itemCls:a.ownerCt.itemCls});if(a.items){a.items.each(d);}}}};this.items.each(d);},getLayoutTarget:function(){return this.form.el;},getForm:function(){return this.form;},onRender:function(c,d){this.initFields();Ext.FormPanel.superclass.onRender.call(this,c,d);this.form.initEl(this.body);},beforeDestroy:function(){Ext.FormPanel.superclass.beforeDestroy.call(this);this.stopMonitoring();Ext.destroy(this.form);},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.items.on("remove",this.onRemove,this);this.items.on("add",this.onAdd,this);if(this.monitorValid){this.startMonitoring();}},onAdd:function(d,c){if(c.isFormField){this.form.add(c);}},onRemove:function(b){if(b.isFormField){Ext.destroy(b.container.up(".x-form-item"));this.form.remove(b);}},startMonitoring:function(){if(!this.bound){this.bound=true;Ext.TaskMgr.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this});}},stopMonitoring:function(){this.bound=false;},load:function(){this.form.load.apply(this.form,arguments);},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable();});}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable();});}},bindHandler:function(){if(!this.bound){return false;}var i=true;this.form.items.each(function(a){if(!a.isValid(true)){i=false;return false;}});if(this.fbar){var g=this.fbar.items.items;for(var k=0,h=g.length;k<h;k++){var l=g[k];if(l.formBind===true&&l.disabled===i){l.setDisabled(!i);}}}this.fireEvent("clientvalidation",this,i);}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",onRender:function(d,e){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className="x-fieldset-header";}}Ext.form.FieldSet.superclass.onRender.call(this,d,e);if(this.checkboxToggle){var g=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(g);this.checkbox.dom.checked=!this.collapsed;this.checkbox.on("click",this.onCheckClick,this);}},onCollapse:function(d,c){if(this.checkbox){this.checkbox.dom.checked=false;}this.afterCollapse();},onExpand:function(d,c){if(this.checkbox){this.checkbox.dom.checked=true;}this.afterExpand();},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]();},beforeDestroy:function(){if(this.checkbox){this.checkbox.un("click",this.onCheckClick,this);}Ext.form.FieldSet.superclass.beforeDestroy.call(this);}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");},createFontOptions:function(){var m=[],h=this.fontFamilies,n,k;for(var l=0,i=h.length;l<i;l++){n=h[l];k=n.toLowerCase();m.push('<option value="',k,'" style="font-family:',n,';"',(this.defaultFont==k?' selected="true">':">"),n,"</option>");}return m.join("");},createToolbar:function(h){var g=Ext.QuickTips&&Ext.QuickTips.isEnabled();function i(a,c,b){return{itemId:a,cls:"x-btn-icon x-edit-"+a,enableToggle:c!==false,scope:h,handler:b||h.relayBtnCmd,clickEvent:"mousedown",tooltip:g?h.buttonTips[a]||undefined:undefined,tabIndex:-1};}var e=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild});e.el.on("click",function(a){a.preventDefault();});if(this.enableFont&&!Ext.isSafari2){this.fontSelect=e.el.createChild({tag:"select",cls:"x-font-select",html:this.createFontOptions()});this.fontSelect.on("change",function(){var a=this.fontSelect.dom.value;this.relayCmd("fontname",a);this.deferFocus();},this);e.add(this.fontSelect.dom,"-");}if(this.enableFormat){e.add(i("bold"),i("italic"),i("underline"));}if(this.enableFontSize){e.add("-",i("increasefontsize",false,this.adjustFont),i("decreasefontsize",false,this.adjustFont));}if(this.enableColors){e.add("-",{itemId:"forecolor",cls:"x-btn-icon x-edit-forecolor",clickEvent:"mousedown",tooltip:g?h.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,selectHandler:function(a,b){this.execCmd("forecolor",Ext.isSafari||Ext.isIE?"#"+b:b);this.deferFocus();},scope:this,clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon x-edit-backcolor",clickEvent:"mousedown",tooltip:g?h.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,selectHandler:function(a,b){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",b);this.execCmd("useCSS",true);this.deferFocus();}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isSafari||Ext.isIE?"#"+b:b);this.deferFocus();}},scope:this,clickEvent:"mousedown"})});}if(this.enableAlignments){e.add("-",i("justifyleft"),i("justifycenter"),i("justifyright"));}if(!Ext.isSafari2){if(this.enableLinks){e.add("-",i("createlink",false,this.createLink));}if(this.enableLists){e.add("-",i("insertorderedlist"),i("insertunorderedlist"));}if(this.enableSourceEdit){e.add("-",i("sourceedit",true,function(a){this.toggleSourceEdit(a.pressed);}));}}this.tb=e;},getDocMarkup:function(){return'<html><head><style type="text/css">body{border:0;margin:0;padding:3px;height:98%;cursor:text;}</style></head><body></body></html>';},getEditorBody:function(){return this.doc.body||this.doc.documentElement;},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document);},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name];},onRender:function(d,e){Ext.form.HtmlEditor.superclass.onRender.call(this,d,e);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;");}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.tb.items.each(function(a){if(a.itemId!="sourceedit"){a.disable();}});this.tb.doLayout();this.createIFrame();if(!this.width){var g=this.el.getSize();this.setSize(g.width,this.height||g.height);}},createIFrame:function(){var b=document.createElement("iframe");b.name=Ext.id();b.frameBorder="0";b.src=Ext.isIE?Ext.SSL_SECURE_URL:"javascript:;";this.wrap.dom.appendChild(b);this.iframe=b;this.initFrame();if(this.autoMonitorDesignMode!==false){this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100});}},initFrame:function(){this.doc=this.getDoc();this.win=this.getWin();this.doc.open();this.doc.write(this.getDocMarkup());this.doc.close();var b={run:function(){if(this.doc.body||this.doc.readyState=="complete"){Ext.TaskMgr.stop(b);this.doc.designMode="on";this.initEditor.defer(10,this);}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(b);},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var b=this.getDoc();if(!b){return;}if(!b.editorInitialized||String(b.designMode).toLowerCase()!="on"){this.initFrame();}}},onResize:function(e,i){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(typeof e=="number"){var h=e-this.wrap.getFrameWidth("lr");this.el.setWidth(this.adjustWidth("textarea",h));this.iframe.style.width=h+"px";}if(typeof i=="number"){var g=i-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(this.adjustWidth("textarea",g));this.iframe.style.height=g+"px";if(this.doc){this.getEditorBody().style.height=(g-(this.iframePad*2))+"px";}}}},toggleSourceEdit:function(e){if(e===undefined){e=!this.sourceEditMode;}this.sourceEditMode=e===true;var g=this.tb.items.get("sourceedit");if(g.pressed!==this.sourceEditMode){g.toggle(this.sourceEditMode);return;}if(this.sourceEditMode){this.tb.items.each(function(a){if(a.itemId!="sourceedit"){a.disable();}});this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus();}else{if(this.initialized){this.tb.items.each(function(a){a.enable();});}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();}var d=this.lastSize;if(d){delete this.lastSize;this.setSize(d);}this.fireEvent("editmodechange",this,this.sourceEditMode);},createLink:function(){var b=prompt(this.createLinkText,this.defaultLinkValue);if(b&&b!="http://"){this.relayCmd("createlink",b);}},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap;},getPositionEl:function(){return this.wrap;},initEvents:function(){this.originalValue=this.getValue();},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(b){Ext.form.HtmlEditor.superclass.setValue.call(this,b);this.pushValue();},cleanHtml:function(b){b=String(b);if(b.length>5){if(Ext.isSafari){b=b.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"");}}if(b=="&nbsp;"){b="";}return b;},syncValue:function(){if(this.initialized){var h=this.getEditorBody();var i=h.innerHTML;if(Ext.isSafari){var e=h.getAttribute("style");var g=e.match(/text-align:(.*?);/i);if(g&&g[1]){i='<div style="'+g[0]+'">'+i+"</div>";}}i=this.cleanHtml(i);if(this.fireEvent("beforesync",this,i)!==false){this.el.dom.value=i;this.fireEvent("sync",this,i);}}},pushValue:function(){if(this.initialized){var b=this.el.dom.value;if(!this.activated&&b.length<1){b="&nbsp;";}if(this.fireEvent("beforepush",this,b)!==false){this.getEditorBody().innerHTML=b;this.fireEvent("push",this,b);}}},deferFocus:function(){this.focus.defer(10,this);},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus();}else{this.el.focus();}},initEditor:function(){var d=this.getEditorBody();var e=this.el.getStyles("font-size","font-family","background-image","background-repeat");e["background-attachment"]="fixed";d.bgProperties="fixed";Ext.DomHelper.applyStyles(d,e);if(this.doc){try{Ext.EventManager.removeAll(this.doc);}catch(g){}}this.doc=this.getDoc();Ext.EventManager.on(this.doc,{mousedown:this.onEditorEvent,dblclick:this.onEditorEvent,click:this.onEditorEvent,keyup:this.onEditorEvent,buffer:100,scope:this});if(Ext.isGecko){Ext.EventManager.on(this.doc,"keypress",this.applyCommand,this);}if(Ext.isIE||Ext.isSafari||Ext.isOpera){Ext.EventManager.on(this.doc,"keydown",this.fixKeys,this);}this.initialized=true;this.fireEvent("initialize",this);this.doc.editorInitialized=true;this.pushValue();},onDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask);}if(this.rendered){this.tb.items.each(function(b){if(b.menu){b.menu.removeAll();if(b.menu.el){b.menu.el.destroy();}}b.destroy();});this.wrap.dom.innerHTML="";this.wrap.remove();}},onFirstFocus:function(){this.activated=true;this.tb.items.each(function(a){a.enable();});if(Ext.isGecko){this.win.focus();var e=this.win.getSelection();if(!e.focusNode||e.focusNode.nodeType!=3){var d=e.getRangeAt(0);d.selectNodeContents(this.getEditorBody());d.collapse(true);this.deferFocus();}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false);}catch(g){}}this.fireEvent("activate",this);},adjustFont:function(d){var g=d.itemId=="increasefontsize"?1:-1;var e=parseInt(this.doc.queryCommandValue("FontSize")||2,10);if(Ext.isSafari3||Ext.isAir){if(e<=10){e=1+g;}else{if(e<=13){e=2+g;}else{if(e<=16){e=3+g;}else{if(e<=18){e=4+g;}else{if(e<=24){e=5+g;}else{e=6+g;}}}}}e=e.constrain(1,6);}else{if(Ext.isSafari){g*=2;}e=Math.max(1,e+g)+(Ext.isSafari?"px":0);}this.execCmd("FontSize",e);},onEditorEvent:function(b){this.updateToolbar();},updateToolbar:function(){if(!this.activated){this.onFirstFocus();return;}var d=this.tb.items.map,g=this.doc;if(this.enableFont&&!Ext.isSafari2){var e=(this.doc.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(e!=this.fontSelect.dom.value){this.fontSelect.dom.value=e;}}if(this.enableFormat){d.bold.toggle(g.queryCommandState("bold"));d.italic.toggle(g.queryCommandState("italic"));d.underline.toggle(g.queryCommandState("underline"));}if(this.enableAlignments){d.justifyleft.toggle(g.queryCommandState("justifyleft"));d.justifycenter.toggle(g.queryCommandState("justifycenter"));d.justifyright.toggle(g.queryCommandState("justifyright"));}if(!Ext.isSafari2&&this.enableLists){d.insertorderedlist.toggle(g.queryCommandState("insertorderedlist"));d.insertunorderedlist.toggle(g.queryCommandState("insertunorderedlist"));}Ext.menu.MenuMgr.hideAll();this.syncValue();},relayBtnCmd:function(b){this.relayCmd(b.itemId);},relayCmd:function(c,d){(function(){this.focus();this.execCmd(c,d);this.updateToolbar();}).defer(10,this);},execCmd:function(c,d){this.doc.execCommand(c,false,d===undefined?null:d);this.syncValue();},applyCommand:function(c){if(c.ctrlKey){var g=c.getCharCode(),e;if(g>0){g=String.fromCharCode(g);switch(g){case"b":e="bold";break;case"i":e="italic";break;case"u":e="underline";break;}if(e){this.win.focus();this.execCmd(e);this.deferFocus();c.preventDefault();}}}},insertAtCursor:function(c){if(!this.activated){return;}if(Ext.isIE){this.win.focus();var d=this.doc.selection.createRange();if(d){d.collapse(true);d.pasteHTML(c);this.syncValue();this.deferFocus();}}else{if(Ext.isGecko||Ext.isOpera){this.win.focus();this.execCmd("InsertHTML",c);this.deferFocus();}else{if(Ext.isSafari){this.execCmd("InsertText",c);this.deferFocus();}}}},fixKeys:function(){if(Ext.isIE){return function(h){var g=h.getKey(),e;if(g==h.TAB){h.stopEvent();e=this.doc.selection.createRange();if(e){e.collapse(true);e.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus();}}else{if(g==h.ENTER){e=this.doc.selection.createRange();if(e){var i=e.parentElement();if(!i||i.tagName.toLowerCase()!="li"){h.stopEvent();e.pasteHTML("<br />");e.collapse(false);e.select();}}}}};}else{if(Ext.isOpera){return function(c){var d=c.getKey();if(d==c.TAB){c.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus();}};}else{if(Ext.isSafari){return function(c){var d=c.getKey();if(d==c.TAB){c.stopEvent();this.execCmd("InsertText","\t");this.deferFocus();}};}}}}(),getToolbar:function(){return this.tb;},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:null,maxValue:null,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initComponent:function(){Ext.form.TimeField.superclass.initComponent.call(this);if(typeof this.minValue=="string"){this.minValue=this.parseDate(this.minValue);}if(typeof this.maxValue=="string"){this.maxValue=this.parseDate(this.maxValue);}if(!this.store){var d=this.parseDate(this.minValue);if(!d){d=new Date(this.initDate).clearTime();}var e=this.parseDate(this.maxValue);if(!e){e=new Date(this.initDate).clearTime().add("mi",(24*60)-1);}var g=[];while(d<=e){g.push([d.dateFormat(this.format)]);d=d.add("mi",this.increment);}this.store=new Ext.data.ArrayStore({fields:["text"],data:g});this.displayField="text";}},getValue:function(){var b=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(b))||"";},setValue:function(b){Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)));},validateValue:Ext.form.DateField.prototype.validateValue,parseDate:Ext.form.DateField.prototype.parseDate,formatDate:Ext.form.DateField.prototype.formatDate,beforeBlur:function(){var b=this.parseDate(this.getRawValue());if(b){this.setValue(b.dateFormat(this.format));}}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(c,d){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId);}}Ext.form.Label.superclass.onRender.call(this,c,d);},setText:function(d,c){this.text=d;if(this.rendered){this.el.dom.innerHTML=c!==false?Ext.util.Format.htmlEncode(d):d;}return this;}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(c,d){this.form=c;this.options=d||{};};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(b){},success:function(b){},handleResponse:function(b){},failure:function(b){this.response=b;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false);},processResponse:function(b){this.response=b;if(!b.responseText){return true;}this.result=this.handleResponse(b);return this.result;},getUrl:function(g){var e=this.options.url||this.form.url||this.form.el.dom.action;if(g){var d=this.getParams();if(d){e+=(e.indexOf("?")!=-1?"&":"?")+d;}}return e;},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase();},getParams:function(){var d=this.form.baseParams;var c=this.options.params;if(c){if(typeof c=="object"){c=Ext.urlEncode(Ext.applyIf(c,d));}else{if(typeof c=="string"&&d){c+="&"+Ext.urlEncode(d);}}}else{if(d){c=Ext.urlEncode(d);}}return c;},createCallback:function(b){var b=b||{};return{success:this.success,failure:this.failure,scope:this,timeout:(b.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined};}};Ext.form.Action.Submit=function(c,d){Ext.form.Action.Submit.superclass.constructor.call(this,c,d);};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var d=this.options;var g=this.getMethod();var e=g=="GET";if(d.clientValidation===false||this.form.isValid()){Ext.Ajax.request(Ext.apply(this.createCallback(d),{form:this.form.el.dom,url:this.getUrl(e),method:g,headers:d.headers,params:!e?this.getParams():null,isUpload:this.form.fileUpload}));}else{if(d.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false);}}},success:function(c){var d=this.processResponse(c);if(d===true||d.success){this.form.afterAction(this,true);return;}if(d.errors){this.form.markInvalid(d.errors);this.failureType=Ext.form.Action.SERVER_INVALID;}this.form.afterAction(this,false);},handleResponse:function(n){if(this.form.errorReader){var h=this.form.errorReader.read(n);var k=[];if(h.records){for(var m=0,i=h.records.length;m<i;m++){var l=h.records[m];k[m]=l.data;}}if(k.length<1){k=null;}return{success:h.success,errors:k};}return Ext.decode(n.responseText);}});Ext.form.Action.Load=function(c,d){Ext.form.Action.Load.superclass.constructor.call(this,c,d);this.reader=this.form.reader;};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}));},success:function(c){var d=this.processResponse(c);if(d===true||!d.success||!d.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return;}this.form.clearInvalid();this.form.setValues(d.data);this.form.afterAction(this,true);},handleResponse:function(d){if(this.form.reader){var e=this.form.reader.read(d);var g=e.records&&e.records[0]?e.records[0].data:null;return{success:e.success,data:g};}return Ext.decode(d.responseText);}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit};Ext.form.VTypes=function(){var i=/^[a-zA-Z_]+$/;var h=/^[a-zA-Z0-9_]+$/;var e=/^([\w]+)(.[\w]+)*@([\w-]+\.){1,5}([A-Za-z]){2,4}$/;var g=/(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return e.test(a);},emailText:'This field should be an e-mail address in the format "user@domain.com"',emailMask:/[a-z0-9_\.\-@]/i,url:function(a){return g.test(a);},urlText:'This field should be a URL in the format "http://www.domain.com"',alpha:function(a){return i.test(a);},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return h.test(a);},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i};}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{ddText:"{0} selected row{1}",minColumnWidth:25,trackMouseOver:true,enableDragDrop:false,enableColumnMove:true,enableColumnHide:true,enableHdMenu:true,stripeRows:false,autoExpandColumn:false,autoExpandMin:50,autoExpandMax:1000,view:null,loadMask:false,columnLines:false,deferRowRender:true,rendered:false,viewReady:false,stateEvents:["columnmove","columnresize","sortchange"],initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines";}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns;}if(this.ds){this.store=this.ds;delete this.ds;}if(this.cm){this.colModel=this.cm;delete this.cm;}if(this.sm){this.selModel=this.sm;delete this.sm;}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","bodyscroll","columnresize","columnmove","sortchange");},onRender:function(i,g){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var h=this.body;this.el.addClass("x-grid-panel");var c=this.getView();c.init(this);h.on("mousedown",this.onMouseDown,this);h.on("click",this.onClick,this);h.on("dblclick",this.onDblClick,this);h.on("contextmenu",this.onContextMenu,this);h.on("keydown",this.onKeyDown,this);this.relayEvents(h,["mousedown","mouseup","mouseover","mouseout","keypress"]);this.getSelectionModel().init(this);this.view.render();},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask));}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.colModel.on("hiddenchange",this.saveState,this,{delay:100});},applyState:function(o){var c=this.colModel;var p=o.columns;if(p){for(var r=0,m=p.length;r<m;r++){var q=p[r];var i=c.getColumnById(q.id);if(i){i.hidden=q.hidden;i.width=q.width;var n=c.getIndexById(q.id);if(n!=r){c.moveColumn(n,r);}}}}if(o.sort&&this.store){this.store[this.store.remoteSort?"setDefaultSort":"sort"](o.sort.field,o.sort.direction);}},getState:function(){var i={columns:[]};for(var c=0,h;h=this.colModel.config[c];c++){i.columns[c]={id:h.id,width:h.width};if(h.hidden){i.columns[c].hidden=true;}}if(this.store){var g=this.store.getSortState();if(g){i.sort=g;}}return i;},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);this.view.layout();if(this.deferRowRender){this.view.afterRender.defer(10,this.view);}else{this.view.afterRender();}this.viewReady=true;},reconfigure:function(d,c){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:d},this.initialConfig.loadMask));}this.view.bind(d,c);this.store=d;this.colModel=c;if(this.rendered){this.view.refresh(true);}},onKeyDown:function(b){this.fireEvent("keydown",b);},onDestroy:function(){if(this.rendered){if(this.loadMask){this.loadMask.destroy();}var b=this.body;b.removeAllListeners();this.view.destroy();b.update("");}this.colModel.purgeListeners();Ext.grid.GridPanel.superclass.onDestroy.call(this);},processEvent:function(p,n){this.fireEvent(p,n);var o=n.getTarget();var e=this.view;var l=e.findHeaderIndex(o);if(l!==false){this.fireEvent("header"+p,this,l,n);}else{var m=e.findRowIndex(o);var k=e.findCellIndex(o);if(m!==false){this.fireEvent("row"+p,this,m,n);if(k!==false){this.fireEvent("cell"+p,this,m,k,n);}}}},onClick:function(b){this.processEvent("click",b);},onMouseDown:function(b){this.processEvent("mousedown",b);},onContextMenu:function(c,d){this.processEvent("contextmenu",c);},onDblClick:function(b){this.processEvent("dblclick",b);},walkCells:function(m,t,u,r,n){var o=this.colModel,q=o.getColumnCount();var v=this.store,p=v.getCount(),s=true;if(u<0){if(t<0){m--;s=false;}while(m>=0){if(!s){t=q-1;}s=false;while(t>=0){if(r.call(n||this,m,t,o)===true){return[m,t];}t--;}m--;}}else{if(t>=q){m++;s=false;}while(m<p){if(!s){t=0;}s=false;while(t<q){if(r.call(n||this,m,t,o)===true){return[m,t];}t++;}m++;}}return null;},getSelections:function(){return this.selModel.getSelections();},onResize:function(){Ext.grid.GridPanel.superclass.onResize.apply(this,arguments);if(this.viewReady){this.view.layout();}},getGridEl:function(){return this.body;},stopEditing:function(){},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null);}return this.selModel;},getStore:function(){return this.store;},getColumnModel:function(){return this.colModel;},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig);}return this.view;},getDragDropText:function(){var b=this.selModel.getCount();return String.format(this.ddText,b,b==1?"":"s");}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.GridView=function(b){Ext.apply(this,b);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this);};Ext.extend(Ext.grid.GridView,Ext.util.Observable,{deferEmptyText:true,scrollOffset:19,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",initTemplates:function(){var g=this.templates||{};if(!g.master){g.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset">{header}</div></div><div class="x-clear"></div></div>','<div class="x-grid3-scroller"><div class="x-grid3-body">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>");}if(!g.header){g.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>");}if(!g.hcell){g.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>");}if(!g.body){g.body=new Ext.Template("{rows}");}if(!g.row){g.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",(this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':""),"</tbody></table></div>");}if(!g.cell){g.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>");}for(var e in g){var d=g[e];if(d&&typeof d.compile=="function"&&!d.compiled){d.disableFormats=true;d.compile();}}this.templates=g;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","");},fly:function(b){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body);}this._flyweight.dom=b;return this._flyweight;},getEditorParent:function(b){return this.scroller.dom;},initElements:function(){var g=Ext.Element;var d=this.grid.getGridEl().dom.firstChild;var e=d.childNodes;this.el=new g(d);this.mainWrap=new g(e[0]);this.mainHd=new g(this.mainWrap.dom.firstChild);if(this.grid.hideHeaders){this.mainHd.setDisplayed(false);}this.innerHd=this.mainHd.dom.firstChild;this.scroller=new g(this.mainWrap.dom.childNodes[1]);if(this.forceFit){this.scroller.setStyle("overflow-x","hidden");}this.mainBody=new g(this.scroller.dom.firstChild);this.focusEl=new g(this.scroller.dom.childNodes[1]);this.focusEl.swallowEvent("click",true);this.resizeMarker=new g(e[1]);this.resizeProxy=new g(e[2]);},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[];},findCell:function(b){if(!b){return false;}return this.fly(b).findParent(this.cellSelector,this.cellSelectorDepth);},findCellIndex:function(g,d){var e=this.findCell(g);if(e&&(!d||this.fly(e).hasClass(d))){return this.getCellIndex(e);}return false;},getCellIndex:function(c){if(c){var d=c.className.match(this.colRe);if(d&&d[1]){return this.cm.getIndexById(d[1]);}}return false;},findHeaderCell:function(c){var d=this.findCell(c);return d&&this.fly(d).hasClass(this.hdCls)?d:null;},findHeaderIndex:function(b){return this.findCellIndex(b,this.hdCls);},findRow:function(b){if(!b){return false;}return this.fly(b).findParent(this.rowSelector,this.rowSelectorDepth);},findRowIndex:function(d){var c=this.findRow(d);return c?c.rowIndex:false;},getRow:function(b){return this.getRows()[b];},getCell:function(c,d){return this.getRow(c).getElementsByTagName("td")[d];},getHeaderCell:function(b){return this.mainHd.dom.getElementsByTagName("td")[b];},addRowClass:function(g,e){var d=this.getRow(g);if(d){this.fly(d).addClass(e);}},removeRowClass:function(g,e){var d=this.getRow(g);if(d){this.fly(d).removeClass(e);}},removeRow:function(b){Ext.removeNode(this.getRow(b));this.syncFocusEl(b);},removeRows:function(i,g){var e=this.mainBody.dom;for(var h=i;h<=g;h++){Ext.removeNode(e.childNodes[i]);}this.syncFocusEl(i);},getScrollState:function(){var b=this.scroller.dom;return{left:b.scrollLeft,top:b.scrollTop};},restoreScroll:function(d){var c=this.scroller.dom;c.scrollLeft=d.left;c.scrollTop=d.top;},scrollToTop:function(){this.scroller.dom.scrollTop=0;this.scroller.dom.scrollLeft=0;},syncScroll:function(){this.syncHeaderScroll();var b=this.scroller.dom;this.grid.fireEvent("bodyscroll",b.scrollLeft,b.scrollTop);},syncHeaderScroll:function(){var b=this.scroller.dom;this.innerHd.scrollLeft=b.scrollLeft;this.innerHd.scrollLeft=b.scrollLeft;},updateSortIcon:function(e,g){var h=this.sortClasses;var i=this.mainHd.select("td").removeClass(h);i.item(e).addClass(h[g=="DESC"?1:0]);},updateAllColumnWidths:function(){var s=this.getTotalWidth();var n=this.cm.getColumnCount();var q=[];for(var u=0;u<n;u++){q[u]=this.getColumnWidth(u);}this.innerHd.firstChild.firstChild.style.width=s;for(var u=0;u<n;u++){var t=this.getHeaderCell(u);t.style.width=q[u];}var p=this.getRows(),i,o;for(var u=0,r=p.length;u<r;u++){i=p[u];i.style.width=s;if(i.firstChild){i.firstChild.style.width=s;o=i.firstChild.rows[0];for(var v=0;v<n;v++){o.childNodes[v].style.width=q[v];}}}this.onAllColumnWidthsUpdated(q,s);},updateColumnWidth:function(s,t){var m=this.getColumnWidth(s);var p=this.getTotalWidth();this.innerHd.firstChild.firstChild.style.width=p;var q=this.getHeaderCell(s);q.style.width=m;var n=this.getRows(),i;for(var r=0,o=n.length;r<o;r++){i=n[r];i.style.width=p;if(i.firstChild){i.firstChild.style.width=p;i.firstChild.rows[0].childNodes[s].style.width=m;}}this.onColumnWidthUpdated(s,m,p);},updateColumnHidden:function(t,p){var q=this.getTotalWidth();this.innerHd.firstChild.firstChild.style.width=q;var n=p?"none":"";var r=this.getHeaderCell(t);r.style.display=n;var m=this.getRows(),i;for(var s=0,o=m.length;s<o;s++){i=m[s];i.style.width=q;if(i.firstChild){i.firstChild.style.width=q;i.firstChild.rows[0].childNodes[t].style.display=n;}}this.onColumnHiddenUpdated(t,p,q);delete this.lastViewWidth;this.layout();},doRender:function(P,N,F,T,H,r){var S=this.templates,Q=S.cell,O=S.row,M=H-1;var R="width:"+this.getTotalWidth()+";";var c=[],E,I,D={},L={tstyle:R},J;for(var C=0,i=N.length;C<i;C++){J=N[C];E=[];var K=(C+T);for(var p=0;p<H;p++){I=P[p];D.id=I.id;D.css=p==0?"x-grid3-cell-first ":(p==M?"x-grid3-cell-last ":"");D.attr=D.cellAttr="";D.value=I.renderer(J.data[I.name],D,J,K,p,F);D.style=I.style;if(D.value==undefined||D.value===""){D.value="&#160;";}if(this.markDirty&&J.dirty&&typeof J.modified[I.name]!=="undefined"){D.css+=" x-grid3-dirty-cell";}E[E.length]=Q.apply(D);}var G=[];if(r&&((K+1)%2==0)){G[0]="x-grid3-row-alt";}if(J.dirty){G[1]=" x-grid3-dirty-row";}L.cols=H;if(this.getRowClass){G[2]=this.getRowClass(J,K,L,F);}L.alt=G.join(" ");L.cells=E.join("");c[c.length]=O.apply(L);}return c.join("");},processRows:function(p,q){if(this.ds.getCount()<1){return;}q=q||!this.grid.stripeRows;p=p||0;var i=this.getRows();var o=" x-grid3-row-alt ";for(var s=p,r=i.length;s<r;s++){var m=i[s];m.rowIndex=s;if(!q){var t=((s+1)%2==0);var n=(" "+m.className+" ").indexOf(o)!=-1;if(t==n){continue;}if(t){m.className+=" x-grid3-row-alt";}else{m.className=m.className.replace("x-grid3-row-alt","");}}}},afterRender:function(){if(!this.ds||!this.cm){return;}this.mainBody.dom.innerHTML=this.renderRows();this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText();}},renderUI:function(){var h=this.renderHeaders();var g=this.templates.body.apply({rows:""});var e=this.templates.master.apply({body:g,header:h});var i=this.grid;i.getGridEl().dom.innerHTML=e;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on("mouseover",this.handleHdOver,this);this.mainHd.on("mouseout",this.handleHdOut,this);this.mainHd.on("mousemove",this.handleHdMove,this);this.scroller.on("scroll",this.syncScroll,this);if(i.enableColumnResize!==false){this.splitone=new Ext.grid.GridView.SplitDragZone(i,this.mainHd.dom);}if(i.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(i,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(i,this.mainHd.dom);}if(i.enableHdMenu!==false){if(i.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:i.id+"-hcols-menu"});this.colMenu.on("beforeshow",this.beforeColMenuShow,this);this.colMenu.on("itemclick",this.handleHdMenuClick,this);}this.hmenu=new Ext.menu.Menu({id:i.id+"-hctx"});this.hmenu.add({id:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{id:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(i.enableColumnHide!==false){this.hmenu.add("-",{id:"columns",text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"});}this.hmenu.on("itemclick",this.handleHdMenuClick,this);}if(i.trackMouseOver){this.mainBody.on("mouseover",this.onRowOver,this);this.mainBody.on("mouseout",this.onRowOut,this);}if(i.enableDragDrop||i.enableDrag){this.dragZone=new Ext.grid.GridDragZone(i,{ddGroup:i.ddGroup||"GridDD"});}this.updateHeaderSortState();},layout:function(){if(!this.mainBody){return;}var n=this.grid;var k=n.getGridEl();var g=k.getSize(true);var c=g.width;if(c<20||g.height<20){return;}if(n.autoHeight){this.scroller.dom.style.overflow="visible";}else{this.el.setSize(g.width,g.height);var l=this.mainHd.getHeight();var m=g.height-(l);this.scroller.setSize(c,m);if(this.innerHd){this.innerHd.style.width=(c)+"px";}}if(this.forceFit){if(this.lastViewWidth!=c){this.fitColumns(false,false);this.lastViewWidth=c;}}else{this.autoExpand();this.syncHeaderScroll();}this.onLayout(c,m);},onLayout:function(d,c){},onColumnWidthUpdated:function(g,e,d){},onAllColumnWidthsUpdated:function(d,c){},onColumnHiddenUpdated:function(d,g,e){},updateColumnText:function(d,c){},afterMove:function(b){},init:function(b){this.grid=b;this.initTemplates();this.initData(b.store,b.colModel);this.initUI(b);},getColumnId:function(b){return this.cm.getColumnId(b);},renderHeaders:function(){var p=this.cm,m=this.templates;var n=m.hcell;var i=[],l={};for(var o=0,k=p.getColumnCount();o<k;o++){l.id=p.getColumnId(o);l.value=p.getColumnHeader(o)||"";l.style=this.getColumnStyle(o,true);l.tooltip=this.getColumnTooltip(o);if(p.config[o].align=="right"){l.istyle="padding-right:16px";}else{delete l.istyle;}i[i.length]=n.apply(l);}return m.header.apply({cells:i.join(""),tstyle:"width:"+this.getTotalWidth()+";"});},getColumnTooltip:function(d){var c=this.cm.getColumnTooltip(d);if(c){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+c+'"';}else{return'title="'+c+'"';}}return"";},beforeUpdate:function(){this.grid.stopEditing(true);},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();},focusRow:function(b){this.focusCell(b,0,false);},focusCell:function(g,e,d){this.syncFocusEl(this.ensureVisible(g,e,d));if(Ext.isGecko){this.focusEl.focus();}else{this.focusEl.focus.defer(1,this.focusEl);}},resolveCell:function(i,l,k){if(typeof i!="number"){i=i.rowIndex;}if(!this.ds){return null;}if(i<0||i>=this.ds.getCount()){return null;}l=(l!==undefined?l:0);var g=this.getRow(i),h;if(!(k===false&&l===0)){while(this.cm.isHidden(l)){l++;}h=this.getCell(i,l);}return{row:g,cell:h};},getResolvedXY:function(g){if(!g){return null;}var c=this.scroller.dom,h=g.cell,i=g.row;return h?Ext.fly(h).getXY():[c.scrollLeft+this.el.getX(),Ext.fly(i).getY()];},syncFocusEl:function(h,g,i){var e=h;if(!Ext.isArray(e)){h=Math.min(h,Math.max(0,this.getRows().length-1));e=this.getResolvedXY(this.resolveCell(h,g,i));}this.focusEl.setXY(e||this.scroller.getXY());},ensureVisible:function(H,C,D){var J=this.resolveCell(H,C,D);if(!J||!J.row){return;}var y=J.row,B=J.cell;var v=this.scroller.dom;var I=0;var E=y,p=this.el.dom;while(E&&E!=p){I+=E.offsetTop;E=E.offsetParent;}I-=this.mainHd.dom.offsetHeight;var c=I+y.offsetHeight;var G=v.clientHeight;var p=parseInt(v.scrollTop,10);var w=p+G;if(I<p){v.scrollTop=I;}else{if(c>w){v.scrollTop=c-G;}}if(D!==false){var x=parseInt(B.offsetLeft,10);var z=x+B.offsetWidth;var A=parseInt(v.scrollLeft,10);var F=A+v.clientWidth;if(x<A){v.scrollLeft=x;}else{if(z>F){v.scrollLeft=z-v.clientWidth;}}}return this.getResolvedXY(J);},insertRows:function(i,k,n,l){if(!l&&k===0&&n>=i.getCount()-1){this.refresh();}else{if(!l){this.fireEvent("beforerowsinserted",this,k,n);}var h=this.renderRows(k,n);var m=this.getRow(k);if(m){Ext.DomHelper.insertHtml("beforeBegin",m,h);}else{Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,h);}if(!l){this.fireEvent("rowsinserted",this,k,n);this.processRows(k);}}this.syncFocusEl(k);},deleteRows:function(e,g,d){if(e.getRowCount()<1){this.refresh();}else{this.fireEvent("beforerowsdeleted",this,g,d);this.removeRows(g,d);this.processRows(g);this.fireEvent("rowsdeleted",this,g,d);}},getColumnStyle:function(g,i){var e=!i?(this.cm.config[g].css||""):"";e+="width:"+this.getColumnWidth(g)+";";if(this.cm.isHidden(g)){e+="display:none;";}var h=this.cm.config[g].align;if(h){e+="text-align:"+h+";";}return e;},getColumnWidth:function(c){var d=this.cm.getColumnWidth(c);if(typeof d=="number"){return(Ext.isBorderBox?d:(d-this.borderWidth>0?d-this.borderWidth:0))+"px";}return d;},getTotalWidth:function(){return this.cm.getTotalWidth()+"px";},fitColumns:function(E,B,A){var i=this.cm,z;var y=i.getTotalWidth(false);var H=this.grid.getGridEl().getWidth(true)-this.scrollOffset;if(H<20){return;}var D=H-y;if(D===0){return false;}var x=i.getColumnCount(true);var I=x-(typeof A=="number"?1:0);if(I===0){I=1;A=undefined;}var J=i.getColumnCount();var v=[];var w=0;var F=0;var u;for(z=0;z<J;z++){if(!i.isHidden(z)&&!i.isFixed(z)&&z!==A){u=i.getColumnWidth(z);v.push(z);w=z;v.push(u);F+=u;}}var G=(H-i.getTotalWidth())/F;while(v.length){u=v.pop();z=v.pop();i.setColumnWidth(z,Math.max(this.grid.minColumnWidth,Math.floor(u+u*G)),true);}if((y=i.getTotalWidth(false))>H){var C=I!=x?A:w;i.setColumnWidth(C,Math.max(1,i.getColumnWidth(C)-(y-H)),true);}if(E!==true){this.updateAllColumnWidths();}return true;},autoExpand:function(g){var n=this.grid,l=this.cm;if(!this.userResized&&n.autoExpandColumn){var q=l.getTotalWidth(false);var m=this.grid.getGridEl().getWidth(true)-this.scrollOffset;if(q!=m){var o=l.getIndexById(n.autoExpandColumn);var p=l.getColumnWidth(o);var r=Math.min(Math.max(((m-q)+p),n.autoExpandMin),n.autoExpandMax);if(r!=p){l.setColumnWidth(o,r,true);if(g!==true){this.updateColumnWidth(o,r);}}}}},getColumnData:function(){var k=[],h=this.cm,i=h.getColumnCount();for(var l=0;l<i;l++){var g=h.getDataIndex(l);k[l]={name:(typeof g=="undefined"?this.ds.fields.get(l).name:g),renderer:h.getRenderer(l),id:h.getColumnId(l),style:this.getColumnStyle(l)};}return k;},renderRows:function(m,r){var q=this.grid,o=q.colModel,t=q.store,g=q.stripeRows;var n=o.getColumnCount();if(t.getCount()<1){return"";}var p=this.getColumnData();m=m||0;r=typeof r=="undefined"?t.getCount()-1:r;var s=t.getRange(m,r);return this.doRender(p,s,t,m,n,g);},renderBody:function(){var b=this.renderRows();return this.templates.body.apply({rows:b});},refreshRow:function(e){var g=this.ds,d;if(typeof e=="number"){d=e;e=g.getAt(d);}else{d=g.indexOf(e);}this.insertRows(g,d,d,true);this.getRow(d).rowIndex=d;this.onRemove(g,e,d+1,true);this.fireEvent("rowupdated",this,d,e);},refresh:function(c){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var d=this.renderBody();this.mainBody.update(d);if(c===true){this.updateHeaders();this.updateHeaderSortState();}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this);},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>");}},updateHeaderSortState:function(){var d=this.ds.getSortState();if(!d){return;}if(!this.sortState||(this.sortState.field!=d.field||this.sortState.direction!=d.direction)){this.grid.fireEvent("sortchange",this.grid,d);}this.sortState=d;var g=this.cm.findColumnIndex(d.field);if(g!=-1){var e=d.direction;this.updateSortIcon(g,e);}},destroy:function(){if(this.colMenu){Ext.menu.MenuMgr.unregister(this.colMenu);this.colMenu.destroy();delete this.colMenu;}if(this.hmenu){Ext.menu.MenuMgr.unregister(this.hmenu);this.hmenu.destroy();delete this.hmenu;}if(this.grid.enableColumnMove){var g=Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id];if(g){for(var e in g){if(!g[e].config.isTarget&&g[e].dragElId){var d=g[e].dragElId;g[e].unreg();Ext.get(d).remove();}else{if(g[e].config.isTarget){g[e].proxyTop.remove();g[e].proxyBottom.remove();g[e].unreg();}}if(Ext.dd.DDM.locationCache[e]){delete Ext.dd.DDM.locationCache[e];}}delete Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id];}}if(this.dragZone){this.dragZone.unreg();}Ext.fly(this.innerHd).removeAllListeners();Ext.removeNode(this.innerHd);Ext.destroy(this.resizeMarker,this.resizeProxy,this.focusEl,this.mainBody,this.scroller,this.mainHd,this.mainWrap,this.dragZone,this.splitone,this.columnDrag,this.columnDrop);this.initData(null,null);Ext.EventManager.removeResizeListener(this.onWindowResize,this);},onDenyColumnHide:function(){},render:function(){if(this.autoFill){this.fitColumns(true,true);}else{if(this.forceFit){this.fitColumns(true,false);}else{if(this.grid.autoExpandColumn){this.autoExpand(true);}}}this.renderUI();},initData:function(c,d){if(this.ds){this.ds.un("load",this.onLoad,this);this.ds.un("datachanged",this.onDataChange,this);this.ds.un("add",this.onAdd,this);this.ds.un("remove",this.onRemove,this);this.ds.un("update",this.onUpdate,this);this.ds.un("clear",this.onClear,this);}if(c){c.on("load",this.onLoad,this);c.on("datachanged",this.onDataChange,this);c.on("add",this.onAdd,this);c.on("remove",this.onRemove,this);c.on("update",this.onUpdate,this);c.on("clear",this.onClear,this);}this.ds=c;if(this.cm){this.cm.un("configchange",this.onColConfigChange,this);this.cm.un("widthchange",this.onColWidthChange,this);this.cm.un("headerchange",this.onHeaderChange,this);this.cm.un("hiddenchange",this.onHiddenChange,this);this.cm.un("columnmoved",this.onColumnMove,this);this.cm.un("columnlockchange",this.onColumnLock,this);}if(d){delete this.lastViewWidth;d.on("configchange",this.onColConfigChange,this);d.on("widthchange",this.onColWidthChange,this);d.on("headerchange",this.onHeaderChange,this);d.on("hiddenchange",this.onHiddenChange,this);d.on("columnmoved",this.onColumnMove,this);d.on("columnlockchange",this.onColumnLock,this);}this.cm=d;},onDataChange:function(){this.refresh();this.updateHeaderSortState();this.syncFocusEl(0);},onClear:function(){this.refresh();this.syncFocusEl(0);},onUpdate:function(c,d){this.refreshRow(d);},onAdd:function(g,e,d){this.insertRows(g,d,d+(e.length-1));},onRemove:function(h,g,e,i){if(i!==true){this.fireEvent("beforerowremoved",this,e,g);}this.removeRow(e);if(i!==true){this.processRows(e);this.applyEmptyText();this.fireEvent("rowremoved",this,e,g);}},onLoad:function(){this.scrollToTop();},onColWidthChange:function(e,d,g){this.updateColumnWidth(d,g);},onHeaderChange:function(e,d,g){this.updateHeaders();},onHiddenChange:function(e,d,g){this.updateColumnHidden(d,g);},onColumnMove:function(g,h,e){this.indexMap=null;var i=this.getScrollState();this.refresh(true);this.restoreScroll(i);this.afterMove(e);},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true);},initUI:function(b){b.on("headerclick",this.onHeaderClick,this);},initEvents:function(){},onHeaderClick:function(c,d){if(this.headersDisabled||!this.cm.isSortable(d)){return;}c.stopEditing(true);c.store.sort(this.cm.getDataIndex(d));},onRowOver:function(d,e){var g;if((g=this.findRowIndex(e))!==false){this.addRowClass(g,"x-grid3-row-over");}},onRowOut:function(d,e){var g;if((g=this.findRowIndex(e))!==false&&!d.within(this.getRow(g),true)){this.removeRowClass(g,"x-grid3-row-over");}},handleWheel:function(b){b.stopPropagation();},onRowSelect:function(b){this.addRowClass(b,this.selectedRowClass);},onRowDeselect:function(b){this.removeRowClass(b,this.selectedRowClass);},onCellSelect:function(g,d){var e=this.getCell(g,d);if(e){this.fly(e).addClass("x-grid3-cell-selected");}},onCellDeselect:function(g,d){var e=this.getCell(g,d);if(e){this.fly(e).removeClass("x-grid3-cell-selected");}},onColumnSplitterMoved:function(g,d){this.userResized=true;var e=this.grid.colModel;e.setColumnWidth(g,d,true);if(this.forceFit){this.fitColumns(true,false,g);this.updateAllColumnWidths();}else{this.updateColumnWidth(g,d);this.syncHeaderScroll();}this.grid.fireEvent("columnresize",g,d);},handleHdMenuClick:function(i){var e=this.hdCtxIndex;var g=this.cm,h=this.ds;switch(i.id){case"asc":h.sort(g.getDataIndex(e),"ASC");break;case"desc":h.sort(g.getDataIndex(e),"DESC");break;default:e=g.getIndexById(i.id.substr(4));if(e!=-1){if(i.checked&&g.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return false;}g.setHidden(e,i.checked);}}return true;},isHideableColumn:function(b){return !b.hidden&&!b.fixed;},beforeColMenuShow:function(){var e=this.cm,g=e.getColumnCount();this.colMenu.removeAll();for(var d=0;d<g;d++){if(e.config[d].fixed!==true&&e.config[d].hideable!==false){this.colMenu.add(new Ext.menu.CheckItem({id:"col-"+e.getColumnId(d),text:e.getColumnHeader(d),checked:!e.isHidden(d),hideOnClick:false,disabled:e.config[d].hideable===false}));}}},handleHdDown:function(k,m){if(Ext.fly(m).hasClass("x-grid3-hd-btn")){k.stopEvent();var l=this.findHeaderCell(m);Ext.fly(l).addClass("x-grid3-hd-menu-open");var n=this.getCellIndex(l);this.hdCtxIndex=n;var e=this.hmenu.items,i=this.cm;e.get("asc").setDisabled(!i.isSortable(n));e.get("desc").setDisabled(!i.isSortable(n));this.hmenu.on("hide",function(){Ext.fly(l).removeClass("x-grid3-hd-menu-open");},this,{single:true});this.hmenu.show(m,"tl-bl?");}},handleHdOver:function(h,g){var i=this.findHeaderCell(g);if(i&&!this.headersDisabled){this.activeHd=i;this.activeHdIndex=this.getCellIndex(i);var e=this.fly(i);this.activeHdRegion=e.getRegion();if(!this.cm.isMenuDisabled(this.activeHdIndex)){e.addClass("x-grid3-hd-over");this.activeHdBtn=e.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(i.firstChild.offsetHeight-1)+"px";}}}},handleHdMove:function(k,m){if(this.activeHd&&!this.headersDisabled){var e=this.splitHandleWidth||5;var l=this.activeHdRegion;var i=k.getPageX();var n=this.activeHd.style;if(i-l.left<=e&&this.cm.isResizable(this.activeHdIndex-1)){n.cursor=Ext.isAir?"move":Ext.isSafari?"e-resize":"col-resize";}else{if(l.right-i<=(!this.activeHdBtn?e:2)&&this.cm.isResizable(this.activeHdIndex)){n.cursor=Ext.isAir?"move":Ext.isSafari?"w-resize":"col-resize";}else{n.cursor="";}}}},handleHdOut:function(g,e){var d=this.findHeaderCell(e);if(d&&(!Ext.isIE||!g.within(d,true))){this.activeHd=null;this.fly(d).removeClass("x-grid3-hd-over");d.style.cursor="";}},hasRows:function(){var b=this.mainBody.dom.firstChild;return b&&b.className!="x-grid-empty";},bind:function(d,c){this.initData(d,c);}});Ext.grid.GridView.SplitDragZone=function(d,c){this.grid=d;this.view=d.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,c,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5;};Ext.extend(Ext.grid.GridView.SplitDragZone,Ext.dd.DDProxy,{b4StartDrag:function(h,i){this.view.headersDisabled=true;var k=this.view.mainWrap.getHeight();this.marker.setHeight(k);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(k);var g=this.cm.getColumnWidth(this.cellIndex);var l=Math.max(g-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(l,1000);this.setYConstraint(0,0);this.minX=h-l;this.maxX=h+1000;this.startPos=h;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,h,i);},handleMouseDown:function(v){var p=this.view.findHeaderCell(v.getTarget());if(p){var e=this.view.fly(p).getXY(),s=e[0],t=e[1];var o=v.getXY(),u=o[0];var q=p.offsetWidth,r=false;if((u-s)<=this.hw){r=-1;}else{if((s+q)-u<=this.hw){r=0;}}if(r!==false){this.cm=this.grid.colModel;var n=this.view.getCellIndex(p);if(r==-1){if(n+r<0){return;}while(this.cm.isHidden(n+r)){--r;if(n+r<0){return;}}}this.cellIndex=n+r;this.split=p.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments);}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(v);}}}},endDrag:function(h){this.marker.hide();var g=this.view;var e=Math.max(this.minX,h.getPageX());var i=e-this.startPos;g.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+i);setTimeout(function(){g.headersDisabled=false;},50);},autoOffset:function(){this.setDelta(0,0);}});Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",gidSeed:1000,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var b=this.grid.getSelectionModel();b.on(b.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div>',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">');}this.startGroup.compile();this.endGroup="</div></div>";},findGroup:function(b){return Ext.fly(b).up(".x-grid-group",this.mainBody.dom);},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[];},onAdd:function(){if(this.enableGrouping&&!this.ignoreAdd){var b=this.getScrollState();this.refresh();this.restoreScroll(b);}else{if(!this.enableGrouping){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments);}}},onRemove:function(i,h,g,k){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var l=document.getElementById(h._groupId);if(l&&l.childNodes[1].childNodes.length<1){Ext.removeNode(l);}this.applyEmptyText();},refreshRow:function(b){if(this.ds.getCount()==1){this.refresh();}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false;}},beforeMenuShow:function(){var g=this.getGroupField();var d=this.hmenu.items.get("groupBy");if(d){d.setDisabled(this.cm.config[this.hdCtxIndex].groupable===false);}var e=this.hmenu.items.get("showGroups");if(e){e.setDisabled(!g&&this.cm.config[this.hdCtxIndex].groupable===false);e.setChecked(!!g,true);}},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this);this.mainBody.on("mousedown",this.interceptMouse,this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{id:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({id:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this});}this.hmenu.on("beforeshow",this.beforeMenuShow,this);}},onGroupByClick:function(){this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));this.beforeMenuShow();},onShowGroupsClick:function(d,c){if(c){this.onGroupByClick();}else{this.grid.store.clearGrouping();}},toggleGroup:function(g,d){this.grid.stopEditing(true);g=Ext.getDom(g);var e=Ext.fly(g);d=d!==undefined?d:e.hasClass("x-grid-group-collapsed");this.state[e.dom.id]=d;e[d?"removeClass":"addClass"]("x-grid-group-collapsed");},toggleAllGroups:function(i){var e=this.getGroups();for(var h=0,g=e.length;h<g;h++){this.toggleGroup(e[h],i);}},expandAllGroups:function(){this.toggleAllGroups(true);},collapseAllGroups:function(){this.toggleAllGroups(false);},interceptMouse:function(c){var d=c.getTarget(".x-grid-group-hd",this.mainBody);if(d){c.stopEvent();this.toggleGroup(d.parentNode);}},getGroup:function(k,o,m,l,g,n){var p=m?m(k,{},o,l,g,n):String(k);if(p===""){p=this.cm.config[g].emptyGroupText||this.emptyGroupText;}return p;},getGroupField:function(){return this.grid.store.getGroupState();},renderRows:function(){var g=this.getGroupField();var h=!!g;if(this.hideGroupedColumn){var e=this.cm.findColumnIndex(g);if(!h&&this.lastGroupField!==undefined){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField;}else{if(h&&this.lastGroupField===undefined){this.lastGroupField=g;this.cm.setHidden(e,true);}else{if(h&&this.lastGroupField!==undefined&&g!==this.lastGroupField){this.mainBody.update("");var i=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(i,false);this.lastGroupField=g;this.cm.setHidden(e,true);}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments);},doRender:function(W,T,G,Z,H,E){if(T.length<1){return"";}var J=this.getGroupField();var I=this.cm.findColumnIndex(J);this.enableGrouping=!!J;if(!this.enableGrouping||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments);}var S="width:"+this.getTotalWidth()+";";var F=this.grid.getGridEl().id;var U=this.cm.config[I];var Y=U.groupRenderer||U.renderer;var r=this.showGroupName?(U.groupName||U.header)+": ":"";var K=[],P,i,g,M;for(i=0,g=T.length;i<g;i++){var Q=Z+i;var O=T[i],V=O.data[J],N=this.getGroup(V,O,Y,Q,I,G);if(!P||P.group!=N){M=F+"-gp-"+J+"-"+Ext.util.Format.htmlEncode(N);var X=typeof this.state[M]!=="undefined"?!this.state[M]:this.startCollapsed;var R=X?"x-grid-group-collapsed":"";P={group:N,gvalue:V,text:r+N,groupId:M,startRow:Q,rs:[O],cls:R,style:S};K.push(P);}else{P.rs.push(O);}O._groupId=M;}var L=[];for(i=0,g=K.length;i<g;i++){var N=K[i];this.doGroupStart(L,N,W,G,H);L[L.length]=Ext.grid.GroupingView.superclass.doRender.call(this,W,N.rs,G,N.startRow,H,E);this.doGroupEnd(L,N,W,G,H);}return L.join("");},getGroupId:function(m){var o=this.grid.getGridEl().id;var p=this.getGroupField();var n=this.cm.findColumnIndex(p);var i=this.cm.config[n];var l=i.groupRenderer||i.renderer;var k=this.getGroup(m,{data:{}},l,0,n,this.ds);return o+"-gp-"+p+"-"+Ext.util.Format.htmlEncode(m);},doGroupStart:function(h,k,g,i,l){h[h.length]=this.startGroup.apply(k);},doGroupEnd:function(h,k,g,i,l){h[h.length]=this.endGroup;},getRows:function(){if(!this.enableGrouping){return Ext.grid.GroupingView.superclass.getRows.call(this);}var l=[];var m,p=this.getGroups();for(var n=0,i=p.length;n<i;n++){m=p[n].childNodes[1].childNodes;for(var o=0,g=m.length;o<g;o++){l[l.length]=m[o];}}return l;},updateGroupWidths:function(){if(!this.enableGrouping||!this.hasRows()){return;}var i=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.scrollOffset)+"px";var e=this.getGroups();for(var h=0,g=e.length;h<g;h++){e[h].firstChild.style.width=i;}},onColumnWidthUpdated:function(g,e,d){this.updateGroupWidths();},onAllColumnWidthsUpdated:function(d,c){this.updateGroupWidths();},onColumnHiddenUpdated:function(d,g,e){this.updateGroupWidths();},onLayout:function(){this.updateGroupWidths();},onBeforeRowSelect:function(h,i){if(!this.enableGrouping){return;}var e=this.getRow(i);if(e&&!e.offsetParent){var g=this.findGroup(e);this.toggleGroup(g,true);}},groupByText:"Group By This Field",showGroupsText:"Show in Groups"});Ext.grid.GroupingView.GROUP_ID=1000;Ext.grid.HeaderDragZone=function(e,g,d){this.grid=e;this.view=e.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,g);if(d){this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(d));}this.scroll=false;};Ext.extend(Ext.grid.HeaderDragZone,Ext.dd.DragZone,{maxDragWidth:120,getDragData:function(g){var e=Ext.lib.Event.getTarget(g);var d=this.view.findHeaderCell(e);if(d){return{ddel:d.firstChild,header:d};}return false;},onInitDrag:function(d){this.view.headersDisabled=true;var c=this.dragData.ddel.cloneNode(true);c.id=Ext.id();c.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(c);return true;},afterValidDrop:function(){var b=this.view;setTimeout(function(){b.headersDisabled=false;},50);},afterInvalidDrop:function(){var b=this.view;setTimeout(function(){b.headersDisabled=false;},50);}});Ext.grid.HeaderDropZone=function(e,g,d){this.grid=e;this.view=e.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden");};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,e.getGridEl().dom);};Ext.extend(Ext.grid.HeaderDropZone,Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,getTargetFromEvent:function(g){var e=Ext.lib.Event.getTarget(g);var d=this.view.findCellIndex(e);if(d!==false){return this.view.getHeaderCell(d);}},nextVisible:function(g){var d=this.view,e=this.grid.colModel;g=g.nextSibling;while(g){if(!e.isHidden(d.getCellIndex(g))){return g;}g=g.nextSibling;}return null;},prevVisible:function(g){var d=this.view,e=this.grid.colModel;g=g.prevSibling;while(g){if(!e.isHidden(d.getCellIndex(g))){return g;}g=g.prevSibling;}return null;},positionIndicator:function(u,w,t){var q=Ext.lib.Event.getPageX(t);var x=Ext.lib.Dom.getRegion(w.firstChild);var n,e,r=x.top+this.proxyOffsets[1];if((x.right-q)<=(x.right-x.left)/2){n=x.right+this.view.borderWidth;e="after";}else{n=x.left;e="before";}var s=this.view.getCellIndex(u);var h=this.view.getCellIndex(w);if(this.grid.colModel.isFixed(h)){return false;}var v=this.grid.colModel.isLocked(h);if(e=="after"){h++;}if(s<h){h--;}if(s==h&&(v==this.grid.colModel.isLocked(s))){return false;}n+=this.proxyOffsets[0];this.proxyTop.setLeftTop(n,r);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight();}this.proxyBottom.setLeftTop(n,r+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return e;},onNodeEnter:function(h,g,i,e){if(e.header!=h){this.positionIndicator(e.header,h,i);}},onNodeOver:function(i,e,k,l){var h=false;if(l.header!=i){h=this.positionIndicator(l.header,i,k);}if(!h){this.proxyTop.hide();this.proxyBottom.hide();}return h?this.dropAllowed:this.dropNotAllowed;},onNodeOut:function(h,g,i,e){this.proxyTop.hide();this.proxyBottom.hide();},onNodeDrop:function(y,h,u,w){var v=w.header;if(v!=y){var r=this.grid.colModel;var s=Ext.lib.Event.getPageX(u);var z=Ext.lib.Dom.getRegion(y.firstChild);var e=(z.right-s)<=((z.right-z.left)/2)?"after":"before";var t=this.view.getCellIndex(v);var n=this.view.getCellIndex(y);var x=r.isLocked(n);if(e=="after"){n++;}if(t<n){n--;}if(t==n&&(x==r.isLocked(t))){return false;}r.setLocked(t,x,true);r.moveColumn(t,n);this.grid.fireEvent("columnmove",t,n);return true;}return false;}});Ext.grid.GridView.ColumnDragZone=function(d,c){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,d,c,null);this.proxy.el.addClass("x-grid3-col-dd");};Ext.extend(Ext.grid.GridView.ColumnDragZone,Ext.grid.HeaderDragZone,{handleMouseDown:function(b){},callHandleMouseDown:function(b){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,b);}});Ext.grid.SplitDragZone=function(e,g,d){this.grid=e;this.view=e.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,g,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(d));this.scroll=false;};Ext.extend(Ext.grid.SplitDragZone,Ext.dd.DDProxy,{fly:Ext.Element.fly,b4StartDrag:function(g,h){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var e=this.cm.getColumnWidth(this.cellIndex);var i=Math.max(e-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(i,1000);this.setYConstraint(0,0);this.minX=g-i;this.maxX=g+1000;this.startPos=g;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,g,h);},handleMouseDown:function(c){ev=Ext.EventObject.setEvent(c);var d=this.fly(ev.getTarget());if(d.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(d.dom);this.split=d.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments);}}},endDrag:function(g){this.view.headersDisabled=false;var e=Math.max(this.minX,Ext.lib.Event.getPageX(g));var d=e-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+d);},autoOffset:function(){this.setDelta(0,0);}});Ext.grid.GridDragZone=function(c,d){this.view=c.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,d);if(this.view.lockedBody){this.setHandleElId(Ext.id(this.view.mainBody.dom));this.setOuterHandleElId(Ext.id(this.view.lockedBody.dom));}this.scroll=false;this.grid=c;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap";};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(e){var g=Ext.lib.Event.getTarget(e);var h=this.view.findRowIndex(g);if(h!==false){var i=this.grid.selModel;if(!i.isSelected(h)||e.hasModifier()){i.handleMouseDown(this.grid,h,e);}return{grid:this.grid,ddel:this.ddel,rowIndex:h,selections:i.getSelections()};}return false;},onInitDrag:function(c){var d=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel);},afterRepair:function(){this.dragging=false;},getRepairXY:function(c,d){return false;},onEndDrag:function(d,c){},onValidDrop:function(e,d,g){this.hideProxy();},beforeInvalidDrop:function(d,c){}});Ext.grid.ColumnModel=function(b){if(b.columns){Ext.apply(this,b);this.setConfig(b.columns,true);}else{this.setConfig(b,true);}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","columnlockchange","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.ColumnModel,Ext.util.Observable,{defaultWidth:100,defaultSortable:false,getColumnId:function(b){return this.config[b].id;},getColumnAt:function(b){return this.config[b];},setConfig:function(m,n){if(!n){delete this.totalWidth;for(var l=0,i=this.config.length;l<i;l++){var k=this.config[l];if(k.editor){k.editor.destroy();}}}this.config=m;this.lookup={};for(var l=0,i=m.length;l<i;l++){var k=m[l];if(!k.isColumn){var c=Ext.grid.Column.types[k.xtype||"gridcolumn"];k=new c(k);m[l]=k;}this.lookup[k.id]=k;}if(!n){this.fireEvent("configchange",this);}},getColumnById:function(b){return this.lookup[b];},getIndexById:function(g){for(var d=0,e=this.config.length;d<e;d++){if(this.config[d].id==g){return d;}}return -1;},moveColumn:function(g,e){var c=this.config[g];this.config.splice(g,1);this.config.splice(e,0,c);this.dataMap=null;this.fireEvent("columnmoved",this,g,e);},isLocked:function(b){return this.config[b].locked===true;},setLocked:function(d,g,e){if(this.isLocked(d)==g){return;}this.config[d].locked=g;if(!e){this.fireEvent("columnlockchange",this,d,g);}},getTotalLockedWidth:function(){var d=0;for(var c=0;c<this.config.length;c++){if(this.isLocked(c)&&!this.isHidden(c)){this.totalWidth+=this.getColumnWidth(c);}}return d;},getLockedCount:function(){for(var c=0,d=this.config.length;c<d;c++){if(!this.isLocked(c)){return c;}}},getColumnCount:function(i){if(i===true){var h=0;for(var c=0,g=this.config.length;c<g;c++){if(!this.isHidden(c)){h++;}}return h;}return this.config.length;},getColumnsBy:function(m,n){var l=[];for(var c=0,i=this.config.length;c<i;c++){var k=this.config[c];if(m.call(n||this,k,c)===true){l[l.length]=k;}}return l;},isSortable:function(b){if(typeof this.config[b].sortable=="undefined"){return this.defaultSortable;}return this.config[b].sortable;},isMenuDisabled:function(b){return !!this.config[b].menuDisabled;},getRenderer:function(b){if(!this.config[b].renderer){return Ext.grid.ColumnModel.defaultRenderer;}return this.config[b].renderer;},setRenderer:function(d,c){this.config[d].renderer=c;},getColumnWidth:function(b){return this.config[b].width||this.defaultWidth;},setColumnWidth:function(d,g,e){this.config[d].width=g;this.totalWidth=null;if(!e){this.fireEvent("widthchange",this,d,g);}},getTotalWidth:function(d){if(!this.totalWidth){this.totalWidth=0;for(var g=0,e=this.config.length;g<e;g++){if(d||!this.isHidden(g)){this.totalWidth+=this.getColumnWidth(g);}}}return this.totalWidth;},getColumnHeader:function(b){return this.config[b].header;},setColumnHeader:function(d,c){this.config[d].header=c;this.fireEvent("headerchange",this,d,c);},getColumnTooltip:function(b){return this.config[b].tooltip;},setColumnTooltip:function(d,c){this.config[d].tooltip=c;},getDataIndex:function(b){return this.config[b].dataIndex;},setDataIndex:function(d,c){this.config[d].dataIndex=c;},findColumnIndex:function(i){var h=this.config;for(var c=0,g=h.length;c<g;c++){if(h[c].dataIndex==i){return c;}}return -1;},isCellEditable:function(d,c){return(this.config[d].editable||(typeof this.config[d].editable=="undefined"&&this.config[d].editor))?true:false;},getCellEditor:function(d,c){return this.config[d].getCellEditor(c);},setEditable:function(d,c){this.config[d].editable=c;},isHidden:function(b){return this.config[b].hidden;},isFixed:function(b){return this.config[b].fixed;},isResizable:function(b){return b>=0&&this.config[b].resizable!==false&&this.config[b].fixed!==true;},setHidden:function(e,c){var g=this.config[e];if(g.hidden!==c){g.hidden=c;this.totalWidth=null;this.fireEvent("hiddenchange",this,e,c);}},setEditor:function(d,c){this.config[d].editor=c;}});Ext.grid.ColumnModel.defaultRenderer=function(b){if(typeof b=="string"&&b.length<1){return"&#160;";}return b;};Ext.grid.AbstractSelectionModel=function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.AbstractSelectionModel,Ext.util.Observable,{init:function(b){this.grid=b;this.initEvents();},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;}});Ext.grid.RowSelectionModel=function(b){Ext.apply(this,b);this.selections=new Ext.util.MixedCollection(false,function(a){return a.id;});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.RowSelectionModel,Ext.grid.AbstractSelectionModel,{singleSelect:false,initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this);}else{this.grid.on("rowclick",function(a,e,g){if(g.button===0&&!g.shiftKey&&!g.ctrlKey){this.selectRow(e,false);a.view.focusRow(e);}},this);}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(d){if(!d.shiftKey){this.selectPrevious(d.shiftKey);}else{if(this.last!==false&&this.lastActive!==false){var a=this.last;this.selectRange(this.last,this.lastActive-1);this.grid.getView().focusRow(this.lastActive);if(a!==false){this.last=a;}}else{this.selectFirstRow();}}},down:function(d){if(!d.shiftKey){this.selectNext(d.shiftKey);}else{if(this.last!==false&&this.lastActive!==false){var a=this.last;this.selectRange(this.last,this.lastActive+1);this.grid.getView().focusRow(this.lastActive);if(a!==false){this.last=a;}}else{this.selectFirstRow();}}},scope:this});var b=this.grid.view;b.on("refresh",this.onRefresh,this);b.on("rowupdated",this.onRowUpdated,this);b.on("rowremoved",this.onRemove,this);},onRefresh:function(){var k=this.grid.store,h;var m=this.getSelections();this.clearSelections(true);for(var n=0,i=m.length;n<i;n++){var l=m[n];if((h=k.indexOfId(l.id))!=-1){this.selectRow(h,true);}}if(m.length!=this.selections.getCount()){this.fireEvent("selectionchange",this);}},onRemove:function(e,d,g){if(this.selections.remove(g)!==false){this.fireEvent("selectionchange",this);}},onRowUpdated:function(e,d,g){if(this.isSelected(g)){e.onRowSelect(d);}},selectRecords:function(g,i){if(!i){this.clearSelections();}var k=this.grid.store;for(var l=0,h=g.length;l<h;l++){this.selectRow(k.indexOf(g[l]),true);}},getCount:function(){return this.selections.length;},selectFirstRow:function(){this.selectRow(0);},selectLastRow:function(b){this.selectRow(this.grid.store.getCount()-1,b);},selectNext:function(b){if(this.hasNext()){this.selectRow(this.last+1,b);this.grid.getView().focusRow(this.last);return true;}return false;},selectPrevious:function(b){if(this.hasPrevious()){this.selectRow(this.last-1,b);this.grid.getView().focusRow(this.last);return true;}return false;},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount();},hasPrevious:function(){return !!this.last;},getSelections:function(){return[].concat(this.selections.items);},getSelected:function(){return this.selections.itemAt(0);},each:function(i,k){var l=this.getSelections();for(var g=0,h=l.length;g<h;g++){if(i.call(k||this,l[g],g)===false){return false;}}return true;},clearSelections:function(e){if(this.locked){return;}if(e!==true){var g=this.grid.store;var d=this.selections;d.each(function(a){this.deselectRow(g.indexOfId(a.id));},this);d.clear();}else{this.selections.clear();}this.last=false;},selectAll:function(){if(this.locked){return;}this.selections.clear();for(var c=0,d=this.grid.store.getCount();c<d;c++){this.selectRow(c,true);}},hasSelection:function(){return this.selections.length>0;},isSelected:function(d){var c=typeof d=="number"?this.grid.store.getAt(d):d;return(c&&this.selections.key(c.id)?true:false);},isIdSelected:function(b){return(this.selections.key(b)?true:false);},handleMouseDown:function(m,k,l){if(l.button!==0||this.isLocked()){return;}var g=this.grid.getView();if(l.shiftKey&&this.last!==false){var n=this.last;this.selectRange(n,k,l.ctrlKey);this.last=n;g.focusRow(k);}else{var e=this.isSelected(k);if(l.ctrlKey&&e){this.deselectRow(k);}else{if(!e||this.getCount()>1){this.selectRow(k,l.ctrlKey||l.shiftKey);g.focusRow(k);}}}},selectRows:function(i,h){if(!h){this.clearSelections();}for(var e=0,g=i.length;e<g;e++){this.selectRow(i[e],true);}},selectRange:function(e,g,h){if(this.locked){return;}if(!h){this.clearSelections();}if(e<=g){for(var i=e;i<=g;i++){this.selectRow(i,true);}}else{for(var i=e;i>=g;i--){this.selectRow(i,true);}}},deselectRange:function(i,e,g){if(this.locked){return;}for(var h=i;h<=e;h++){this.deselectRow(h,g);}},selectRow:function(e,h,g){if(this.locked||(e<0||e>=this.grid.store.getCount())||this.isSelected(e)){return;}var i=this.grid.store.getAt(e);if(i&&this.fireEvent("beforerowselect",this,e,h,i)!==false){if(!h||this.singleSelect){this.clearSelections();}this.selections.add(i);this.last=this.lastActive=e;if(!g){this.grid.getView().onRowSelect(e);}this.fireEvent("rowselect",this,e,i);this.fireEvent("selectionchange",this);}},deselectRow:function(d,e){if(this.locked){return;}if(this.last==d){this.last=false;}if(this.lastActive==d){this.lastActive=false;}var g=this.grid.store.getAt(d);if(g){this.selections.remove(g);if(!e){this.grid.getView().onRowDeselect(d);}this.fireEvent("rowdeselect",this,d,g);this.fireEvent("selectionchange",this);}},restoreLast:function(){if(this._last){this.last=this._last;}},acceptsNav:function(g,d,e){return !e.isHidden(d)&&e.isCellEditable(d,g);},onEditorKey:function(m,n){var p=n.getKey(),k,o=this.grid,e=o.activeEditor;var g=n.shiftKey;if(p==n.TAB){n.stopEvent();e.completeEdit();if(g){k=o.walkCells(e.row,e.col-1,-1,this.acceptsNav,this);}else{k=o.walkCells(e.row,e.col+1,1,this.acceptsNav,this);}}else{if(p==n.ENTER){n.stopEvent();e.completeEdit();if(this.moveEditorOnEnter!==false){if(g){k=o.walkCells(e.row-1,e.col,-1,this.acceptsNav,this);}else{k=o.walkCells(e.row+1,e.col,1,this.acceptsNav,this);}}}else{if(p==n.ESC){e.cancelEdit();}}}if(k){o.startEditing(k[0],k[1]);}}});Ext.grid.CellSelectionModel=function(b){Ext.apply(this,b);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.CellSelectionModel,Ext.grid.AbstractSelectionModel,{initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.getGridEl().on(Ext.isIE||Ext.isSafari3?"keydown":"keypress",this.handleKeyDown,this);var b=this.grid.view;b.on("refresh",this.onViewChange,this);b.on("rowupdated",this.onRowUpdated,this);b.on("beforerowremoved",this.clearSelections,this);b.on("beforerowsinserted",this.clearSelections,this);if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this);}},beforeEdit:function(b){this.select(b.row,b.column,false,true,b.record);},onRowUpdated:function(e,d,g){if(this.selection&&this.selection.record==g){e.onCellSelect(d,this.selection.cell[1]);}},onViewChange:function(){this.clearSelections(true);},getSelectedCell:function(){return this.selection?this.selection.cell:null;},clearSelections:function(c){var d=this.selection;if(d){if(c!==true){this.grid.view.onCellDeselect(d.cell[0],d.cell[1]);}this.selection=null;this.fireEvent("selectionchange",this,null);}},hasSelection:function(){return this.selection?true:false;},handleMouseDown:function(e,h,g,i){if(i.button!==0||this.isLocked()){return;}this.select(h,g);},select:function(k,n,h,l,m){if(this.fireEvent("beforecellselect",this,k,n)!==false){this.clearSelections();m=m||this.grid.store.getAt(k);this.selection={record:m,cell:[k,n]};if(!h){var i=this.grid.getView();i.onCellSelect(k,n);if(l!==true){i.focusCell(k,n);}}this.fireEvent("cellselect",this,k,n);this.fireEvent("selectionchange",this,this.selection);}},isSelectable:function(g,d,e){return !e.isHidden(d);},handleKeyDown:function(q){if(!q.isNavKeyPress()){return;}var r=this.grid,c=this.selection;if(!c){q.stopEvent();var e=r.walkCells(0,0,1,this.isSelectable,this);if(e){this.select(e[0],e[1]);}return;}var u=this;var g=function(a,d,b){return r.walkCells(a,d,b,u.isSelectable,u);};var t=q.getKey(),v=c.cell[0],k=c.cell[1];var s;switch(t){case q.TAB:if(q.shiftKey){s=g(v,k-1,-1);}else{s=g(v,k+1,1);}break;case q.DOWN:s=g(v+1,k,1);break;case q.UP:s=g(v-1,k,-1);break;case q.RIGHT:s=g(v,k+1,1);break;case q.LEFT:s=g(v,k-1,-1);break;case q.ENTER:if(r.isEditor&&!r.editing){r.startEditing(v,k);q.stopEvent();return;}break;}if(s){this.select(s[0],s[1]);q.stopEvent();}},acceptsNav:function(g,d,e){return !e.isHidden(d)&&e.isCellEditable(d,g);},onEditorKey:function(l,m){var e=m.getKey(),k,n=this.grid,g=n.activeEditor;if(e==m.TAB){if(m.shiftKey){k=n.walkCells(g.row,g.col-1,-1,this.acceptsNav,this);}else{k=n.walkCells(g.row,g.col+1,1,this.acceptsNav,this);}m.stopEvent();}else{if(e==m.ENTER){g.completeEdit();m.stopEvent();}else{if(e==m.ESC){m.stopEvent();g.cancelEdit();}}}if(k){n.startEditing(k[0],k[1]);}}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel();}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit");},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.on("bodyscroll",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this);}else{if(this.clicksToEdit=="auto"&&this.view.mainBody){this.view.mainBody.on("mousedown",this.onAutoEditClick,this);}this.on("celldblclick",this.onCellDblClick,this);}this.getGridEl().addClass("xedit-grid");},onCellDblClick:function(d,g,e){this.startEditing(g,e);},onAutoEditClick:function(l,e){if(l.button!==0){return;}var i=this.view.findRowIndex(e);var h=this.view.findCellIndex(e);if(i!==false&&h!==false){this.stopEditing();if(this.selModel.getSelectedCell){var k=this.selModel.getSelectedCell();if(k&&k.cell[0]===i&&k.cell[1]===h){this.startEditing(i,h);}}else{if(this.selModel.isSelected(i)){this.startEditing(i,h);}}}},onEditComplete:function(e,m,i){this.editing=false;this.activeEditor=null;e.un("specialkey",this.selModel.onEditorKey,this.selModel);var n=e.record;var k=this.colModel.getDataIndex(e.col);m=this.postEditValue(m,i,n,k);if(String(m)!==String(i)){var l={grid:this,record:n,field:k,originalValue:i,value:m,row:e.row,column:e.col,cancel:false};if(this.fireEvent("validateedit",l)!==false&&!l.cancel){n.set(k,l.value);delete l.cancel;this.fireEvent("afteredit",l);}}this.view.focusCell(e.row,e.col);},startEditing:function(k,e){this.stopEditing();if(this.colModel.isCellEditable(e,k)){this.view.ensureVisible(k,e,true);var n=this.store.getAt(k);var l=this.colModel.getDataIndex(e);var m={grid:this,record:n,field:l,value:n.data[l],row:k,column:e,cancel:false};if(this.fireEvent("beforeedit",m)!==false&&!m.cancel){this.editing=true;var i=this.colModel.getCellEditor(e,k);if(!i){return;}if(!i.rendered){i.render(this.view.getEditorParent(i));}(function(){i.row=k;i.col=e;i.record=n;i.on("complete",this.onEditComplete,this,{single:true});i.on("specialkey",this.selModel.onEditorKey,this.selModel);this.activeEditor=i;var a=this.preEditValue(n,l);i.startEdit(this.view.getCell(k,e).firstChild,a===undefined?"":a);}).defer(50,this);}}},preEditValue:function(e,g){var d=e.data[g];return this.autoEncode&&typeof d=="string"?Ext.util.Format.htmlDecode(d):d;},postEditValue:function(i,g,e,h){return this.autoEncode&&typeof i=="string"?Ext.util.Format.htmlEncode(i):i;},stopEditing:function(b){if(this.activeEditor){this.activeEditor[b===true?"cancelEdit":"completeEdit"]();}this.activeEditor=null;},onDestroy:function(){if(this.rendered){var i=this.colModel.config;for(var c=0,g=i.length;c<g;c++){var h=i[c];Ext.destroy(h.editor);}}Ext.grid.EditorGridPanel.superclass.onDestroy.call(this);}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(c,d){Ext.grid.GridEditor.superclass.constructor.call(this,c,d);c.monitorTab=false;};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=function(d,c){this.grid=d;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(c){this.setSource(c);}Ext.grid.PropertyStore.superclass.constructor.call(this);};Ext.extend(Ext.grid.PropertyStore,Ext.util.Observable,{setSource:function(g){this.source=g;this.store.removeAll();var d=[];for(var e in g){if(this.isEditableValue(g[e])){d.push(new Ext.grid.PropertyRecord({name:e,value:g[e]},e));}}this.store.loadRecords({records:d},{},true);},onUpdate:function(i,h,k){if(k==Ext.data.Record.EDIT){var g=h.data.value;var l=h.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,h.id,g,l)!==false){this.source[h.id]=g;h.commit();this.grid.fireEvent("propertychange",this.source,h.id,g,l);}else{h.reject();}}},getProperty:function(b){return this.store.getAt(b);},isEditableValue:function(b){if(Ext.isDate(b)){return true;}else{if(typeof b=="object"||typeof b=="function"){return false;}}return true;},setValue:function(c,d){this.source[c]=d;this.store.getById(c).set("value",d);},getSource:function(){return this.source;}});Ext.grid.PropertyColumnModel=function(l,g){this.grid=l;var k=Ext.grid;k.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=g;this.bselect=Ext.DomHelper.append(document.body,{tag:"select",cls:"x-grid-editor x-hide-display",children:[{tag:"option",value:"true",html:"true"},{tag:"option",value:"false",html:"false"}]});var i=Ext.form;var h=new i.Field({el:this.bselect,bselect:this.bselect,autoShow:true,getValue:function(){return this.bselect.value=="true";}});this.editors={date:new k.GridEditor(new i.DateField({selectOnFocus:true})),string:new k.GridEditor(new i.TextField({selectOnFocus:true})),number:new k.GridEditor(new i.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new k.GridEditor(h)};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this);};Ext.extend(Ext.grid.PropertyColumnModel,Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",renderDate:function(b){return b.dateFormat(this.dateFormat);},renderBool:function(b){return b?"true":"false";},isCellEditable:function(d,c){return d==1;},getRenderer:function(b){return b==1?this.renderCellDelegate:this.renderPropDelegate;},renderProp:function(b){return this.getPropertyName(b);},renderCell:function(d){var c=d;if(Ext.isDate(d)){c=this.renderDate(d);}else{if(typeof d=="boolean"){c=this.renderBool(d);}}return Ext.util.Format.htmlEncode(c);},getPropertyName:function(c){var d=this.grid.propertyNames;return d&&d[c]?d[c]:c;},getCellEditor:function(h,i){var g=this.store.getProperty(i);var k=g.data.name,l=g.data.value;if(this.grid.customEditors[k]){return this.grid.customEditors[k];}if(Ext.isDate(l)){return this.editors.date;}else{if(typeof l=="number"){return this.editors.number;}else{if(typeof l=="boolean"){return this.editors["boolean"];}else{return this.editors.string;}}}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customEditors=this.customEditors||{};this.lastEditRow=null;var c=new Ext.grid.PropertyStore(this);this.propStore=c;var d=new Ext.grid.PropertyColumnModel(this,c);c.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=d;this.ds=c.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.selModel.on("beforecellselect",function(a,b,g){if(g===0){this.startEditing.defer(200,this,[b,1]);return false;}},this);},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid");},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source);}},setSource:function(b){this.propStore.setSource(b);},getSource:function(){return this.propStore.getSource();}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.Column=function(b){Ext.apply(this,b);if(typeof this.renderer=="string"){this.renderer=Ext.util.Format[this.renderer];}if(typeof this.id=="undefined"){this.id=++Ext.grid.Column.AUTO_ID;}if(this.editor){if(this.editor.xtype&&!this.editor.events){this.editor=Ext.create(this.editor,"textfield");}}};Ext.grid.Column.AUTO_ID=0;Ext.grid.Column.prototype={isColumn:true,renderer:function(b){if(typeof b=="string"&&b.length<1){return"&#160;";}return b;},getEditor:function(b){return this.editable!==false?this.editor:null;},getCellEditor:function(c){var d=this.getEditor(c);if(d){if(!d.startEdit){if(!d.gridEditor){d.gridEditor=new Ext.grid.GridEditor(d);}return d.gridEditor;}else{if(d.startEdit){return d;}}}return null;}};Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(g){this.supr().constructor.apply(this,arguments);var i=this.trueText,h=this.falseText,e=this.undefinedText;this.renderer=function(a){if(a===undefined){return e;}if(!a||a==="false"){return h;}return i;};}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(b){this.supr().constructor.apply(this,arguments);this.renderer=Ext.util.Format.numberRenderer(this.format);}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(b){this.supr().constructor.apply(this,arguments);this.renderer=Ext.util.Format.dateRenderer(this.format);}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(d){this.supr().constructor.apply(this,arguments);var c=typeof this.tpl=="object"?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(b,a,g){return c.apply(g.data);};this.tpl=c;}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn};Ext.grid.RowNumberer=function(b){Ext.apply(this,b);if(this.rowspan){this.renderer=this.renderer.createDelegate(this);}};Ext.grid.RowNumberer.prototype={header:"",width:23,sortable:false,fixed:true,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(e,i,g,h){if(this.rowspan){i.cellAttr='rowspan="'+this.rowspan+'"';}return h+1;}};Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,dataIndex:"",id:"checker",constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);if(this.checkOnly){this.handleMouseDown=Ext.emptyFn;}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var b=this.grid.getView();b.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(b.innerHd).on("mousedown",this.onHdMouseDown,this);},this);},onMouseDown:function(i,e){if(i.button===0&&e.className=="x-grid3-row-checker"){i.stopEvent();var h=i.getTarget(".x-grid3-row");if(h){var g=h.rowIndex;if(this.isSelected(g)){this.deselectRow(g);}else{this.selectRow(g,true);}}}},onHdMouseDown:function(i,g){if(g.className=="x-grid3-hd-checker"){i.stopEvent();var e=Ext.fly(g.parentNode);var h=e.hasClass("x-grid3-hd-checker-on");if(h){e.removeClass("x-grid3-hd-checker-on");this.clearSelections();}else{e.addClass("x-grid3-hd-checker-on");this.selectAll();}}},renderer:function(d,g,e){return'<div class="x-grid3-row-checker">&#160;</div>';}});Ext.LoadMask=function(g,d){this.el=Ext.get(g);Ext.apply(this,d);if(this.store){this.store.on("beforeload",this.onBeforeLoad,this);this.store.on("load",this.onLoad,this);this.store.on("loadexception",this.onLoad,this);this.removeMask=Ext.value(this.removeMask,false);}else{var e=this.el.getUpdater();e.showLoadIndicator=false;e.on("beforeupdate",this.onBeforeLoad,this);e.on("update",this.onLoad,this);e.on("failure",this.onLoad,this);this.removeMask=Ext.value(this.removeMask,true);}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true;},enable:function(){this.disabled=false;},onLoad:function(){this.el.unmask(this.removeMask);},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls);}},show:function(){this.onBeforeLoad();},hide:function(){this.onLoad();},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("loadexception",this.onLoad,this);}else{var b=this.el.getUpdater();b.un("beforeupdate",this.onBeforeLoad,this);b.un("update",this.onLoad,this);b.un("failure",this.onLoad,this);}}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update");},onRender:function(k,h){Ext.ProgressBar.superclass.onRender.call(this,k,h);var l=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");if(h){this.el=l.insertBefore(h,{cls:this.baseCls},true);}else{this.el=l.append(k,{cls:this.baseCls},true);}if(this.id){this.el.dom.id=this.id;}var g=this.el.dom.firstChild;this.progressBar=Ext.get(g.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl;}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var i=Ext.get(g.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,i.dom.firstChild]);this.textEl.setWidth(g.offsetWidth);}this.progressBar.setHeight(g.offsetHeight);},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text);}else{this.updateText(this.text);}},updateProgress:function(d,g){this.value=d||0;if(g){this.updateText(g);}if(this.rendered){var e=Math.floor(d*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(e);if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(e);}}this.fireEvent("update",this,d,g);return this;},wait:function(c){if(!this.waitTimer){var d=this;c=c||{};this.updateText(c.text);this.waitTimer=Ext.TaskMgr.start({run:function(b){var a=c.increment||10;this.updateProgress(((((b+a)%a)+1)*(100/a))*0.01);},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||this);}this.reset();},scope:d});}return this;},isWaiting:function(){return this.waitTimer!=null;},updateText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text);}return this;},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text);}return this;},setSize:function(e,g){Ext.ProgressBar.superclass.setSize.call(this,e,g);if(this.textTopEl){var d=this.el.dom.firstChild;this.textEl.setSize(d.offsetWidth,d.offsetHeight);}this.syncProgressBar();return this;},reset:function(b){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden");}if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null;}if(b===true){this.hide();}return this;}});Ext.reg("progress",Ext.ProgressBar);Ext.debug={};(function(){var c;function d(){var i=new Ext.debug.ScriptsPanel();var a=new Ext.debug.LogPanel();var l=new Ext.debug.DomTree();var k=new Ext.TabPanel({activeTab:0,border:false,tabPosition:"bottom",items:[{title:"Debug Console",layout:"border",items:[a,i]},{title:"DOM Inspector",layout:"border",items:[l]}]});c=new Ext.Panel({id:"x-debug-browser",title:"Console",collapsible:true,animCollapse:false,style:"position:absolute;left:0;bottom:0;",height:200,logView:a,layout:"fit",tools:[{id:"close",handler:function(){c.destroy();c=null;Ext.EventManager.removeResizeListener(b);}}],items:k});c.render(document.body);c.resizer=new Ext.Resizable(c.el,{minHeight:50,handles:"n",pinned:true,transparent:true,resizeElement:function(){var e=this.proxy.getBox();this.proxy.hide();c.setHeight(e.height);return e;}});function b(){c.setWidth(Ext.getBody().getViewSize().width);}Ext.EventManager.onWindowResize(b);b();}Ext.apply(Ext,{log:function(){if(!c){d();}c.logView.log.apply(c.logView,arguments);},logf:function(a,b,i,h){Ext.log(String.format.apply(String,arguments));},dump:function(b){if(typeof b=="string"||typeof b=="number"||typeof b=="undefined"||Ext.isDate(b)){Ext.log(b);}else{if(!b){Ext.log("null");}else{if(typeof b!="object"){Ext.log("Unknown return type");}else{if(Ext.isArray(b)){Ext.log("["+b.join(",")+"]");}else{var l=["{\n"];for(var k in b){var a=typeof b[k];if(a!="function"&&a!="object"){l.push(String.format("  {0}: {1},\n",k,b[k]));}}var i=l.join("");if(i.length>3){i=i.substr(0,i.length-2);}Ext.log(i+"\n}");}}}}},_timers:{},time:function(a){a=a||"def";Ext._timers[a]=new Date().getTime();},timeEnd:function(h,a){var b=new Date().getTime();h=h||"def";var i=String.format("{0} ms",b-Ext._timers[h]);Ext._timers[h]=new Date().getTime();if(a!==false){Ext.log("Timer "+(h=="def"?i:h+": "+i));}return i;}});})();Ext.debug.ScriptsPanel=Ext.extend(Ext.Panel,{id:"x-debug-scripts",region:"east",minWidth:200,split:true,width:350,border:false,layout:"anchor",style:"border-width:0 0 0 1px;",initComponent:function(){this.scriptField=new Ext.form.TextArea({anchor:"100% -26",style:"border-width:0;"});this.trapBox=new Ext.form.Checkbox({id:"console-trap",boxLabel:"Trap Errors",checked:true});this.toolbar=new Ext.Toolbar([{text:"Run",scope:this,handler:this.evalScript},{text:"Clear",scope:this,handler:this.clear},"->",this.trapBox," "," "]);this.items=[this.toolbar,this.scriptField];Ext.debug.ScriptsPanel.superclass.initComponent.call(this);},evalScript:function(){var s=this.scriptField.getValue();if(this.trapBox.getValue()){try{var rt=eval(s);Ext.dump(rt===undefined?"(no return)":rt);}catch(e){Ext.log(e.message||e.descript);}}else{var rt=eval(s);Ext.dump(rt===undefined?"(no return)":rt);}},clear:function(){this.scriptField.setValue("");this.scriptField.focus();}});Ext.debug.LogPanel=Ext.extend(Ext.Panel,{autoScroll:true,region:"center",border:false,style:"border-width:0 1px 0 0",log:function(){var b=['<div style="padding:5px !important;border-bottom:1px solid #ccc;">',Ext.util.Format.htmlEncode(Array.prototype.join.call(arguments,", ")).replace(/\n/g,"<br />").replace(/\s/g,"&#160;"),"</div>"].join("");this.body.insertHtml("beforeend",b);this.body.scrollTo("top",100000);},clear:function(){this.body.update("");this.body.dom.scrollTop=0;}});Ext.debug.DomTree=Ext.extend(Ext.tree.TreePanel,{enableDD:false,lines:false,rootVisible:false,animate:false,hlColor:"ffff9c",autoScroll:true,region:"center",border:false,initComponent:function(){Ext.debug.DomTree.superclass.initComponent.call(this);var m=false,t;var l=/^\s*$/;var p=Ext.util.Format.htmlEncode;var n=Ext.util.Format.ellipsis;var q=/\s?([a-z\-]*)\:([^;]*)(?:[;\s\n\r]*)/gi;function s(c){if(!c||c.nodeType!=1||c==document.body||c==document){return false;}var h=[c],e=c;while((e=e.parentNode)&&e.nodeType==1&&e.tagName.toUpperCase()!="HTML"){h.unshift(e);}var d=t;for(var g=0,b=h.length;g<b;g++){d.expand();d=d.findChild("htmlNode",h[g]);if(!d){return false;}}d.select();var a=d.ui.anchor;treeEl.dom.scrollTop=Math.max(0,a.offsetTop-10);d.highlight();return true;}function o(a){var b=a.tagName;if(a.id){b+="#"+a.id;}else{if(a.className){b+="."+a.className;}}return b;}function r(c,k,v){return;if(v&&v.unframe){v.unframe();}var G={};if(k&&k.htmlNode){if(frameEl.pressed){k.frame();}if(inspecting){return;}addStyle.enable();reload.setDisabled(k.leaf);var d=k.htmlNode;stylePanel.setTitle(o(d));if(m&&!showAll.pressed){var b=d.style?d.style.cssText:"";if(b){var h;while((h=q.exec(b))!=null){G[h[1].toLowerCase()]=h[2];}}}else{if(m){var i=Ext.debug.cssList;var b=d.style,g=Ext.fly(d);if(b){for(var a=0,H=i.length;a<H;a++){var e=i[a];var E=b[e]||g.getStyle(e);if(E!=undefined&&E!==null&&E!==""){G[e]=E;}}}}else{for(var F in d){var E=d[F];if((isNaN(F+10))&&E!=undefined&&E!==null&&E!==""&&!(Ext.isGecko&&F[0]==F[0].toUpperCase())){G[F]=E;}}}}}else{if(inspecting){return;}addStyle.disable();reload.disabled();}stylesGrid.setSource(G);stylesGrid.treeNode=k;stylesGrid.view.fitColumns();}this.loader=new Ext.tree.TreeLoader();this.loader.load=function(c,b){var a=c.htmlNode==document.body;var d=c.htmlNode.childNodes;for(var g=0,e;e=d[g];g++){if(a&&e.id=="x-debug-browser"){continue;}if(e.nodeType==1){c.appendChild(new Ext.debug.HtmlNode(e));}else{if(e.nodeType==3&&!l.test(e.nodeValue)){c.appendChild(new Ext.tree.TreeNode({text:"<em>"+n(p(String(e.nodeValue)),35)+"</em>",cls:"x-tree-noicon"}));}}}b();};this.root=this.setRootNode(new Ext.tree.TreeNode("Ext"));t=this.root.appendChild(new Ext.debug.HtmlNode(document.getElementsByTagName("html")[0]));}});Ext.debug.HtmlNode=function(){var o=Ext.util.Format.htmlEncode;var i=Ext.util.Format.ellipsis;var k=/^\s*$/;var p=[{n:"id",v:"id"},{n:"className",v:"class"},{n:"name",v:"name"},{n:"type",v:"type"},{n:"src",v:"src"},{n:"href",v:"href"}];function m(a){for(var c=0,b;b=a.childNodes[c];c++){if(b.nodeType==1){return true;}}return false;}function n(g,c){var s=g.tagName.toLowerCase();var v="&lt;"+s;for(var e=0,d=p.length;e<d;e++){var b=p[e];var a=g[b.n];if(a&&!k.test(a)){v+=" "+b.v+"=&quot;<i>"+o(a)+"</i>&quot;";}}var h=g.style?g.style.cssText:"";if(h){v+=" style=&quot;<i>"+o(h.toLowerCase())+"</i>&quot;";}if(c&&g.childNodes.length>0){v+="&gt;<em>"+i(o(String(g.innerHTML)),35)+"</em>&lt;/"+s+"&gt;";}else{if(c){v+=" /&gt;";}else{v+="&gt;";}}return v;}var l=function(a){var b=!m(a);this.htmlNode=a;this.tagName=a.tagName.toLowerCase();var c={text:n(a,b),leaf:b,cls:"x-tree-noicon"};l.superclass.constructor.call(this,c);this.attributes.htmlNode=a;if(!b){this.on("expand",this.onExpand,this);this.on("collapse",this.onCollapse,this);}};Ext.extend(l,Ext.tree.AsyncTreeNode,{cls:"x-tree-noicon",preventHScroll:true,refresh:function(a){var b=!m(this.htmlNode);this.setText(n(this.htmlNode,b));if(a){Ext.fly(this.ui.textNode).highlight();}},onExpand:function(){if(!this.closeNode&&this.parentNode){this.closeNode=this.parentNode.insertBefore(new Ext.tree.TreeNode({text:"&lt;/"+this.tagName+"&gt;",cls:"x-tree-noicon"}),this.nextSibling);}else{if(this.closeNode){this.closeNode.ui.show();}}},onCollapse:function(){if(this.closeNode){this.closeNode.ui.hide();}},render:function(a){l.superclass.render.call(this,a);},highlightNode:function(){},highlight:function(){},frame:function(){this.htmlNode.style.border="1px solid #0000ff";},unframe:function(){this.htmlNode.style.border="";}});return l;}();var deconcept=deconcept||{};if(typeof deconcept.util=="undefined"||!deconcept.util){deconcept.util={};}if(typeof deconcept.SWFObjectUtil=="undefined"||!deconcept.SWFObjectUtil){deconcept.SWFObjectUtil={};}deconcept.SWFObject=function(v,x,h,u,s,q,c,t,z,w){if(!document.getElementById){return;}this.DETECT_KEY=w?w:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];if(v){this.setAttribute("swf",v);}if(x){this.setAttribute("id",x);}if(h){this.setAttribute("width",h);}if(u){this.setAttribute("height",u);}if(s){this.setAttribute("version",new deconcept.PlayerVersion(s.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(q){this.addParam("bgcolor",q);}var y=c?c:"high";this.addParam("quality",y);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var r=(t)?t:window.location;this.setAttribute("xiRedirectUrl",r);this.setAttribute("redirectUrl","");if(z){this.setAttribute("redirectUrl",z);}};deconcept.SWFObject.prototype={useExpressInstall:function(b){this.xiSWFPath=!b?"expressinstall.swf":b;this.setAttribute("useExpressInstall",true);},setAttribute:function(d,c){this.attributes[d]=c;},getAttribute:function(b){return this.attributes[b];},addParam:function(d,c){this.params[d]=c;},getParams:function(){return this.params;},addVariable:function(d,c){this.variables[d]=c;},getVariable:function(b){return this.variables[b];},getVariables:function(){return this.variables;},getVariablePairs:function(){var e=[];var d;var g=this.getVariables();for(d in g){e[e.length]=d+"="+g[d];}return e;},getSWFHTML:function(){var h="";var i={};var g="";var e="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath);}h='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';h+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';i=this.getParams();for(g in i){h+=[g]+'="'+i[g]+'" ';}e=this.getVariablePairs().join("&");if(e.length>0){h+='flashvars="'+e+'"';}h+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);}h='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';h+='<param name="movie" value="'+this.getAttribute("swf")+'" />';i=this.getParams();for(g in i){h+='<param name="'+g+'" value="'+i[g]+'" />';}e=this.getVariablePairs().join("&");if(e.length>0){h+='<param name="flashvars" value="'+e+'" />';}h+="</object>";}return h;},write:function(e){if(this.getAttribute("useExpressInstall")){var d=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(d)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var g=(typeof e=="string")?document.getElementById(e):e;g.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!==""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var k=null;var l=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var h=navigator.plugins["Shockwave Flash"];if(h&&h.description){l=new deconcept.PlayerVersion(h.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var e=3;while(k){try{e++;k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e);l=new deconcept.PlayerVersion([e,0,0]);}catch(i){k=null;}}}else{try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(i){try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");l=new deconcept.PlayerVersion([6,0,21]);k.AllowScriptAccess="always";}catch(i){if(l.major==6){return l;}}try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(i){}}if(k!==null){l=new deconcept.PlayerVersion(k.GetVariable("$version").split(" ")[1].split(","));}}}return l;};deconcept.PlayerVersion=function(b){this.major=b[0]!==null?parseInt(b[0],0):0;this.minor=b[1]!==null?parseInt(b[1],0):0;this.rev=b[2]!==null?parseInt(b[2],0):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(b){if(this.major<b.major){return false;}if(this.major>b.major){return true;}if(this.minor<b.minor){return false;}if(this.minor>b.minor){return true;}if(this.rev<b.rev){return false;}return true;};deconcept.util={getRequestParameter:function(h){var i=document.location.search||document.location.hash;if(h===null){return i;}if(i){var e=i.substring(1).split("&");for(var g=0;g<e.length;g++){if(e[g].substring(0,e[g].indexOf("="))==h){return e[g].substring((e[g].indexOf("=")+1));}}}return"";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var g=document.getElementsByTagName("OBJECT");for(var d=g.length-1;d>=0;d--){g[d].style.display="none";for(var e in g[d]){if(typeof g[d][e]=="function"){g[d][e]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.45",backgroundColor:"#ffffff",wmode:"opaque",url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,autoEl:"div",initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize");},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var e=this.getSwfId();var d=new deconcept.SWFObject(this.url,e,this.swfWidth,this.swfHeight,this.flashVersion,this.backgroundColor);if(this.expressInstall){d.useExpressInstall(this.expressInstall);}d.addParam("allowScriptAccess","always");if(this.wmode!==undefined){d.addParam("wmode",this.wmode);}d.addVariable("allowedDomain",document.location.hostname);d.addVariable("elementID",this.getId());d.addVariable("eventHandler","Ext.FlashEventProxy.onEvent");var g=d.write(this.el.dom);if(g){this.swf=Ext.getDom(e);}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID));},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID));},onFlashEvent:function(b){switch(b.type){case"swfReady":this.initSwf();return;case"log":return;}b.component=this;this.fireEvent(b.type.toLowerCase().replace(/event$/,""),b);},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=true;this.fireEvent("initialize",this);},onSwfReady:Ext.emptyFn});Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(g,d){var e=Ext.getCmp(g);if(e){e.onFlashEvent(d);}else{arguments.callee.defer(10,this,[g,d]);}}};Ext.Slider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,initComponent:function(){if(this.value===undefined){this.value=this.minValue;}Ext.Slider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.vertical){Ext.apply(this,Ext.Slider.Vertical);}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{cls:"x-slider-thumb"},{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.Slider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.thumb=this.innerEl.first();this.halfThumb=(this.vertical?this.thumb.getHeight():this.thumb.getWidth())/2;this.focusEl=this.thumb.next();this.initEvents();},initEvents:function(){this.thumb.addClassOnOver("x-slider-thumb-over");this.mon(this.el,"mousedown",this.onMouseDown,this);this.mon(this.el,"keydown",this.onKeyDown,this);this.focusEl.swallowEvent("click",true);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(this.thumb);this.on("beforedestroy",this.tracker.destroy,this.tracker);},onMouseDown:function(c){if(this.disabled){return;}if(this.clickToChange&&c.target!=this.thumb.dom){var d=this.innerEl.translatePoints(c.getXY());this.onClickChange(d);}this.focus();},onClickChange:function(b){if(b.top>this.clickRange[0]&&b.top<this.clickRange[1]){this.setValue(Math.round(this.reverseValue(b.left)),undefined,true);}},onKeyDown:function(c){if(this.disabled){c.preventDefault();return;}var d=c.getKey();switch(d){case c.UP:case c.RIGHT:c.stopEvent();if(c.ctrlKey){this.setValue(this.maxValue,undefined,true);}else{this.setValue(this.value+this.keyIncrement,undefined,true);}break;case c.DOWN:case c.LEFT:c.stopEvent();if(c.ctrlKey){this.setValue(this.minValue,undefined,true);}else{this.setValue(this.value-this.keyIncrement,undefined,true);}break;default:c.preventDefault();}},doSnap:function(e){if(!this.increment||this.increment==1||!e){return e;}var h=e,i=this.increment;var g=e%i;if(g>0){if(g>(i/2)){h=e+(i-g);}else{h=e-g;}}return h.constrain(this.minValue,this.maxValue);},afterRender:function(){Ext.Slider.superclass.afterRender.apply(this,arguments);if(this.value!==undefined){var b=this.normalizeValue(this.value);if(b!==this.value){delete this.value;this.setValue(b,false);}else{this.moveThumb(this.translateValue(b),false);}}},getRatio:function(){var d=this.innerEl.getWidth();var c=this.maxValue-this.minValue;return c==0?d:(d/c);},normalizeValue:function(b){if(typeof b!="number"){b=parseInt(b);}b=Math.round(b);b=this.doSnap(b);b=b.constrain(this.minValue,this.maxValue);return b;},setValue:function(d,e,g){d=this.normalizeValue(d);if(d!==this.value&&this.fireEvent("beforechange",this,d,this.value)!==false){this.value=d;this.moveThumb(this.translateValue(d),e!==false);this.fireEvent("change",this,d);if(g){this.fireEvent("changecomplete",this,d);}}},translateValue:function(d){var c=this.getRatio();return(d*c)-(this.minValue*c)-this.halfThumb;},reverseValue:function(c){var d=this.getRatio();return(c+this.halfThumb+(this.minValue*d))/d;},moveThumb:function(c,d){if(!d||this.animate===false){this.thumb.setLeft(c);}else{this.thumb.shift({left:c,stopFx:true,duration:0.35});}},focus:function(){this.focusEl.focus(10);},onBeforeDragStart:function(b){return !this.disabled;},onDragStart:function(b){this.thumb.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.fireEvent("dragstart",this,b);},onDrag:function(d){var c=this.innerEl.translatePoints(this.tracker.getXY());this.setValue(Math.round(this.reverseValue(c.left)),false);this.fireEvent("drag",this,d);},onDragEnd:function(b){this.thumb.removeClass("x-slider-thumb-drag");this.dragging=false;this.fireEvent("dragend",this,b);if(this.dragStartValue!=this.value){this.fireEvent("changecomplete",this,this.value);}},onResize:function(d,c){this.innerEl.setWidth(d-(this.el.getPadding("l")+this.endEl.getPadding("r")));this.syncThumb();},syncThumb:function(){if(this.rendered){this.moveThumb(this.translateValue(this.value));}},getValue:function(){return this.value;}});Ext.reg("slider",Ext.Slider);Ext.Slider.Vertical={onResize:function(d,c){this.innerEl.setHeight(c-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb();},getRatio:function(){var c=this.innerEl.getHeight();var d=this.maxValue-this.minValue;return c/d;},moveThumb:function(c,d){if(!d||this.animate===false){this.thumb.setBottom(c);}else{this.thumb.shift({bottom:c,stopFx:true,duration:0.35});}},onDrag:function(d){var g=this.innerEl.translatePoints(this.tracker.getXY());var e=this.innerEl.getHeight()-g.top;this.setValue(Math.round(e/this.getRatio()),false);this.fireEvent("drag",this,d);},onClickChange:function(c){if(c.left>this.clickRange[0]&&c.left<this.clickRange[1]){var d=this.innerEl.getHeight()-c.top;this.setValue(Math.round(d/this.getRatio()),undefined,true);}}};Ext.util.Cookies={set:function(r,p){var l=arguments;var m=arguments.length;var k=(m>2)?l[2]:null;var n=(m>3)?l[3]:"/";var q=(m>4)?l[4]:null;var o=(m>5)?l[5]:false;document.cookie=r+"="+escape(p)+((k==null)?"":("; expires="+k.toGMTString()))+((n==null)?"":("; path="+n))+((q==null)?"":("; domain="+q))+((o==true)?"; secure":"");},get:function(m){var h=m+"=";var k=h.length;var i=document.cookie.length;var l=0;var n=0;while(l<i){n=l+k;if(document.cookie.substring(l,n)==h){return Ext.util.Cookies.getCookieVal(n);}l=document.cookie.indexOf(" ",l)+1;if(l==0){break;}}return null;},clear:function(b){if(Ext.util.Cookies.get(b)){document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT";}},getCookieVal:function(c){var d=document.cookie.indexOf(";",c);if(d==-1){d=document.cookie.length;}return unescape(document.cookie.substring(c,d));}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{url:"http://yui.yahooapis.com/2.5.1/build/charts/assets/charts.swf",refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend");},setStyle:function(d,c){c=Ext.encode(c);this.swf.setStyle(d,c);},setStyles:function(b){b=Ext.encode(b);this.swf.setStyles(b);},setSeriesStyles:function(c){for(var d=0;d<c.length;d++){c[d]=Ext.encode(c[d]);}this.swf.setSeriesStyles(c);},setCategoryNames:function(b){this.swf.setCategoryNames(b);},setTipRenderer:function(c){var d=this;this.tipFnName=this.createFnProxy(function(a,h,b){var i=d.store.getAt(h);return c(d,i,h,b);},this.tipFnName);this.swf.setDataTipFunction(this.tipFnName);},setSeries:function(b){this.series=b;this.refresh();},setStore:function(d,c){if(!c&&this.store){this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this);}if(d){d=Ext.StoreMgr.lookup(d);d.on("datachanged",this.refresh,this);d.on("add",this.delayRefresh,this);d.on("remove",this.delayRefresh,this);d.on("update",this.delayRefresh,this);d.on("clear",this.refresh,this);}this.store=d;if(d&&!c){this.refresh();}},onSwfReady:function(b){Ext.chart.Chart.superclass.onSwfReady.call(this,b);this.swf.setType(this.type);if(this.chartStyle){this.setStyles(this.chartStyle);}if(this.categoryNames){this.setCategoryNames(this.categoryNames);}if(this.tipRenderer){this.setTipRenderer(this.tipRenderer);}if(!b){this.setStore(this.store,true);}this.refresh.defer(10,this);},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this);}this.refreshTask.delay(this.refreshBuffer);},refresh:function(){var o=false;var q=[],v=this.store.data.items;for(var s=0,p=v.length;s<p;s++){q[s]=v[s].data;}var t=[];var u=0;var i=null;var r=0;if(this.series){u=this.series.length;for(r=0;r<u;r++){i=this.series[r];var w={};for(var x in i){if(x=="style"&&i.style!==null){w.style=Ext.encode(i.style);o=true;}else{w[x]=i[x];}}t.push(w);}}if(u>0){for(r=0;r<u;r++){i=t[r];if(!i.type){i.type=this.type;}i.dataProvider=q;}}else{t.push({type:this.type,dataProvider:q});}this.swf.setDataProvider(t,(this.isFirst=(this.isFirst===undefined)));},createFnProxy:function(d,e){if(e){delete window[e];}var g="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);window[g]=d;return g;}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(b){Ext.chart.PieChart.superclass.onSwfReady.call(this,b);this.setDataField(this.dataField);this.setCategoryField(this.categoryField);},setDataField:function(b){this.dataField=b;this.swf.setDataField(b);},setCategoryField:function(b){this.categoryField=b;this.swf.setCategoryField(b);}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(b){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,b);if(this.xField){this.setXField(this.xField);}if(this.yField){this.setYField(this.yField);}if(this.xAxis){this.setXAxis(this.xAxis);}if(this.yAxis){this.setYAxis(this.yAxis);}},setXField:function(b){this.xField=b;this.swf.setHorizontalField(b);},setYField:function(b){this.yField=b;this.swf.setVerticalField(b);},setXAxis:function(b){this.xAxis=this.createAxis("xAxis",b);this.swf.setHorizontalAxis(this.xAxis);},setYAxis:function(b){this.yAxis=this.createAxis("yAxis",b);this.swf.setVerticalAxis(this.yAxis);},createAxis:function(l,k){var i=Ext.apply({},k),h=null;if(this[l]){h=this[l].labelFunction;}if(i.labelRenderer){var g=i.labelRenderer;i.labelFunction=this.createFnProxy(function(a){return g(a);},h);delete i.labelRenderer;}return i;}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.Axis=function(b){Ext.apply(this,b);};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true};Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear"});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true});Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null});Ext.chart.Series=function(b){Ext.apply(this,b);};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});Ext.History=(function(){var r,t;var m=false;var s;function q(){var a=top.location.href,b=a.indexOf("#");return b>=0?a.substr(b+1):null;}function v(){t.value=s;}function p(a){s=a;Ext.History.fireEvent("change",a);}function o(d){var a=['<html><body><div id="state">',d,"</div></body></html>"].join("");try{var b=r.contentWindow.document;b.open();b.write(a);b.close();return true;}catch(c){return false;}}function u(){if(!r.contentWindow||!r.contentWindow.document){setTimeout(u,10);return;}var b=r.contentWindow.document;var d=b.getElementById("state");var a=d?d.innerText:null;var c=q();setInterval(function(){b=r.contentWindow.document;d=b.getElementById("state");var e=d?d.innerText:null;var g=q();if(e!==a){a=e;p(a);top.location.hash=a;c=a;v();}else{if(g!==c){c=g;o(g);}}},50);m=true;Ext.History.fireEvent("ready",Ext.History);}function n(){s=t.value?t.value:q();if(Ext.isIE){u();}else{var a=q();setInterval(function(){var b=q();if(b!==a){a=b;p(a);v();}},50);m=true;Ext.History.fireEvent("ready",Ext.History);}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(b,a){if(m){Ext.callback(b,a,[this]);return;}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(b,a);});return;}t=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){r=Ext.getDom(Ext.History.iframeId);}this.addEvents("ready","change");if(b){this.on("ready",b,a,{single:true});}n();},add:function(a,b){if(b!==false){if(this.getToken()==a){return true;}}if(Ext.isIE){return o(a);}else{top.location.hash=a;return true;}},back:function(){history.go(-1);},forward:function(){history.go(1);},getToken:function(){return m?s:q();}};})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.BLANK_IMAGE_URL="images/s.gif";Ext.layout.BorderLayout.WARN=false;Ext.layout.BorderLayout.Region.prototype.floatingZIndex=65000;Ext.WindowMgr.zseed=65000;xds=new Ext.util.Observable();xds.types={};xds.configs={};xds.addEvents("init","newcomponent");xds.create=function(c){var d=xds.Registry.get(c.cid);return new d(c);};xds.copy=function(i){var k={};if(!i){return k;}var l,g;for(var h in i){l=typeof i[h];g=i[h];if(l==="object"){if(Ext.isArray(g)){k[h]=g.slice(0);}else{k[h]=xds.copy(g);}}else{if(l!=="function"){k[h]=g;}}}return k;};xds.initConfigs=function(l,i){var k=i[l];i[l]=new Ext.util.MixedCollection(false,function(a){return a.name;});if(k){for(var g=0,h=k.length;g<h;g++){i[l].add(new xds.Config.types[k[g].ctype](k[g]));}}};if(!Array.prototype.contains){Array.prototype.contains=function(b){return this.indexOf(b)!==-1;};}(function(){var g=Ext.Component.prototype.afterRender;var e=null;Ext.Component.override({filmCls:"",infoCls:"",afterRender:function(){g.apply(this,arguments);if(this.viewerNode){this.createFilm();this.initDesigner();}},createFilm:function(){if(!e){e=Ext.getCmp("canvas");}if(e&&e.el&&e.el.contains(this.el)){var a=this.viewerNode;this.film=e.body.createChild({cls:"el-film x-unselectable "+a.component.filmCls,id:"film-for-"+a.id,style:"z-index: "+(50000+(a.getDepth()*100)),cn:[{tag:"b",cls:a.component.flyoutCls},{tag:"i",html:a.component.dock||a.text}]});this.film.enableDisplayMode();this.syncFilm();this.on("resize",this.syncFilm,this);this.on("destroy",this.destroyDesigner,this);}},onFilmClick:function(){xds.fireEvent("componentclick",{component:this.viewerNode.attributes.config,node:this.viewerNode});},syncFilm:function(){var a;if(this.film&&(a=this.getFilmEl())){var b=a.getRegion();this.film.setRegion(b);this.film.lastRegion=b;}},getFilmEl:function(){var a=this.getPositionEl();if(this.fieldLabel){return this.el.up(".x-form-item")||a;}return a;},destroyDesigner:function(){this.film.remove();},createFloater:function(a,b,c){this.film.createChild({cls:"xds-floater",cn:{cls:"xds-floater-left",cn:{cls:"xds-floater-right",cn:{cls:"xds-floater-center xds-child-target x-unselectable",id:"chld-for-"+a,cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,unselectable:"on",cls:c},{tag:"span",unselectable:"on",html:b}]}}}});},initDesigner:function(){}});var d=Ext.form.Field.prototype.initEvents;Ext.form.Field.prototype.initEvents=function(){d.apply(this,arguments);if(this.bindTo){var c=this.bindTo;var b=c.component.getConfigObject(c.name);var a=b.getValue(c.component);if(a===undefined){a=c.defaultValue||b.defaultValue;}this.setValue(c.get?c.get(this):a);this.on(c.event||"change",c.set||function(){var i=this.getValue();if(i===c.clear){i=undefined;}b.setValue(c.component,i);if(xds.active.component==c.component){xds.props.setValue(c.propId||c.name,i);}});}};})();Ext.tree.TreeNode.prototype.setNodeId=function(g){var d=this;this.id=g;this.attributes.id=g;if(this.component){this.component.id=g;}var e=this.getOwnerTree();if(e){delete e.nodeHash[d];e.nodeHash[g]=this;}};(function(){var d=Ext.lib.Event;var c=d.addListener;d.suspend=function(){d.addListener=d.on=Ext.emptyFn;};d.resume=function(){d.addListener=d.on=c;};})();Ext.menu.Menu2=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,hidden:true,constructor:function(b){if(Ext.isArray(b)){b={items:b};}Ext.apply(this,b);this.addEvents("beforeshow","beforehide","show","hide","click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);Ext.menu.Menu.superclass.constructor.call(this);},onRender:function(c,d){if(!c){c=Ext.getBody();}this.el=new Ext.Layer({shadow:this.shadow,dh:{id:this.getId(),cls:"x-menu x-layer "+(this.cls?(this.cls+""):"")+(this.plain?" x-menu-plain":""),cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]},constrain:false,parentEl:c,zindex:this.zIndex||15000});this.setLayout(new Ext.layout.ContainerLayout({renderItem:this.renderItem}));Ext.menu.Menu.superclass.onRender.apply(this,arguments);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this);}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.ul.on("click",this.onClick,this);this.ul.on("mouseover",this.onMouseOver,this);this.ul.on("mouseout",this.onMouseOut,this);},getLayoutTarget:function(){return this.ul;},renderItem:function(i,c,k){if(i&&!i.rendered){var h=document.createElement("li");h.className="x-menu-list-item";i.render(h,this.container);if(typeof c=="number"){c=k.dom.childNodes[c];}k.dom.insertBefore(h,c||null);if(this.extraCls){var l=i.getPositionEl?i.getPositionEl():i;l.addClass(this.extraCls);}}else{if(i&&!this.isValidParent(i,k)){if(this.extraCls){i.addClass(this.extraCls);}if(typeof c=="number"){c=k.dom.childNodes[c];}k.dom.insertBefore(i.getActionEl().dom,c||null);}}},autoWidth:function(){var h=this.el,i=this.ul;if(!h){return;}var g=this.width;if(g){h.setWidth(g);}else{if(Ext.isIE){h.setWidth(this.minWidth);var e=h.dom.offsetWidth;h.setWidth(i.getWidth()+h.getFrameWidth("lr"));}}},delayAutoWidth:function(){if(this.el){if(!this.awTask){this.awTask=new Ext.util.DelayedTask(this.autoWidth,this);}this.awTask.delay(20);}},findTargetItem:function(c){var d=c.getTarget(".x-menu-list-item",this.ul,true);if(d&&d.menuItemId){return this.items.get(d.menuItemId);}},onClick:function(c){var d;if(d=this.findTargetItem(c)){d.onClick(c);this.fireEvent("click",this,d,c);}},setActiveItem:function(d,c){if(d!=this.activeItem){if(this.activeItem){this.activeItem.deactivate();}this.activeItem=d;d.activate(c);}else{if(c){d.expandMenu();}}},tryActivate:function(k,l){var h=this.items;for(var n=k,i=h.length;n>=0&&n<i;n+=l){var m=h.get(n);if(!m.disabled&&m.canActivate){this.setActiveItem(m,false);return m;}}return false;},onMouseOver:function(c){var d;if(d=this.findTargetItem(c)){if(d.canActivate&&!d.disabled){this.setActiveItem(d,true);}}this.fireEvent("mouseover",this,c,d);},onMouseOut:function(c){var d;if(d=this.findTargetItem(c)){if(d==this.activeItem&&d.shouldDeactivate(c)){this.activeItem.deactivate();delete this.activeItem;}}this.fireEvent("mouseout",this,c,d);},show:function(d,g,e){this.parentMenu=e;if(!this.el){this.render();}this.fireEvent("beforeshow",this);this.showAt(this.el.getAlignToXY(d,g||this.defaultAlign),e,false);},showAt:function(g,d,e){this.parentMenu=d;if(!this.el){this.render();}if(e!==false){this.fireEvent("beforeshow",this);g=this.el.adjustForConstraints(g);}this.el.setXY(g);this.el.show();this.hidden=false;this.focus();this.fireEvent("show",this);},focus:function(){if(!this.hidden){this.doFocus.defer(50,this);}},doFocus:function(){if(!this.hidden){this.focusEl.focus();}},hide:function(b){if(this.el&&this.isVisible()){this.fireEvent("beforehide",this);if(this.activeItem){this.activeItem.deactivate();this.activeItem=null;}this.el.hide();this.hidden=true;this.fireEvent("hide",this);}if(b===true&&this.parentMenu){this.parentMenu.hide(true);}},add:function(){var l=arguments,a=l.length,h;for(var k=0;k<a;k++){var i=l[k];if(i.render){h=this.addItem(i);}else{if(typeof i=="string"){if(i=="separator"||i=="-"){h=this.addSeparator();}else{h=this.addText(i);}}else{if(i.tagName||i.el){h=this.addElement(i);}else{if(typeof i=="object"){Ext.applyIf(i,this.defaults);h=this.addMenuItem(i);}}}}}return h;},getEl:function(){if(!this.el){this.render();}return this.el;},addSeparator:function(){return this.addItem(new Ext.menu.Separator());},addElement:function(b){return this.addItem(new Ext.menu.BaseItem(b));},addItem:function(b){Ext.menu.Menu.superclass.add.call(this,b);if(this.rendered){this.doLayout();}return b;},addMenuItem:function(b){if(!(b instanceof Ext.menu.Item)){if(typeof b.checked=="boolean"){b=new Ext.menu.CheckItem(b);}else{b=new Ext.menu.Item(b);}}return this.addItem(b);},addText:function(b){return this.addItem(new Ext.menu.TextItem(b));},insert:function(d,c){Ext.menu.Menu.superclass.insert.apply(this,arguments);if(this.rendered){this.doLayout();}return c;},remove:function(b){Ext.menu.Menu.superclass.remove.call(this,b,true);if(this.rendered){this.doLayout();}},removeAll:function(){if(this.items){var b;while(b=this.items.first()){this.remove(b);}}},onDestroy:function(){Ext.menu.Menu.superclass.onDestroy.apply(this,arguments);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable();}if(this.ul){this.ul.removeAllListeners();}}});Ext.menu.MenuNav2=function(b){Ext.menu.MenuNav.superclass.constructor.call(this,b.el);this.scope=this.menu=b;};Ext.extend(Ext.menu.MenuNav2,Ext.KeyNav,{doRelay:function(g,d){var e=g.getKey();if(!this.menu.activeItem&&g.isNavKeyPress()&&e!=g.SPACE&&e!=g.RETURN){this.menu.tryActivate(0,1);return false;}return d.call(this.scope||this,g,this.menu);},up:function(c,d){if(!d.tryActivate(d.items.indexOf(d.activeItem)-1,-1)){d.tryActivate(d.items.length-1,-1);}},down:function(c,d){if(!d.tryActivate(d.items.indexOf(d.activeItem)+1,1)){d.tryActivate(0,1);}},right:function(c,d){if(d.activeItem){d.activeItem.expandMenu(true);}},left:function(c,d){d.hide();if(d.parentMenu&&d.parentMenu.activeItem){d.parentMenu.activeItem.activate();}},enter:function(c,d){if(d.activeItem){c.stopPropagation();d.activeItem.onClick(c);d.fireEvent("click",this,d.activeItem);return true;}}});Ext.grid.GridView.override({focusCell:function(g,e,d){this.syncFocusEl(this.ensureVisible(g,e,d));if(Ext.isGecko){this.focusEl.focus();}else{this.focusEl.focus.defer(1,this.focusEl);}},resolveCell:function(i,l,k){if(typeof i!="number"){i=i.rowIndex;}if(!this.ds){return null;}if(i<0||i>=this.ds.getCount()){return null;}l=(l!==undefined?l:0);var g=this.getRow(i),h;if(!(k===false&&l===0)){while(this.cm.isHidden(l)){l++;}h=this.getCell(i,l);}return{row:g,cell:h};},getResolvedXY:function(g){if(!g){return null;}var c=this.scroller.dom,h=g.cell,i=g.row;return h?Ext.fly(h).getXY():[c.scrollLeft+this.el.getX(),Ext.fly(i).getY()];},syncFocusEl:function(h,g,i){var e=h;if(!Ext.isArray(e)){h=Math.min(h,Math.max(0,this.getRows().length-1));e=this.getResolvedXY(this.resolveCell(h,g,i));}this.focusEl.setXY(e||this.scroller.getXY());},ensureVisible:function(H,C,D){var J=this.resolveCell(H,C,D);if(!J||!J.row){return;}var y=J.row,B=J.cell;var v=this.scroller.dom;var I=0;var E=y,p=this.el.dom;while(E&&E!=p){I+=E.offsetTop;E=E.offsetParent;}I-=this.mainHd.dom.offsetHeight;var c=I+y.offsetHeight;var G=v.clientHeight;var p=parseInt(v.scrollTop,10);var w=p+G;if(I<p){v.scrollTop=I;}else{if(c>w){v.scrollTop=c-G;}}if(D!==false){var x=parseInt(B.offsetLeft,10);var z=x+B.offsetWidth;var A=parseInt(v.scrollLeft,10);var F=A+v.clientWidth;if(x<A){v.scrollLeft=x;}else{if(z>F){v.scrollLeft=z-v.clientWidth;}}}return this.getResolvedXY(J);}});