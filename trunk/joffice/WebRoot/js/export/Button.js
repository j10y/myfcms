Ext.ux.Exporter.Button=Ext.extend(Ext.Button,{constructor:function(b){b=b||{};Ext.applyIf(b,{exportFunction:"exportGrid",disabled:true,text:"Download",cls:"download"});if(b.store==undefined&&b.component!=undefined){Ext.applyIf(b,{store:b.component.store});}else{Ext.applyIf(b,{component:{store:b.store}});}Ext.ux.Exporter.Button.superclass.constructor.call(this,b);if(this.store&&Ext.isFunction(this.store.on)){var a=function(){this.getEl().child("a",true).href="data:application/vnd.ms-excel;base64,"+Ext.ux.Exporter[b.exportFunction](this.component,null,b);this.enable();};if(this.el){a.call(this);}else{this.on("render",a,this);}this.store.on("load",a,this);}},template:new Ext.Template('<table border="0" cellpadding="0" cellspacing="0" class="x-btn-wrap"><tbody><tr>','<td class="x-btn-left"><i> </i></td><td class="x-btn-center"><a class="x-btn-text" href="{1}" target="{2}">{0}</a></td><td class="x-btn-right"><i> </i></td>',"</tr></tbody></table>"),onRender:function(c,a){var b,e=[this.text||" ",this.href,this.target||"_self"];if(a){b=this.template.insertBefore(a,e,true);}else{b=this.template.append(c,e,true);}var d=b.child("a:first");d.on("focus",this.onFocus,this);d.on("blur",this.onBlur,this);this.initButtonEl(b,d);Ext.ButtonToggleMgr.register(this);},onClick:function(a){if(a.button!=0){return;}if(!this.disabled){this.fireEvent("click",this,a);if(this.handler){this.handler.call(this.scope||this,this,a);}}}});Ext.reg("exportbutton",Ext.ux.Exporter.Button);