FCKTools.CancelEvent=function(a){if(a){a.preventDefault();}};FCKTools.DisableSelection=function(a){if(FCKBrowserInfo.IsGecko){a.style.MozUserSelect="none";}else{if(FCKBrowserInfo.IsSafari){a.style.KhtmlUserSelect="none";}else{a.style.userSelect="none";}}};FCKTools._AppendStyleSheet=function(b,a){var c=b.createElement("LINK");c.rel="stylesheet";c.type="text/css";c.href=a;b.getElementsByTagName("HEAD")[0].appendChild(c);return c;};FCKTools.AppendStyleString=function(a,c){if(!c){return null;}var b=a.createElement("STYLE");b.appendChild(a.createTextNode(c));a.getElementsByTagName("HEAD")[0].appendChild(b);return b;};FCKTools.ClearElementAttributes=function(b){for(var a=0;a<b.attributes.length;a++){b.removeAttribute(b.attributes[a].name,0);}};FCKTools.GetAllChildrenIds=function(a){var c=new Array();var b=function(f){for(var e=0;e<f.childNodes.length;e++){var d=f.childNodes[e].id;if(d&&d.length>0){c[c.length]=d;}b(f.childNodes[e]);}};b(a);return c;};FCKTools.RemoveOuterTags=function(c){var b=c.ownerDocument.createDocumentFragment();for(var a=0;a<c.childNodes.length;a++){b.appendChild(c.childNodes[a].cloneNode(true));}c.parentNode.replaceChild(b,c);};FCKTools.CreateXmlObject=function(a){switch(a){case"XmlHttp":return new XMLHttpRequest();case"DOMDocument":var b=(new DOMParser()).parseFromString("<tmp></tmp>","text/xml");FCKDomTools.RemoveNode(b.firstChild);return b;}return null;};FCKTools.GetScrollPosition=function(a){return{X:a.pageXOffset,Y:a.pageYOffset};};FCKTools.AddEventListener=function(c,a,b){c.addEventListener(a,b,false);};FCKTools.RemoveEventListener=function(c,a,b){c.removeEventListener(a,b,false);};FCKTools.AddEventListenerEx=function(d,a,b,c){d.addEventListener(a,function(f){b.apply(d,[f].concat(c||[]));},false);};FCKTools.GetViewPaneSize=function(a){return{Width:a.innerWidth,Height:a.innerHeight};};FCKTools.SaveStyles=function(c){var d=FCKTools.ProtectFormStyles(c);var b=new Object();if(c.className.length>0){b.Class=c.className;c.className="";}var a=c.getAttribute("style");if(a&&a.length>0){b.Inline=a;c.setAttribute("style","",0);}FCKTools.RestoreFormStyles(c,d);return b;};FCKTools.RestoreStyles=function(b,a){var c=FCKTools.ProtectFormStyles(b);b.className=a.Class||"";if(a.Inline){b.setAttribute("style",a.Inline,0);}else{b.removeAttribute("style",0);}FCKTools.RestoreFormStyles(b,c);};FCKTools.RegisterDollarFunction=function(a){a.$=function(b){return a.document.getElementById(b);};};FCKTools.AppendElement=function(b,a){return b.appendChild(b.ownerDocument.createElement(a));};FCKTools.GetElementPosition=function(e,b){var i={X:0,Y:0};var a=b||window;var f=FCKTools.GetElementWindow(e);var d=null;while(e){var h=f.getComputedStyle(e,"").position;if(h&&h!="static"&&e.style.zIndex!=FCKConfig.FloatingPanelsZIndex){break;}i.X+=e.offsetLeft-e.scrollLeft;i.Y+=e.offsetTop-e.scrollTop;if(!FCKBrowserInfo.IsOpera){var g=d;while(g&&g!=e){i.X-=g.scrollLeft;i.Y-=g.scrollTop;g=g.parentNode;}}d=e;if(e.offsetParent){e=e.offsetParent;}else{if(f!=a){e=f.frameElement;d=null;if(e){f=FCKTools.GetElementWindow(e);}}else{i.X+=e.scrollLeft;i.Y+=e.scrollTop;break;}}}return i;};